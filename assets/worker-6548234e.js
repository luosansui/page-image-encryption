(function(){"use strict";var W=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ve(c){if(c.__esModule)return c;var C=c.default;if(typeof C=="function"){var s=function o(){if(this instanceof o){var m=[null];m.push.apply(m,arguments);var d=Function.bind.apply(C,m);return new d}return C.apply(this,arguments)};s.prototype=C.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(c).forEach(function(o){var m=Object.getOwnPropertyDescriptor(c,o);Object.defineProperty(s,o,m.get?m:{enumerable:!0,get:function(){return c[o]}})}),s}var or={},de={get exports(){return or},set exports(c){or=c}};(function(c,C){(function(s){c.exports=s()})(function(s){var o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function m(l,n){var r=l[0],e=l[1],A=l[2],u=l[3];r+=(e&A|~e&u)+n[0]-680876936|0,r=(r<<7|r>>>25)+e|0,u+=(r&e|~r&A)+n[1]-389564586|0,u=(u<<12|u>>>20)+r|0,A+=(u&r|~u&e)+n[2]+606105819|0,A=(A<<17|A>>>15)+u|0,e+=(A&u|~A&r)+n[3]-1044525330|0,e=(e<<22|e>>>10)+A|0,r+=(e&A|~e&u)+n[4]-176418897|0,r=(r<<7|r>>>25)+e|0,u+=(r&e|~r&A)+n[5]+1200080426|0,u=(u<<12|u>>>20)+r|0,A+=(u&r|~u&e)+n[6]-1473231341|0,A=(A<<17|A>>>15)+u|0,e+=(A&u|~A&r)+n[7]-45705983|0,e=(e<<22|e>>>10)+A|0,r+=(e&A|~e&u)+n[8]+1770035416|0,r=(r<<7|r>>>25)+e|0,u+=(r&e|~r&A)+n[9]-1958414417|0,u=(u<<12|u>>>20)+r|0,A+=(u&r|~u&e)+n[10]-42063|0,A=(A<<17|A>>>15)+u|0,e+=(A&u|~A&r)+n[11]-1990404162|0,e=(e<<22|e>>>10)+A|0,r+=(e&A|~e&u)+n[12]+1804603682|0,r=(r<<7|r>>>25)+e|0,u+=(r&e|~r&A)+n[13]-40341101|0,u=(u<<12|u>>>20)+r|0,A+=(u&r|~u&e)+n[14]-1502002290|0,A=(A<<17|A>>>15)+u|0,e+=(A&u|~A&r)+n[15]+1236535329|0,e=(e<<22|e>>>10)+A|0,r+=(e&u|A&~u)+n[1]-165796510|0,r=(r<<5|r>>>27)+e|0,u+=(r&A|e&~A)+n[6]-1069501632|0,u=(u<<9|u>>>23)+r|0,A+=(u&e|r&~e)+n[11]+643717713|0,A=(A<<14|A>>>18)+u|0,e+=(A&r|u&~r)+n[0]-373897302|0,e=(e<<20|e>>>12)+A|0,r+=(e&u|A&~u)+n[5]-701558691|0,r=(r<<5|r>>>27)+e|0,u+=(r&A|e&~A)+n[10]+38016083|0,u=(u<<9|u>>>23)+r|0,A+=(u&e|r&~e)+n[15]-660478335|0,A=(A<<14|A>>>18)+u|0,e+=(A&r|u&~r)+n[4]-405537848|0,e=(e<<20|e>>>12)+A|0,r+=(e&u|A&~u)+n[9]+568446438|0,r=(r<<5|r>>>27)+e|0,u+=(r&A|e&~A)+n[14]-1019803690|0,u=(u<<9|u>>>23)+r|0,A+=(u&e|r&~e)+n[3]-187363961|0,A=(A<<14|A>>>18)+u|0,e+=(A&r|u&~r)+n[8]+1163531501|0,e=(e<<20|e>>>12)+A|0,r+=(e&u|A&~u)+n[13]-1444681467|0,r=(r<<5|r>>>27)+e|0,u+=(r&A|e&~A)+n[2]-51403784|0,u=(u<<9|u>>>23)+r|0,A+=(u&e|r&~e)+n[7]+1735328473|0,A=(A<<14|A>>>18)+u|0,e+=(A&r|u&~r)+n[12]-1926607734|0,e=(e<<20|e>>>12)+A|0,r+=(e^A^u)+n[5]-378558|0,r=(r<<4|r>>>28)+e|0,u+=(r^e^A)+n[8]-2022574463|0,u=(u<<11|u>>>21)+r|0,A+=(u^r^e)+n[11]+1839030562|0,A=(A<<16|A>>>16)+u|0,e+=(A^u^r)+n[14]-35309556|0,e=(e<<23|e>>>9)+A|0,r+=(e^A^u)+n[1]-1530992060|0,r=(r<<4|r>>>28)+e|0,u+=(r^e^A)+n[4]+1272893353|0,u=(u<<11|u>>>21)+r|0,A+=(u^r^e)+n[7]-155497632|0,A=(A<<16|A>>>16)+u|0,e+=(A^u^r)+n[10]-1094730640|0,e=(e<<23|e>>>9)+A|0,r+=(e^A^u)+n[13]+681279174|0,r=(r<<4|r>>>28)+e|0,u+=(r^e^A)+n[0]-358537222|0,u=(u<<11|u>>>21)+r|0,A+=(u^r^e)+n[3]-722521979|0,A=(A<<16|A>>>16)+u|0,e+=(A^u^r)+n[6]+76029189|0,e=(e<<23|e>>>9)+A|0,r+=(e^A^u)+n[9]-640364487|0,r=(r<<4|r>>>28)+e|0,u+=(r^e^A)+n[12]-421815835|0,u=(u<<11|u>>>21)+r|0,A+=(u^r^e)+n[15]+530742520|0,A=(A<<16|A>>>16)+u|0,e+=(A^u^r)+n[2]-995338651|0,e=(e<<23|e>>>9)+A|0,r+=(A^(e|~u))+n[0]-198630844|0,r=(r<<6|r>>>26)+e|0,u+=(e^(r|~A))+n[7]+1126891415|0,u=(u<<10|u>>>22)+r|0,A+=(r^(u|~e))+n[14]-1416354905|0,A=(A<<15|A>>>17)+u|0,e+=(u^(A|~r))+n[5]-57434055|0,e=(e<<21|e>>>11)+A|0,r+=(A^(e|~u))+n[12]+1700485571|0,r=(r<<6|r>>>26)+e|0,u+=(e^(r|~A))+n[3]-1894986606|0,u=(u<<10|u>>>22)+r|0,A+=(r^(u|~e))+n[10]-1051523|0,A=(A<<15|A>>>17)+u|0,e+=(u^(A|~r))+n[1]-2054922799|0,e=(e<<21|e>>>11)+A|0,r+=(A^(e|~u))+n[8]+1873313359|0,r=(r<<6|r>>>26)+e|0,u+=(e^(r|~A))+n[15]-30611744|0,u=(u<<10|u>>>22)+r|0,A+=(r^(u|~e))+n[6]-1560198380|0,A=(A<<15|A>>>17)+u|0,e+=(u^(A|~r))+n[13]+1309151649|0,e=(e<<21|e>>>11)+A|0,r+=(A^(e|~u))+n[4]-145523070|0,r=(r<<6|r>>>26)+e|0,u+=(e^(r|~A))+n[11]-1120210379|0,u=(u<<10|u>>>22)+r|0,A+=(r^(u|~e))+n[2]+718787259|0,A=(A<<15|A>>>17)+u|0,e+=(u^(A|~r))+n[9]-343485551|0,e=(e<<21|e>>>11)+A|0,l[0]=r+l[0]|0,l[1]=e+l[1]|0,l[2]=A+l[2]|0,l[3]=u+l[3]|0}function d(l){var n=[],r;for(r=0;r<64;r+=4)n[r>>2]=l.charCodeAt(r)+(l.charCodeAt(r+1)<<8)+(l.charCodeAt(r+2)<<16)+(l.charCodeAt(r+3)<<24);return n}function b(l){var n=[],r;for(r=0;r<64;r+=4)n[r>>2]=l[r]+(l[r+1]<<8)+(l[r+2]<<16)+(l[r+3]<<24);return n}function x(l){var n=l.length,r=[1732584193,-271733879,-1732584194,271733878],e,A,u,E,w,Q;for(e=64;e<=n;e+=64)m(r,d(l.substring(e-64,e)));for(l=l.substring(e-64),A=l.length,u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<A;e+=1)u[e>>2]|=l.charCodeAt(e)<<(e%4<<3);if(u[e>>2]|=128<<(e%4<<3),e>55)for(m(r,u),e=0;e<16;e+=1)u[e]=0;return E=n*8,E=E.toString(16).match(/(.*?)(.{0,8})$/),w=parseInt(E[2],16),Q=parseInt(E[1],16)||0,u[14]=w,u[15]=Q,m(r,u),r}function h(l){var n=l.length,r=[1732584193,-271733879,-1732584194,271733878],e,A,u,E,w,Q;for(e=64;e<=n;e+=64)m(r,b(l.subarray(e-64,e)));for(l=e-64<n?l.subarray(e-64):new Uint8Array(0),A=l.length,u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<A;e+=1)u[e>>2]|=l[e]<<(e%4<<3);if(u[e>>2]|=128<<(e%4<<3),e>55)for(m(r,u),e=0;e<16;e+=1)u[e]=0;return E=n*8,E=E.toString(16).match(/(.*?)(.{0,8})$/),w=parseInt(E[2],16),Q=parseInt(E[1],16)||0,u[14]=w,u[15]=Q,m(r,u),r}function t(l){var n="",r;for(r=0;r<4;r+=1)n+=o[l>>r*8+4&15]+o[l>>r*8&15];return n}function a(l){var n;for(n=0;n<l.length;n+=1)l[n]=t(l[n]);return l.join("")}a(x("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function l(n,r){return n=n|0||0,n<0?Math.max(n+r,0):Math.min(n,r)}ArrayBuffer.prototype.slice=function(n,r){var e=this.byteLength,A=l(n,e),u=e,E,w,Q,B;return r!==s&&(u=l(r,e)),A>u?new ArrayBuffer(0):(E=u-A,w=new ArrayBuffer(E),Q=new Uint8Array(w),B=new Uint8Array(this,A,E),Q.set(B),w)}}();function f(l){return/[\u0080-\uFFFF]/.test(l)&&(l=unescape(encodeURIComponent(l))),l}function i(l,n){var r=l.length,e=new ArrayBuffer(r),A=new Uint8Array(e),u;for(u=0;u<r;u+=1)A[u]=l.charCodeAt(u);return n?A:e}function _(l){return String.fromCharCode.apply(null,new Uint8Array(l))}function v(l,n,r){var e=new Uint8Array(l.byteLength+n.byteLength);return e.set(new Uint8Array(l)),e.set(new Uint8Array(n),l.byteLength),r?e:e.buffer}function p(l){var n=[],r=l.length,e;for(e=0;e<r-1;e+=2)n.push(parseInt(l.substr(e,2),16));return String.fromCharCode.apply(String,n)}function g(){this.reset()}return g.prototype.append=function(l){return this.appendBinary(f(l)),this},g.prototype.appendBinary=function(l){this._buff+=l,this._length+=l.length;var n=this._buff.length,r;for(r=64;r<=n;r+=64)m(this._hash,d(this._buff.substring(r-64,r)));return this._buff=this._buff.substring(r-64),this},g.prototype.end=function(l){var n=this._buff,r=n.length,e,A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u;for(e=0;e<r;e+=1)A[e>>2]|=n.charCodeAt(e)<<(e%4<<3);return this._finish(A,r),u=a(this._hash),l&&(u=p(u)),this.reset(),u},g.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},g.prototype.setState=function(l){return this._buff=l.buff,this._length=l.length,this._hash=l.hash,this},g.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},g.prototype._finish=function(l,n){var r=n,e,A,u;if(l[r>>2]|=128<<(r%4<<3),r>55)for(m(this._hash,l),r=0;r<16;r+=1)l[r]=0;e=this._length*8,e=e.toString(16).match(/(.*?)(.{0,8})$/),A=parseInt(e[2],16),u=parseInt(e[1],16)||0,l[14]=A,l[15]=u,m(this._hash,l)},g.hash=function(l,n){return g.hashBinary(f(l),n)},g.hashBinary=function(l,n){var r=x(l),e=a(r);return n?p(e):e},g.ArrayBuffer=function(){this.reset()},g.ArrayBuffer.prototype.append=function(l){var n=v(this._buff.buffer,l,!0),r=n.length,e;for(this._length+=l.byteLength,e=64;e<=r;e+=64)m(this._hash,b(n.subarray(e-64,e)));return this._buff=e-64<r?new Uint8Array(n.buffer.slice(e-64)):new Uint8Array(0),this},g.ArrayBuffer.prototype.end=function(l){var n=this._buff,r=n.length,e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],A,u;for(A=0;A<r;A+=1)e[A>>2]|=n[A]<<(A%4<<3);return this._finish(e,r),u=a(this._hash),l&&(u=p(u)),this.reset(),u},g.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.ArrayBuffer.prototype.getState=function(){var l=g.prototype.getState.call(this);return l.buff=_(l.buff),l},g.ArrayBuffer.prototype.setState=function(l){return l.buff=i(l.buff,!0),g.prototype.setState.call(this,l)},g.ArrayBuffer.prototype.destroy=g.prototype.destroy,g.ArrayBuffer.prototype._finish=g.prototype._finish,g.ArrayBuffer.hash=function(l,n){var r=h(new Uint8Array(l)),e=a(r);return n?p(e):e},g})})(de);var sr=or;const n0=(c,C=!1,s=!1,o=13)=>{const m=o>13?13:o,b=(s?sr.hash(c):c).slice(0,m),x=parseInt(b,16);return C?x/parseInt("f".repeat(m),16):x},pe=(c,C)=>{const s=c.split(".");if(s.length<2)return c;const o=s.slice(0,-1).join(".");let m;switch(C){case"image/png":m="png";break;case"image/jpeg":m="jpg";break;case"image/bmp":m="bmp";break;case"image/webp":m="webp";break;default:m=s[s.length-1]}return`${o}.${m}`};function x0(c){throw new Error('Could not dynamically require "'+c+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fr={},ge={get exports(){return fr},set exports(c){fr=c}};/*!

	pica
	https://github.com/nodeca/pica

	*/(function(c,C){(function(s){c.exports=s()})(function(){return function(){function s(o,m,d){function b(t,a){if(!m[t]){if(!o[t]){var f=typeof x0=="function"&&x0;if(!a&&f)return f(t,!0);if(x)return x(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var _=m[t]={exports:{}};o[t][0].call(_.exports,function(v){var p=o[t][1][v];return b(p||v)},_,_.exports,s,o,m,d)}return m[t].exports}for(var x=typeof x0=="function"&&x0,h=0;h<d.length;h++)b(d[h]);return b}return s}()({1:[function(s,o,m){var d=s("multimath"),b=s("./mm_unsharp_mask"),x=s("./mm_resize");function h(t){var a=t||[],f={js:a.indexOf("js")>=0,wasm:a.indexOf("wasm")>=0};d.call(this,f),this.features={js:f.js,wasm:f.wasm&&this.has_wasm()},this.use(b),this.use(x)}h.prototype=Object.create(d.prototype),h.prototype.constructor=h,h.prototype.resizeAndUnsharp=function(a,f){var i=this.resize(a,f);return a.unsharpAmount&&this.unsharp_mask(i,a.toWidth,a.toHeight,a.unsharpAmount,a.unsharpRadius,a.unsharpThreshold),i},o.exports=h},{"./mm_resize":4,"./mm_unsharp_mask":9,multimath:19}],2:[function(s,o,m){function d(f){return f<0?0:f>255?255:f}function b(f){return f>=0?f:0}function x(f,i,_,v,p,g){var l,n,r,e,A,u,E,w,Q,B,y,H=0,D=0;for(Q=0;Q<v;Q++){for(A=0,B=0;B<p;B++){for(u=g[A++],E=g[A++],w=H+u*4|0,l=n=r=e=0;E>0;E--)y=g[A++],e=e+y*f[w+3]|0,r=r+y*f[w+2]|0,n=n+y*f[w+1]|0,l=l+y*f[w]|0,w=w+4|0;i[D+3]=b(e>>7),i[D+2]=b(r>>7),i[D+1]=b(n>>7),i[D]=b(l>>7),D=D+v*4|0}D=(Q+1)*4|0,H=(Q+1)*_*4|0}}function h(f,i,_,v,p,g){var l,n,r,e,A,u,E,w,Q,B,y,H=0,D=0;for(Q=0;Q<v;Q++){for(A=0,B=0;B<p;B++){for(u=g[A++],E=g[A++],w=H+u*4|0,l=n=r=e=0;E>0;E--)y=g[A++],e=e+y*f[w+3]|0,r=r+y*f[w+2]|0,n=n+y*f[w+1]|0,l=l+y*f[w]|0,w=w+4|0;l>>=7,n>>=7,r>>=7,e>>=7,i[D+3]=d(e+(1<<13)>>14),i[D+2]=d(r+(1<<13)>>14),i[D+1]=d(n+(1<<13)>>14),i[D]=d(l+(1<<13)>>14),D=D+v*4|0}D=(Q+1)*4|0,H=(Q+1)*_*4|0}}function t(f,i,_,v,p,g){var l,n,r,e,A,u,E,w,Q,B,y,H,D=0,G=0;for(B=0;B<v;B++){for(u=0,y=0;y<p;y++){for(E=g[u++],w=g[u++],Q=D+E*4|0,l=n=r=e=0;w>0;w--)H=g[u++],A=f[Q+3],e=e+H*A|0,r=r+H*f[Q+2]*A|0,n=n+H*f[Q+1]*A|0,l=l+H*f[Q]*A|0,Q=Q+4|0;r=r/255|0,n=n/255|0,l=l/255|0,i[G+3]=b(e>>7),i[G+2]=b(r>>7),i[G+1]=b(n>>7),i[G]=b(l>>7),G=G+v*4|0}G=(B+1)*4|0,D=(B+1)*_*4|0}}function a(f,i,_,v,p,g){var l,n,r,e,A,u,E,w,Q,B,y,H=0,D=0;for(Q=0;Q<v;Q++){for(A=0,B=0;B<p;B++){for(u=g[A++],E=g[A++],w=H+u*4|0,l=n=r=e=0;E>0;E--)y=g[A++],e=e+y*f[w+3]|0,r=r+y*f[w+2]|0,n=n+y*f[w+1]|0,l=l+y*f[w]|0,w=w+4|0;l>>=7,n>>=7,r>>=7,e>>=7,e=d(e+(1<<13)>>14),e>0&&(l=l*255/e|0,n=n*255/e|0,r=r*255/e|0),i[D+3]=e,i[D+2]=d(r+(1<<13)>>14),i[D+1]=d(n+(1<<13)>>14),i[D]=d(l+(1<<13)>>14),D=D+v*4|0}D=(Q+1)*4|0,H=(Q+1)*_*4|0}}o.exports={convolveHor:x,convolveVert:h,convolveHorWithPre:t,convolveVertWithPre:a}},{}],3:[function(s,o,m){o.exports="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"},{}],4:[function(s,o,m){o.exports={name:"resize",fn:s("./resize"),wasm_fn:s("./resize_wasm"),wasm_src:s("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(s,o,m){var d=s("./resize_filter_gen"),b=s("./convolve"),x=b.convolveHor,h=b.convolveVert,t=b.convolveHorWithPre,a=b.convolveVertWithPre;function f(_,v,p){for(var g=3,l=v*p*4|0;g<l;){if(_[g]!==255)return!0;g=g+4|0}return!1}function i(_,v,p){for(var g=3,l=v*p*4|0;g<l;)_[g]=255,g=g+4|0}o.exports=function(v){var p=v.src,g=v.width,l=v.height,n=v.toWidth,r=v.toHeight,e=v.scaleX||v.toWidth/v.width,A=v.scaleY||v.toHeight/v.height,u=v.offsetX||0,E=v.offsetY||0,w=v.dest||new Uint8Array(n*r*4),Q=typeof v.filter>"u"?"mks2013":v.filter,B=d(Q,g,n,e,u),y=d(Q,l,r,A,E),H=new Uint16Array(n*l*4);return f(p,g,l)?(t(p,H,g,l,n,B),a(H,w,l,n,r,y)):(x(p,H,g,l,n,B),h(H,w,l,n,r,y),i(w,n,r)),w}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(s,o,m){var d=s("./resize_filter_info"),b=14;function x(h){return Math.round(h*((1<<b)-1))}o.exports=function(t,a,f,i,_){var v=d.filter[t].fn,p=1/i,g=Math.min(1,i),l=d.filter[t].win/g,n,r,e,A,u,E,w,Q,B,y,H,D,G,z,I,P,k,T=Math.floor((l+1)*2),U=new Int16Array((T+2)*f),R=0,S=!U.subarray||!U.set;for(n=0;n<f;n++){for(r=(n+.5)*p+_,e=Math.max(0,Math.floor(r-l)),A=Math.min(a-1,Math.ceil(r+l)),u=A-e+1,E=new Float32Array(u),w=new Int16Array(u),Q=0,B=e,y=0;B<=A;B++,y++)H=v((B+.5-r)*g),Q+=H,E[y]=H;for(D=0,y=0;y<E.length;y++)G=E[y]/Q,D+=G,w[y]=x(G);for(w[f>>1]+=x(1-D),z=0;z<w.length&&w[z]===0;)z++;if(z<w.length){for(I=w.length-1;I>0&&w[I]===0;)I--;if(P=e+z,k=I-z+1,U[R++]=P,U[R++]=k,!S)U.set(w.subarray(z,I+1),R),R+=k;else for(y=z;y<=I;y++)U[R++]=w[y]}else U[R++]=0,U[R++]=0}return U}},{"./resize_filter_info":7}],7:[function(s,o,m){var d={box:{win:.5,fn:function(x){return x<0&&(x=-x),x<.5?1:0}},hamming:{win:1,fn:function(x){if(x<0&&(x=-x),x>=1)return 0;if(x<11920929e-14)return 1;var h=x*Math.PI;return Math.sin(h)/h*(.54+.46*Math.cos(h/1))}},lanczos2:{win:2,fn:function(x){if(x<0&&(x=-x),x>=2)return 0;if(x<11920929e-14)return 1;var h=x*Math.PI;return Math.sin(h)/h*Math.sin(h/2)/(h/2)}},lanczos3:{win:3,fn:function(x){if(x<0&&(x=-x),x>=3)return 0;if(x<11920929e-14)return 1;var h=x*Math.PI;return Math.sin(h)/h*Math.sin(h/3)/(h/3)}},mks2013:{win:2.5,fn:function(x){return x<0&&(x=-x),x>=2.5?0:x>=1.5?-.125*(x-2.5)*(x-2.5):x>=.5?.25*(4*x*x-11*x+7):1.0625-1.75*x*x}}};o.exports={filter:d,f2q:{box:0,hamming:1,lanczos2:2,lanczos3:3},q2f:["box","hamming","lanczos2","lanczos3"]}},{}],8:[function(s,o,m){var d=s("./resize_filter_gen");function b(f,i,_){for(var v=3,p=i*_*4|0;v<p;){if(f[v]!==255)return!0;v=v+4|0}return!1}function x(f,i,_){for(var v=3,p=i*_*4|0;v<p;)f[v]=255,v=v+4|0}function h(f){return new Uint8Array(f.buffer,0,f.byteLength)}var t=!0;try{t=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1}catch{}function a(f,i,_){if(t){i.set(h(f),_);return}for(var v=_,p=0;p<f.length;p++){var g=f[p];i[v++]=g&255,i[v++]=g>>8&255}}o.exports=function(i){var _=i.src,v=i.width,p=i.height,g=i.toWidth,l=i.toHeight,n=i.scaleX||i.toWidth/i.width,r=i.scaleY||i.toHeight/i.height,e=i.offsetX||0,A=i.offsetY||0,u=i.dest||new Uint8Array(g*l*4),E=typeof i.filter>"u"?"mks2013":i.filter,w=d(E,v,g,n,e),Q=d(E,p,l,r,A),B=0,y=Math.max(_.byteLength,u.byteLength),H=this.__align(B+y),D=p*g*4*2,G=this.__align(H+D),z=this.__align(G+w.byteLength),I=z+Q.byteLength,P=this.__instance("resize",I),k=new Uint8Array(this.__memory.buffer),T=new Uint32Array(this.__memory.buffer),U=new Uint32Array(_.buffer);T.set(U),a(w,k,G),a(Q,k,z);var R=P.exports.convolveHV||P.exports._convolveHV;b(_,v,p)?R(G,z,H,v,p,g,l,1):(R(G,z,H,v,p,g,l,0),x(u,g,l));var S=new Uint32Array(u.buffer);return S.set(new Uint32Array(this.__memory.buffer,0,l*g)),u}},{"./resize_filter_gen":6}],9:[function(s,o,m){o.exports={name:"unsharp_mask",fn:s("./unsharp_mask"),wasm_fn:s("./unsharp_mask_wasm"),wasm_src:s("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":10,"./unsharp_mask_wasm":11,"./unsharp_mask_wasm_base64":12}],10:[function(s,o,m){var d=s("glur/mono16");function b(x,h,t){for(var a=h*t,f=new Uint16Array(a),i,_,v,p,g=0;g<a;g++)i=x[4*g],_=x[4*g+1],v=x[4*g+2],p=i>=_&&i>=v?i:_>=v&&_>=i?_:v,f[g]=p<<8;return f}o.exports=function(h,t,a,f,i,_){var v,p,g,l,n;if(!(f===0||i<.5)){i>2&&(i=2);var r=b(h,t,a),e=new Uint16Array(r);d(e,t,a,i);for(var A=f/100*4096+.5|0,u=_<<8,E=t*a,w=0;w<E;w++)v=r[w],l=v-e[w],Math.abs(l)>=u&&(p=v+(A*l+2048>>12),p=p>65280?65280:p,p=p<0?0:p,v=v!==0?v:1,g=(p<<12)/v|0,n=w*4,h[n]=h[n]*g+2048>>12,h[n+1]=h[n+1]*g+2048>>12,h[n+2]=h[n+2]*g+2048>>12)}}},{"glur/mono16":18}],11:[function(s,o,m){o.exports=function(b,x,h,t,a,f){if(!(t===0||a<.5)){a>2&&(a=2);var i=x*h,_=i*4,v=i*2,p=i*2,g=Math.max(x,h)*4,l=8*4,n=0,r=_,e=r+v,A=e+p,u=A+p,E=u+g,w=this.__instance("unsharp_mask",_+v+p*2+g+l,{exp:Math.exp}),Q=new Uint32Array(b.buffer),B=new Uint32Array(this.__memory.buffer);B.set(Q);var y=w.exports.hsv_v16||w.exports._hsv_v16;y(n,r,x,h),y=w.exports.blurMono16||w.exports._blurMono16,y(r,e,A,u,E,x,h,a),y=w.exports.unsharp||w.exports._unsharp,y(n,n,r,e,x,h,t,f),Q.set(new Uint32Array(this.__memory.buffer,0,i))}}},{}],12:[function(s,o,m){o.exports="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"},{}],13:[function(s,o,m){var d=100;function b(x,h){this.create=x,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=h||2e3}b.prototype.acquire=function(){var x=this,h;return this.available.length!==0?h=this.available.pop():(h=this.create(),h.id=this.lastId++,h.release=function(){return x.release(h)}),this.acquired[h.id]=h,h},b.prototype.release=function(x){var h=this;delete this.acquired[x.id],x.lastUsed=Date.now(),this.available.push(x),this.timeoutId===0&&(this.timeoutId=setTimeout(function(){return h.gc()},d))},b.prototype.gc=function(){var x=this,h=Date.now();this.available=this.available.filter(function(t){return h-t.lastUsed>x.idle?(t.destroy(),!1):!0}),this.available.length!==0?this.timeoutId=setTimeout(function(){return x.gc()},d):this.timeoutId=0},o.exports=b},{}],14:[function(s,o,m){var d=2;o.exports=function(x,h,t,a,f,i){var _=t/x,v=a/h,p=(2*i+d+1)/f;if(p>.5)return[[t,a]];var g=Math.ceil(Math.log(Math.min(_,v))/Math.log(p));if(g<=1)return[[t,a]];for(var l=[],n=0;n<g;n++){var r=Math.round(Math.pow(Math.pow(x,g-n-1)*Math.pow(t,n+1),1/g)),e=Math.round(Math.pow(Math.pow(h,g-n-1)*Math.pow(a,n+1),1/g));l.push([r,e])}return l}},{}],15:[function(s,o,m){var d=1e-5;function b(h){var t=Math.round(h);return Math.abs(h-t)<d?t:Math.floor(h)}function x(h){var t=Math.round(h);return Math.abs(h-t)<d?t:Math.ceil(h)}o.exports=function(t){var a=t.toWidth/t.width,f=t.toHeight/t.height,i=b(t.srcTileSize*a)-2*t.destTileBorder,_=b(t.srcTileSize*f)-2*t.destTileBorder;if(i<1||_<1)throw new Error("Internal error in pica: target tile width/height is too small.");var v,p,g,l,n,r,e=[],A;for(l=0;l<t.toHeight;l+=_)for(g=0;g<t.toWidth;g+=i)v=g-t.destTileBorder,v<0&&(v=0),n=g+i+t.destTileBorder-v,v+n>=t.toWidth&&(n=t.toWidth-v),p=l-t.destTileBorder,p<0&&(p=0),r=l+_+t.destTileBorder-p,p+r>=t.toHeight&&(r=t.toHeight-p),A={toX:v,toY:p,toWidth:n,toHeight:r,toInnerX:g,toInnerY:l,toInnerWidth:i,toInnerHeight:_,offsetX:v/a-b(v/a),offsetY:p/f-b(p/f),scaleX:a,scaleY:f,x:b(v/a),y:b(p/f),width:x(n/a),height:x(r/f)},e.push(A);return e}},{}],16:[function(s,o,m){function d(b){return Object.prototype.toString.call(b)}o.exports.isCanvas=function(x){var h=d(x);return h==="[object HTMLCanvasElement]"||h==="[object OffscreenCanvas]"||h==="[object Canvas]"},o.exports.isImage=function(x){return d(x)==="[object HTMLImageElement]"},o.exports.isImageBitmap=function(x){return d(x)==="[object ImageBitmap]"},o.exports.limiter=function(x){var h=0,t=[];function a(){h<x&&t.length&&(h++,t.shift()())}return function(i){return new Promise(function(_,v){t.push(function(){i().then(function(p){_(p),h--,a()},function(p){v(p),h--,a()})}),a()})}},o.exports.cib_quality_name=function(x){switch(x){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},o.exports.cib_support=function(x){return Promise.resolve().then(function(){if(typeof createImageBitmap>"u")return!1;var h=x(100,100);return createImageBitmap(h,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(t){var a=t.width===10;return t.close(),h=null,a})}).catch(function(){return!1})},o.exports.worker_offscreen_canvas_support=function(){return new Promise(function(x,h){if(typeof OffscreenCanvas>"u"){x(!1);return}function t(i){if(typeof createImageBitmap>"u"){i.postMessage(!1);return}Promise.resolve().then(function(){var _=new OffscreenCanvas(10,10),v=_.getContext("2d");return v.rect(0,0,1,1),createImageBitmap(_,0,0,1,1)}).then(function(){return i.postMessage(!0)},function(){return i.postMessage(!1)})}var a=btoa("(".concat(t.toString(),")(self);")),f=new Worker("data:text/javascript;base64,".concat(a));f.onmessage=function(i){return x(i.data)},f.onerror=h}).then(function(x){return x},function(){return!1})},o.exports.can_use_canvas=function(x){var h=!1;try{var t=x(2,1),a=t.getContext("2d"),f=a.createImageData(2,1);f.data[0]=12,f.data[1]=23,f.data[2]=34,f.data[3]=255,f.data[4]=45,f.data[5]=56,f.data[6]=67,f.data[7]=255,a.putImageData(f,0,0),f=null,f=a.getImageData(0,0,2,1),f.data[0]===12&&f.data[1]===23&&f.data[2]===34&&f.data[3]===255&&f.data[4]===45&&f.data[5]===56&&f.data[6]===67&&f.data[7]===255&&(h=!0)}catch{}return h},o.exports.cib_can_use_region=function(){return new Promise(function(x){if(typeof Image>"u"||typeof createImageBitmap>"u"){x(!1);return}var h=new Image;h.src="data:image/jpeg;base64,/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRcZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRAf/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z",h.onload=function(){createImageBitmap(h,0,0,h.width,h.height).then(function(t){t.width===h.width&&t.height===h.height?x(!0):x(!1)},function(){return x(!1)})},h.onerror=function(){return x(!1)}})}},{}],17:[function(s,o,m){o.exports=function(){var d=s("./mathlib"),b;onmessage=function(h){var t=h.data.opts;if(!t.src&&t.srcBitmap){var a=new OffscreenCanvas(t.width,t.height),f=a.getContext("2d");f.drawImage(t.srcBitmap,0,0),t.src=f.getImageData(0,0,t.width,t.height).data,a.width=a.height=0,a=null,t.srcBitmap.close(),t.srcBitmap=null}b||(b=new d(h.data.features));var i=b.resizeAndUnsharp(t);postMessage({data:i},[i.buffer])}}},{"./mathlib":1}],18:[function(s,o,m){var d,b,x,h,t,a,f,i;function _(g){g<.5&&(g=.5);var l=Math.exp(.726*.726)/g,n=Math.exp(-l),r=Math.exp(-2*l),e=(1-n)*(1-n)/(1+2*l*n-r);return d=e,b=e*(l-1)*n,x=e*(l+1)*n,h=-e*r,t=2*n,a=-r,f=(d+b)/(1-t-a),i=(x+h)/(1-t-a),new Float32Array([d,b,x,h,t,a,f,i])}function v(g,l,n,r,e,A){var u,E,w,Q,B,y,H,D,G,z,I,P,k,T;for(G=0;G<A;G++){for(y=G*e,H=G,D=0,u=g[y],B=u*r[6],Q=B,I=r[0],P=r[1],k=r[4],T=r[5],z=0;z<e;z++)E=g[y],w=E*I+u*P+Q*k+B*T,B=Q,Q=w,u=E,n[D]=Q,D++,y++;for(y--,D--,H+=A*(e-1),u=g[y],B=u*r[7],Q=B,E=u,I=r[2],P=r[3],z=e-1;z>=0;z--)w=E*I+u*P+Q*k+B*T,B=Q,Q=w,u=E,E=g[y],l[H]=n[D]+Q,y--,D--,H-=A}}function p(g,l,n,r){if(r){var e=new Uint16Array(g.length),A=new Float32Array(Math.max(l,n)),u=_(r);v(g,e,A,u,l,n),v(e,g,A,u,n,l)}}o.exports=p},{}],19:[function(s,o,m){var d=s("object-assign"),b=s("./lib/base64decode"),x=s("./lib/wa_detect"),h={js:!0,wasm:!0};function t(a){if(!(this instanceof t))return new t(a);var f=d({},h,a||{});if(this.options=f,this.__cache={},this.__init_promise=null,this.__modules=f.modules||{},this.__memory=null,this.__wasm={},this.__isLE=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1,!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}t.prototype.has_wasm=x,t.prototype.use=function(a){return this.__modules[a.name]=a,this.options.wasm&&this.has_wasm()&&a.wasm_fn?this[a.name]=a.wasm_fn:this[a.name]=a.fn,this},t.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error(`mathlib: only "wasm" was enabled, but it's not supported`));var a=this;return this.__init_promise=Promise.all(Object.keys(a.__modules).map(function(f){var i=a.__modules[f];return!a.options.wasm||!a.has_wasm()||!i.wasm_fn||a.__wasm[f]?null:WebAssembly.compile(a.__base64decode(i.wasm_src)).then(function(_){a.__wasm[f]=_})})).then(function(){return a}),this.__init_promise},t.prototype.__base64decode=b,t.prototype.__reallocate=function(f){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(f/(64*1024))}),this.__memory;var i=this.__memory.buffer.byteLength;return i<f&&this.__memory.grow(Math.ceil((f-i)/(64*1024))),this.__memory},t.prototype.__instance=function(f,i,_){if(i&&this.__reallocate(i),!this.__wasm[f]){var v=this.__modules[f];this.__wasm[f]=new WebAssembly.Module(this.__base64decode(v.wasm_src))}if(!this.__cache[f]){var p={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[f]=new WebAssembly.Instance(this.__wasm[f],{env:d(p,_||{})})}return this.__cache[f]},t.prototype.__align=function(f,i){i=i||8;var _=f%i;return f+(_?i-_:0)},o.exports=t},{"./lib/base64decode":20,"./lib/wa_detect":21,"object-assign":22}],20:[function(s,o,m){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";o.exports=function(x){for(var h=x.replace(/[\r\n=]/g,""),t=h.length,a=new Uint8Array(t*3>>2),f=0,i=0,_=0;_<t;_++)_%4===0&&_&&(a[i++]=f>>16&255,a[i++]=f>>8&255,a[i++]=f&255),f=f<<6|d.indexOf(h.charAt(_));var v=t%4*6;return v===0?(a[i++]=f>>16&255,a[i++]=f>>8&255,a[i++]=f&255):v===18?(a[i++]=f>>10&255,a[i++]=f>>2&255):v===12&&(a[i++]=f>>4&255),a}},{}],21:[function(s,o,m){var d;o.exports=function(){if(typeof d<"u"||(d=!1,typeof WebAssembly>"u"))return d;try{var x=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),h=new WebAssembly.Module(x),t=new WebAssembly.Instance(h,{});return t.exports.test(4)!==0&&(d=!0),d}catch{}return d}},{}],22:[function(s,o,m){var d=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;function h(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function t(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var f={},i=0;i<10;i++)f["_"+String.fromCharCode(i)]=i;var _=Object.getOwnPropertyNames(f).map(function(p){return f[p]});if(_.join("")!=="0123456789")return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach(function(p){v[p]=p}),Object.keys(Object.assign({},v)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}o.exports=t()?Object.assign:function(a,f){for(var i,_=h(a),v,p=1;p<arguments.length;p++){i=Object(arguments[p]);for(var g in i)b.call(i,g)&&(_[g]=i[g]);if(d){v=d(i);for(var l=0;l<v.length;l++)x.call(i,v[l])&&(_[v[l]]=i[v[l]])}}return _}},{}],23:[function(s,o,m){var d=arguments[3],b=arguments[4],x=arguments[5],h=JSON.stringify;o.exports=function(t,a){for(var f,i=Object.keys(x),_=0,v=i.length;_<v;_++){var p=i[_],g=x[p].exports;if(g===t||g&&g.default===t){f=p;break}}if(!f){f=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var l={},_=0,v=i.length;_<v;_++){var p=i[_];l[p]=p}b[f]=["function(require,module,exports){"+t+"(self); }",l]}var n=Math.floor(Math.pow(16,8)*Math.random()).toString(16),r={};r[f]=f,b[n]=["function(require,module,exports){var f = require("+h(f)+");(f.default ? f.default : f)(self);}",r];var e={};A(n);function A(y){e[y]=!0;for(var H in b[y][1]){var D=b[y][1][H];e[D]||A(D)}}var u="("+d+")({"+Object.keys(e).map(function(y){return h(y)+":["+b[y][0]+","+h(b[y][1])+"]"}).join(",")+"},{},["+h(n)+"])",E=window.URL||window.webkitURL||window.mozURL||window.msURL,w=new Blob([u],{type:"text/javascript"});if(a&&a.bare)return w;var Q=E.createObjectURL(w),B=new Worker(Q);return B.objectURL=Q,B}},{}],"/index.js":[function(s,o,m){function d(I,P){return a(I)||t(I,P)||x(I,P)||b()}function b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(I,P){if(I){if(typeof I=="string")return h(I,P);var k=Object.prototype.toString.call(I).slice(8,-1);if(k==="Object"&&I.constructor&&(k=I.constructor.name),k==="Map"||k==="Set")return Array.from(I);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return h(I,P)}}function h(I,P){(P==null||P>I.length)&&(P=I.length);for(var k=0,T=new Array(P);k<P;k++)T[k]=I[k];return T}function t(I,P){var k=I==null?null:typeof Symbol<"u"&&I[Symbol.iterator]||I["@@iterator"];if(k!=null){var T=[],U=!0,R=!1,S,M;try{for(k=k.call(I);!(U=(S=k.next()).done)&&(T.push(S.value),!(P&&T.length===P));U=!0);}catch(F){R=!0,M=F}finally{try{!U&&k.return!=null&&k.return()}finally{if(R)throw M}}return T}}function a(I){if(Array.isArray(I))return I}var f=s("object-assign"),i=s("webworkify"),_=s("./lib/mathlib"),v=s("./lib/pool"),p=s("./lib/utils"),g=s("./lib/worker"),l=s("./lib/stepper"),n=s("./lib/tiler"),r=s("./lib/mm_resize/resize_filter_info"),e={},A=!1;try{typeof navigator<"u"&&navigator.userAgent&&(A=navigator.userAgent.indexOf("Safari")>=0)}catch{}var u=1;typeof navigator<"u"&&(u=Math.min(navigator.hardwareConcurrency||1,4));var E={tile:1024,concurrency:u,features:["js","wasm","ww"],idle:2e3,createCanvas:function(P,k){var T=document.createElement("canvas");return T.width=P,T.height=k,T}},w={filter:"mks2013",unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},Q=!1,B=!1,y=!1,H=!1,D=!1;function G(){return{value:i(g),destroy:function(){if(this.value.terminate(),typeof window<"u"){var P=window.URL||window.webkitURL||window.mozURL||window.msURL;P&&P.revokeObjectURL&&this.value.objectURL&&P.revokeObjectURL(this.value.objectURL)}}}}function z(I){if(!(this instanceof z))return new z(I);this.options=f({},E,I||{});var P="lk_".concat(this.options.concurrency);this.__limit=e[P]||p.limiter(this.options.concurrency),e[P]||(e[P]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}z.prototype.init=function(){var I=this;if(this.__initPromise)return this.__initPromise;if(typeof ImageData<"u"&&typeof Uint8ClampedArray<"u")try{new ImageData(new Uint8ClampedArray(400),10,10),Q=!0}catch{}typeof ImageBitmap<"u"&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?B=!0:this.debug("ImageBitmap does not support .close(), disabled"));var P=this.options.features.slice();if(P.indexOf("all")>=0&&(P=["cib","wasm","js","ww"]),this.__requested_features=P,this.__mathlib=new _(P),P.indexOf("ww")>=0&&typeof window<"u"&&"Worker"in window)try{var k=s("webworkify")(function(){});k.terminate(),this.features.ww=!0;var T="wp_".concat(JSON.stringify(this.options));e[T]?this.__workersPool=e[T]:(this.__workersPool=new v(G,this.options.idle),e[T]=this.__workersPool)}catch{}var U=this.__mathlib.init().then(function(F){f(I.features,F.features)}),R;B?R=p.cib_support(this.options.createCanvas).then(function(F){if(I.features.cib&&P.indexOf("cib")<0){I.debug("createImageBitmap() resize supported, but disabled by config");return}P.indexOf("cib")>=0&&(I.features.cib=F)}):R=Promise.resolve(!1),y=p.can_use_canvas(this.options.createCanvas);var S;B&&Q&&P.indexOf("ww")!==-1?S=p.worker_offscreen_canvas_support():S=Promise.resolve(!1),S=S.then(function(F){H=F});var M=p.cib_can_use_region().then(function(F){D=F});return this.__initPromise=Promise.all([U,R,S,M]).then(function(){return I}),this.__initPromise},z.prototype.__invokeResize=function(I,P){var k=this;return P.__mathCache=P.__mathCache||{},Promise.resolve().then(function(){return k.features.ww?new Promise(function(T,U){var R=k.__workersPool.acquire();P.cancelToken&&P.cancelToken.catch(function(M){return U(M)}),R.value.onmessage=function(M){R.release(),M.data.err?U(M.data.err):T(M.data)};var S=[];I.src&&S.push(I.src.buffer),I.srcBitmap&&S.push(I.srcBitmap),R.value.postMessage({opts:I,features:k.__requested_features,preload:{wasm_nodule:k.__mathlib.__}},S)}):{data:k.__mathlib.resizeAndUnsharp(I,P.__mathCache)}})},z.prototype.__extractTileData=function(I,P,k,T,U){if(this.features.ww&&H&&(p.isCanvas(P)||D))return this.debug("Create tile for OffscreenCanvas"),createImageBitmap(T.srcImageBitmap||P,I.x,I.y,I.width,I.height).then(function(M){return U.srcBitmap=M,U});if(p.isCanvas(P))return T.srcCtx||(T.srcCtx=P.getContext("2d")),this.debug("Get tile pixel data"),U.src=T.srcCtx.getImageData(I.x,I.y,I.width,I.height).data,U;this.debug("Draw tile imageBitmap/image to temporary canvas");var R=this.options.createCanvas(I.width,I.height),S=R.getContext("2d");return S.globalCompositeOperation="copy",S.drawImage(T.srcImageBitmap||P,I.x,I.y,I.width,I.height,0,0,I.width,I.height),this.debug("Get tile pixel data"),U.src=S.getImageData(0,0,I.width,I.height).data,R.width=R.height=0,U},z.prototype.__landTileData=function(I,P,k){var T;if(this.debug("Convert raw rgba tile result to ImageData"),P.bitmap)return k.toCtx.drawImage(P.bitmap,I.toX,I.toY),null;if(Q)T=new ImageData(new Uint8ClampedArray(P.data),I.toWidth,I.toHeight);else if(T=k.toCtx.createImageData(I.toWidth,I.toHeight),T.data.set)T.data.set(P.data);else for(var U=T.data.length-1;U>=0;U--)T.data[U]=P.data[U];return this.debug("Draw tile"),A?k.toCtx.putImageData(T,I.toX,I.toY,I.toInnerX-I.toX,I.toInnerY-I.toY,I.toInnerWidth+1e-5,I.toInnerHeight+1e-5):k.toCtx.putImageData(T,I.toX,I.toY,I.toInnerX-I.toX,I.toInnerY-I.toY,I.toInnerWidth,I.toInnerHeight),null},z.prototype.__tileAndResize=function(I,P,k){var T=this,U={srcCtx:null,srcImageBitmap:null,isImageBitmapReused:!1,toCtx:null},R=function(M){return T.__limit(function(){if(k.canceled)return k.cancelToken;var F={width:M.width,height:M.height,toWidth:M.toWidth,toHeight:M.toHeight,scaleX:M.scaleX,scaleY:M.scaleY,offsetX:M.offsetX,offsetY:M.offsetY,filter:k.filter,unsharpAmount:k.unsharpAmount,unsharpRadius:k.unsharpRadius,unsharpThreshold:k.unsharpThreshold};return T.debug("Invoke resize math"),Promise.resolve(F).then(function(L){return T.__extractTileData(M,I,k,U,L)}).then(function(L){return T.debug("Invoke resize math"),T.__invokeResize(L,k)}).then(function(L){return k.canceled?k.cancelToken:(U.srcImageData=null,T.__landTileData(M,L,U))})})};return Promise.resolve().then(function(){if(U.toCtx=P.getContext("2d"),p.isCanvas(I))return null;if(p.isImageBitmap(I))return U.srcImageBitmap=I,U.isImageBitmapReused=!0,null;if(p.isImage(I))return B?(T.debug("Decode image via createImageBitmap"),createImageBitmap(I).then(function(S){U.srcImageBitmap=S}).catch(function(S){return null})):null;throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap')}).then(function(){if(k.canceled)return k.cancelToken;T.debug("Calculate tiles");var S=n({width:k.width,height:k.height,srcTileSize:T.options.tile,toWidth:k.toWidth,toHeight:k.toHeight,destTileBorder:k.__destTileBorder}),M=S.map(function(L){return R(L)});function F(L){L.srcImageBitmap&&(L.isImageBitmapReused||L.srcImageBitmap.close(),L.srcImageBitmap=null)}return T.debug("Process tiles"),Promise.all(M).then(function(){return T.debug("Finished!"),F(U),P},function(L){throw F(U),L})})},z.prototype.__processStages=function(I,P,k,T){var U=this;if(T.canceled)return T.cancelToken;var R=I.shift(),S=d(R,2),M=S[0],F=S[1],L=I.length===0,N;L||r.q2f.indexOf(T.filter)<0?N=T.filter:T.filter==="box"?N="box":N="hamming",T=f({},T,{toWidth:M,toHeight:F,filter:N});var j;return L||(j=this.options.createCanvas(M,F)),this.__tileAndResize(P,L?k:j,T).then(function(){return L?k:(T.width=M,T.height=F,U.__processStages(I,j,k,T))}).then(function(q){return j&&(j.width=j.height=0),q})},z.prototype.__resizeViaCreateImageBitmap=function(I,P,k){var T=this,U=P.getContext("2d");return this.debug("Resize via createImageBitmap()"),createImageBitmap(I,{resizeWidth:k.toWidth,resizeHeight:k.toHeight,resizeQuality:p.cib_quality_name(r.f2q[k.filter])}).then(function(R){if(k.canceled)return k.cancelToken;if(!k.unsharpAmount)return U.drawImage(R,0,0),R.close(),U=null,T.debug("Finished!"),P;T.debug("Unsharp result");var S=T.options.createCanvas(k.toWidth,k.toHeight),M=S.getContext("2d");M.drawImage(R,0,0),R.close();var F=M.getImageData(0,0,k.toWidth,k.toHeight);return T.__mathlib.unsharp_mask(F.data,k.toWidth,k.toHeight,k.unsharpAmount,k.unsharpRadius,k.unsharpThreshold),U.putImageData(F,0,0),S.width=S.height=0,F=M=S=U=null,T.debug("Finished!"),P})},z.prototype.resize=function(I,P,k){var T=this;this.debug("Start resize...");var U=f({},w);if(isNaN(k)?k&&(U=f(U,k)):U=f(U,{quality:k}),U.toWidth=P.width,U.toHeight=P.height,U.width=I.naturalWidth||I.width,U.height=I.naturalHeight||I.height,Object.prototype.hasOwnProperty.call(U,"quality")){if(U.quality<0||U.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(U.quality));U.filter=r.q2f[U.quality]}if(P.width===0||P.height===0)return Promise.reject(new Error("Invalid output size: ".concat(P.width,"x").concat(P.height)));U.unsharpRadius>2&&(U.unsharpRadius=2),U.canceled=!1,U.cancelToken&&(U.cancelToken=U.cancelToken.then(function(S){throw U.canceled=!0,S},function(S){throw U.canceled=!0,S}));var R=3;return U.__destTileBorder=Math.ceil(Math.max(R,2.5*U.unsharpRadius|0)),this.init().then(function(){if(U.canceled)return U.cancelToken;if(T.features.cib){if(r.q2f.indexOf(U.filter)>=0)return T.__resizeViaCreateImageBitmap(I,P,U);T.debug("cib is enabled, but not supports provided filter, fallback to manual math")}if(!y){var S=new Error("Pica: cannot use getImageData on canvas, make sure fingerprinting protection isn't enabled");throw S.code="ERR_GET_IMAGE_DATA",S}var M=l(U.width,U.height,U.toWidth,U.toHeight,T.options.tile,U.__destTileBorder);return T.__processStages(M,I,P,U)})},z.prototype.resizeBuffer=function(I){var P=this,k=f({},w,I);if(Object.prototype.hasOwnProperty.call(k,"quality")){if(k.quality<0||k.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(k.quality));k.filter=r.q2f[k.quality]}return this.init().then(function(){return P.__mathlib.resizeAndUnsharp(k)})},z.prototype.toBlob=function(I,P,k){return P=P||"image/png",new Promise(function(T){if(I.toBlob){I.toBlob(function(F){return T(F)},P,k);return}if(I.convertToBlob){T(I.convertToBlob({type:P,quality:k}));return}for(var U=atob(I.toDataURL(P,k).split(",")[1]),R=U.length,S=new Uint8Array(R),M=0;M<R;M++)S[M]=U.charCodeAt(M);T(new Blob([S],{type:P}))})},z.prototype.debug=function(){},o.exports=z},{"./lib/mathlib":1,"./lib/mm_resize/resize_filter_info":7,"./lib/pool":13,"./lib/stepper":14,"./lib/tiler":15,"./lib/utils":16,"./lib/worker":17,"object-assign":22,webworkify:23}]},{},[])("/index.js")})})(ge);var _e=fr;function be(c,C){const s=c.size,o=1024*1024*10;return s<=o?new Promise(m=>{const d=new FileReader;d.readAsArrayBuffer(c),d.onload=b=>{var t;const x=new sr.ArrayBuffer;x.append((t=b.target)==null?void 0:t.result);const h=x.end();m(h)}}):new Promise(m=>{const d=Math.ceil(s/o);let b=0,x=0;const h=new sr.ArrayBuffer,t=new FileReader;t.onload=function(f){var i;if(h.append((i=f.target)==null?void 0:i.result),x+=o,b++,b<d)a();else{const _=h.end();m(_)}if(C){const _=Math.min(x/s*100,100);C(_)}};function a(){const f=x,i=Math.min(f+o,s);t.readAsArrayBuffer(c.slice(f,i))}a()})}async function me(c,C=1){const s=await createImageBitmap(c),o=new OffscreenCanvas(s.width,s.height),m=o.getContext("2d");if(m.drawImage(s,0,0),C<1){const b=await o.convertToBlob({type:"image/jpeg",quality:C}),x=await createImageBitmap(b);m.clearRect(0,0,o.width,o.height),m.drawImage(x,0,0)}const d=m.getImageData(0,0,s.width,s.height).data.buffer;return{name:c.name,buffer:d,width:s.width,height:s.height}}async function Be(c,C="image/png",s=1){const{buffer:o,width:m,height:d,name:b}=c,x=new ImageData(new Uint8ClampedArray(o),m,d),h=new OffscreenCanvas(m,d);h.getContext("2d").putImageData(x,0,0);const a=await h.convertToBlob({type:C,quality:s}),f=pe(b,a.type);return new File([a],`encrypted-${f}`,{type:a.type})}const ye=c=>new Promise((C,s)=>{const o=new Image;o.src=URL.createObjectURL(c),o.onload=()=>{URL.revokeObjectURL(o.src),C(o)},o.onerror=()=>{URL.revokeObjectURL(o.src),s(new Error("Failed to load image"))}}),Ce=c=>{const{width:C,height:s,buffer:o,name:m}=c,d=Math.max(C,s);if(C===s)return c;if(C>s){const b=new Uint8ClampedArray(d**2*4);return b.set(new Uint8ClampedArray(o)),{name:m,width:d,height:d,buffer:b.buffer}}else{const b=new Uint8ClampedArray(d**2*4),x=C*4;for(let h=0;h<s;h++){const t=h*x;b.set(new Uint8ClampedArray(o,t,x),t+h*(d-C)*4)}return{name:m,width:d,height:d,buffer:b.buffer}}},we=c=>{const{width:C,height:s,buffer:o,name:m}=c;if(C!==s)return c;let d=0,b=0;for(let h=s-1;h>=0;h--){const t=C*4,a=h*t,f=new Uint8ClampedArray(o,a,t);let i=0,_=0;if(f.forEach((v,p)=>{v<30&&(p%3!==0?i++:_++)}),_*4/f.length>.55||i*4/(f.length*3)>.55)d++;else break}if(d>0){const h=s-d,t=new Uint8ClampedArray(h*C*4);return t.set(new Uint8ClampedArray(o,0,h*C*4)),{name:m,width:C,height:h,buffer:t.buffer}}for(let h=C-1;h>=0;h--){const t=new Uint8ClampedArray(s*4);for(let i=0;i<s;i++)t.set(new Uint8ClampedArray(o,i*C*4+h*4,4),i*4);let a=0,f=0;if(t.forEach((i,_)=>{i<30&&(_%3!==0?a++:f++)}),f*4/t.length>.55||a*4/(t.length*3)>.55)b++;else break}const x=new Uint8ClampedArray(s*(C-b)*4);for(let h=0;h<s;h++)x.set(new Uint8ClampedArray(o,h*C*4,(C-b)*4),h*(C-b)*4);return{name:m,width:C-b,height:s,buffer:x.buffer}},Ee=async(c,C,s,o)=>{try{const m=new _e({createCanvas:(t,a)=>new OffscreenCanvas(t,a)}),d=o?await createImageBitmap(c):await ye(c),b=Math.min(C/d.width,s/d.height),x=new OffscreenCanvas(d.width*b,d.height*b);await m.resize(d,x);const h=await x.convertToBlob({type:"image/png"});return new File([h],c.name,{type:h.type})}catch(m){return console.error("生成缩略图失败: ",m),c}},Ie=async(c,C,s=!0,o=!1,m=128,d=128)=>{const b=await Ee(c,m,d,o),x=C||await be(c),h=s?URL.createObjectURL(c):"",t=s?URL.createObjectURL(b):"";return{file:c,src:h,md5:x,thumbnail:{file:b,src:t}}};var r0={},Qe={get exports(){return r0},set exports(c){r0=c}},_0={},Re={get exports(){return _0},set exports(c){_0=c}},De={},Se=Object.freeze({__proto__:null,default:De}),He=ve(Se),Ar;function O(){return Ar||(Ar=1,function(c,C){(function(s,o){c.exports=o()})(W,function(){var s=s||function(o,m){var d;if(typeof window<"u"&&window.crypto&&(d=window.crypto),typeof self<"u"&&self.crypto&&(d=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(d=globalThis.crypto),!d&&typeof window<"u"&&window.msCrypto&&(d=window.msCrypto),!d&&typeof W<"u"&&W.crypto&&(d=W.crypto),!d&&typeof x0=="function")try{d=He}catch{}var b=function(){if(d){if(typeof d.getRandomValues=="function")try{return d.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof d.randomBytes=="function")try{return d.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},x=Object.create||function(){function n(){}return function(r){var e;return n.prototype=r,e=new n,n.prototype=null,e}}(),h={},t=h.lib={},a=t.Base=function(){return{extend:function(n){var r=x(this);return n&&r.mixIn(n),(!r.hasOwnProperty("init")||this.init===r.init)&&(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var n=this.extend();return n.init.apply(n,arguments),n},init:function(){},mixIn:function(n){for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);n.hasOwnProperty("toString")&&(this.toString=n.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=t.WordArray=a.extend({init:function(n,r){n=this.words=n||[],r!=m?this.sigBytes=r:this.sigBytes=n.length*4},toString:function(n){return(n||_).stringify(this)},concat:function(n){var r=this.words,e=n.words,A=this.sigBytes,u=n.sigBytes;if(this.clamp(),A%4)for(var E=0;E<u;E++){var w=e[E>>>2]>>>24-E%4*8&255;r[A+E>>>2]|=w<<24-(A+E)%4*8}else for(var Q=0;Q<u;Q+=4)r[A+Q>>>2]=e[Q>>>2];return this.sigBytes+=u,this},clamp:function(){var n=this.words,r=this.sigBytes;n[r>>>2]&=4294967295<<32-r%4*8,n.length=o.ceil(r/4)},clone:function(){var n=a.clone.call(this);return n.words=this.words.slice(0),n},random:function(n){for(var r=[],e=0;e<n;e+=4)r.push(b());return new f.init(r,n)}}),i=h.enc={},_=i.Hex={stringify:function(n){for(var r=n.words,e=n.sigBytes,A=[],u=0;u<e;u++){var E=r[u>>>2]>>>24-u%4*8&255;A.push((E>>>4).toString(16)),A.push((E&15).toString(16))}return A.join("")},parse:function(n){for(var r=n.length,e=[],A=0;A<r;A+=2)e[A>>>3]|=parseInt(n.substr(A,2),16)<<24-A%8*4;return new f.init(e,r/2)}},v=i.Latin1={stringify:function(n){for(var r=n.words,e=n.sigBytes,A=[],u=0;u<e;u++){var E=r[u>>>2]>>>24-u%4*8&255;A.push(String.fromCharCode(E))}return A.join("")},parse:function(n){for(var r=n.length,e=[],A=0;A<r;A++)e[A>>>2]|=(n.charCodeAt(A)&255)<<24-A%4*8;return new f.init(e,r)}},p=i.Utf8={stringify:function(n){try{return decodeURIComponent(escape(v.stringify(n)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(n){return v.parse(unescape(encodeURIComponent(n)))}},g=t.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(n){typeof n=="string"&&(n=p.parse(n)),this._data.concat(n),this._nDataBytes+=n.sigBytes},_process:function(n){var r,e=this._data,A=e.words,u=e.sigBytes,E=this.blockSize,w=E*4,Q=u/w;n?Q=o.ceil(Q):Q=o.max((Q|0)-this._minBufferSize,0);var B=Q*E,y=o.min(B*4,u);if(B){for(var H=0;H<B;H+=E)this._doProcessBlock(A,H);r=A.splice(0,B),e.sigBytes-=y}return new f.init(r,y)},clone:function(){var n=a.clone.call(this);return n._data=this._data.clone(),n},_minBufferSize:0});t.Hasher=g.extend({cfg:a.extend(),init:function(n){this.cfg=this.cfg.extend(n),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(n){return this._append(n),this._process(),this},finalize:function(n){n&&this._append(n);var r=this._doFinalize();return r},blockSize:16,_createHelper:function(n){return function(r,e){return new n.init(e).finalize(r)}},_createHmacHelper:function(n){return function(r,e){return new l.HMAC.init(n,e).finalize(r)}}});var l=h.algo={};return h}(Math);return s})}(Re)),_0}var b0={},Me={get exports(){return b0},set exports(c){b0=c}},lr;function m0(){return lr||(lr=1,function(c,C){(function(s,o){c.exports=o(O())})(W,function(s){return function(o){var m=s,d=m.lib,b=d.Base,x=d.WordArray,h=m.x64={};h.Word=b.extend({init:function(t,a){this.high=t,this.low=a}}),h.WordArray=b.extend({init:function(t,a){t=this.words=t||[],a!=o?this.sigBytes=a:this.sigBytes=t.length*8},toX32:function(){for(var t=this.words,a=t.length,f=[],i=0;i<a;i++){var _=t[i];f.push(_.high),f.push(_.low)}return x.create(f,this.sigBytes)},clone:function(){for(var t=b.clone.call(this),a=t.words=this.words.slice(0),f=a.length,i=0;i<f;i++)a[i]=a[i].clone();return t}})}(),s})}(Me)),b0}var B0={},ke={get exports(){return B0},set exports(c){B0=c}},vr;function Fe(){return vr||(vr=1,function(c,C){(function(s,o){c.exports=o(O())})(W,function(s){return function(){if(typeof ArrayBuffer=="function"){var o=s,m=o.lib,d=m.WordArray,b=d.init,x=d.init=function(h){if(h instanceof ArrayBuffer&&(h=new Uint8Array(h)),(h instanceof Int8Array||typeof Uint8ClampedArray<"u"&&h instanceof Uint8ClampedArray||h instanceof Int16Array||h instanceof Uint16Array||h instanceof Int32Array||h instanceof Uint32Array||h instanceof Float32Array||h instanceof Float64Array)&&(h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength)),h instanceof Uint8Array){for(var t=h.byteLength,a=[],f=0;f<t;f++)a[f>>>2]|=h[f]<<24-f%4*8;b.call(this,a,t)}else b.apply(this,arguments)};x.prototype=d}}(),s.lib.WordArray})}(ke)),B0}var y0={},Ue={get exports(){return y0},set exports(c){y0=c}},dr;function Pe(){return dr||(dr=1,function(c,C){(function(s,o){c.exports=o(O())})(W,function(s){return function(){var o=s,m=o.lib,d=m.WordArray,b=o.enc;b.Utf16=b.Utf16BE={stringify:function(h){for(var t=h.words,a=h.sigBytes,f=[],i=0;i<a;i+=2){var _=t[i>>>2]>>>16-i%4*8&65535;f.push(String.fromCharCode(_))}return f.join("")},parse:function(h){for(var t=h.length,a=[],f=0;f<t;f++)a[f>>>1]|=h.charCodeAt(f)<<16-f%2*16;return d.create(a,t*2)}},b.Utf16LE={stringify:function(h){for(var t=h.words,a=h.sigBytes,f=[],i=0;i<a;i+=2){var _=x(t[i>>>2]>>>16-i%4*8&65535);f.push(String.fromCharCode(_))}return f.join("")},parse:function(h){for(var t=h.length,a=[],f=0;f<t;f++)a[f>>>1]|=x(h.charCodeAt(f)<<16-f%2*16);return d.create(a,t*2)}};function x(h){return h<<8&4278255360|h>>>8&16711935}}(),s.enc.Utf16})}(Ue)),y0}var C0={},Te={get exports(){return C0},set exports(c){C0=c}},pr;function i0(){return pr||(pr=1,function(c,C){(function(s,o){c.exports=o(O())})(W,function(s){return function(){var o=s,m=o.lib,d=m.WordArray,b=o.enc;b.Base64={stringify:function(h){var t=h.words,a=h.sigBytes,f=this._map;h.clamp();for(var i=[],_=0;_<a;_+=3)for(var v=t[_>>>2]>>>24-_%4*8&255,p=t[_+1>>>2]>>>24-(_+1)%4*8&255,g=t[_+2>>>2]>>>24-(_+2)%4*8&255,l=v<<16|p<<8|g,n=0;n<4&&_+n*.75<a;n++)i.push(f.charAt(l>>>6*(3-n)&63));var r=f.charAt(64);if(r)for(;i.length%4;)i.push(r);return i.join("")},parse:function(h){var t=h.length,a=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var i=0;i<a.length;i++)f[a.charCodeAt(i)]=i}var _=a.charAt(64);if(_){var v=h.indexOf(_);v!==-1&&(t=v)}return x(h,t,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function x(h,t,a){for(var f=[],i=0,_=0;_<t;_++)if(_%4){var v=a[h.charCodeAt(_-1)]<<_%4*2,p=a[h.charCodeAt(_)]>>>6-_%4*2,g=v|p;f[i>>>2]|=g<<24-i%4*8,i++}return d.create(f,i)}}(),s.enc.Base64})}(Te)),C0}var w0={},ze={get exports(){return w0},set exports(c){w0=c}},gr;function Ge(){return gr||(gr=1,function(c,C){(function(s,o){c.exports=o(O())})(W,function(s){return function(){var o=s,m=o.lib,d=m.WordArray,b=o.enc;b.Base64url={stringify:function(h,t=!0){var a=h.words,f=h.sigBytes,i=t?this._safe_map:this._map;h.clamp();for(var _=[],v=0;v<f;v+=3)for(var p=a[v>>>2]>>>24-v%4*8&255,g=a[v+1>>>2]>>>24-(v+1)%4*8&255,l=a[v+2>>>2]>>>24-(v+2)%4*8&255,n=p<<16|g<<8|l,r=0;r<4&&v+r*.75<f;r++)_.push(i.charAt(n>>>6*(3-r)&63));var e=i.charAt(64);if(e)for(;_.length%4;)_.push(e);return _.join("")},parse:function(h,t=!0){var a=h.length,f=t?this._safe_map:this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var _=0;_<f.length;_++)i[f.charCodeAt(_)]=_}var v=f.charAt(64);if(v){var p=h.indexOf(v);p!==-1&&(a=p)}return x(h,a,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function x(h,t,a){for(var f=[],i=0,_=0;_<t;_++)if(_%4){var v=a[h.charCodeAt(_-1)]<<_%4*2,p=a[h.charCodeAt(_)]>>>6-_%4*2,g=v|p;f[i>>>2]|=g<<24-i%4*8,i++}return d.create(f,i)}}(),s.enc.Base64url})}(ze)),w0}var E0={},Le={get exports(){return E0},set exports(c){E0=c}},_r;function o0(){return _r||(_r=1,function(c,C){(function(s,o){c.exports=o(O())})(W,function(s){return function(o){var m=s,d=m.lib,b=d.WordArray,x=d.Hasher,h=m.algo,t=[];(function(){for(var p=0;p<64;p++)t[p]=o.abs(o.sin(p+1))*4294967296|0})();var a=h.MD5=x.extend({_doReset:function(){this._hash=new b.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(p,g){for(var l=0;l<16;l++){var n=g+l,r=p[n];p[n]=(r<<8|r>>>24)&16711935|(r<<24|r>>>8)&4278255360}var e=this._hash.words,A=p[g+0],u=p[g+1],E=p[g+2],w=p[g+3],Q=p[g+4],B=p[g+5],y=p[g+6],H=p[g+7],D=p[g+8],G=p[g+9],z=p[g+10],I=p[g+11],P=p[g+12],k=p[g+13],T=p[g+14],U=p[g+15],R=e[0],S=e[1],M=e[2],F=e[3];R=f(R,S,M,F,A,7,t[0]),F=f(F,R,S,M,u,12,t[1]),M=f(M,F,R,S,E,17,t[2]),S=f(S,M,F,R,w,22,t[3]),R=f(R,S,M,F,Q,7,t[4]),F=f(F,R,S,M,B,12,t[5]),M=f(M,F,R,S,y,17,t[6]),S=f(S,M,F,R,H,22,t[7]),R=f(R,S,M,F,D,7,t[8]),F=f(F,R,S,M,G,12,t[9]),M=f(M,F,R,S,z,17,t[10]),S=f(S,M,F,R,I,22,t[11]),R=f(R,S,M,F,P,7,t[12]),F=f(F,R,S,M,k,12,t[13]),M=f(M,F,R,S,T,17,t[14]),S=f(S,M,F,R,U,22,t[15]),R=i(R,S,M,F,u,5,t[16]),F=i(F,R,S,M,y,9,t[17]),M=i(M,F,R,S,I,14,t[18]),S=i(S,M,F,R,A,20,t[19]),R=i(R,S,M,F,B,5,t[20]),F=i(F,R,S,M,z,9,t[21]),M=i(M,F,R,S,U,14,t[22]),S=i(S,M,F,R,Q,20,t[23]),R=i(R,S,M,F,G,5,t[24]),F=i(F,R,S,M,T,9,t[25]),M=i(M,F,R,S,w,14,t[26]),S=i(S,M,F,R,D,20,t[27]),R=i(R,S,M,F,k,5,t[28]),F=i(F,R,S,M,E,9,t[29]),M=i(M,F,R,S,H,14,t[30]),S=i(S,M,F,R,P,20,t[31]),R=_(R,S,M,F,B,4,t[32]),F=_(F,R,S,M,D,11,t[33]),M=_(M,F,R,S,I,16,t[34]),S=_(S,M,F,R,T,23,t[35]),R=_(R,S,M,F,u,4,t[36]),F=_(F,R,S,M,Q,11,t[37]),M=_(M,F,R,S,H,16,t[38]),S=_(S,M,F,R,z,23,t[39]),R=_(R,S,M,F,k,4,t[40]),F=_(F,R,S,M,A,11,t[41]),M=_(M,F,R,S,w,16,t[42]),S=_(S,M,F,R,y,23,t[43]),R=_(R,S,M,F,G,4,t[44]),F=_(F,R,S,M,P,11,t[45]),M=_(M,F,R,S,U,16,t[46]),S=_(S,M,F,R,E,23,t[47]),R=v(R,S,M,F,A,6,t[48]),F=v(F,R,S,M,H,10,t[49]),M=v(M,F,R,S,T,15,t[50]),S=v(S,M,F,R,B,21,t[51]),R=v(R,S,M,F,P,6,t[52]),F=v(F,R,S,M,w,10,t[53]),M=v(M,F,R,S,z,15,t[54]),S=v(S,M,F,R,u,21,t[55]),R=v(R,S,M,F,D,6,t[56]),F=v(F,R,S,M,U,10,t[57]),M=v(M,F,R,S,y,15,t[58]),S=v(S,M,F,R,k,21,t[59]),R=v(R,S,M,F,Q,6,t[60]),F=v(F,R,S,M,I,10,t[61]),M=v(M,F,R,S,E,15,t[62]),S=v(S,M,F,R,G,21,t[63]),e[0]=e[0]+R|0,e[1]=e[1]+S|0,e[2]=e[2]+M|0,e[3]=e[3]+F|0},_doFinalize:function(){var p=this._data,g=p.words,l=this._nDataBytes*8,n=p.sigBytes*8;g[n>>>5]|=128<<24-n%32;var r=o.floor(l/4294967296),e=l;g[(n+64>>>9<<4)+15]=(r<<8|r>>>24)&16711935|(r<<24|r>>>8)&4278255360,g[(n+64>>>9<<4)+14]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360,p.sigBytes=(g.length+1)*4,this._process();for(var A=this._hash,u=A.words,E=0;E<4;E++){var w=u[E];u[E]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}return A},clone:function(){var p=x.clone.call(this);return p._hash=this._hash.clone(),p}});function f(p,g,l,n,r,e,A){var u=p+(g&l|~g&n)+r+A;return(u<<e|u>>>32-e)+g}function i(p,g,l,n,r,e,A){var u=p+(g&n|l&~n)+r+A;return(u<<e|u>>>32-e)+g}function _(p,g,l,n,r,e,A){var u=p+(g^l^n)+r+A;return(u<<e|u>>>32-e)+g}function v(p,g,l,n,r,e,A){var u=p+(l^(g|~n))+r+A;return(u<<e|u>>>32-e)+g}m.MD5=x._createHelper(a),m.HmacMD5=x._createHmacHelper(a)}(Math),s.MD5})}(Le)),E0}var I0={},qe={get exports(){return I0},set exports(c){I0=c}},br;function cr(){return br||(br=1,function(c,C){(function(s,o){c.exports=o(O())})(W,function(s){return function(){var o=s,m=o.lib,d=m.WordArray,b=m.Hasher,x=o.algo,h=[],t=x.SHA1=b.extend({_doReset:function(){this._hash=new d.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,f){for(var i=this._hash.words,_=i[0],v=i[1],p=i[2],g=i[3],l=i[4],n=0;n<80;n++){if(n<16)h[n]=a[f+n]|0;else{var r=h[n-3]^h[n-8]^h[n-14]^h[n-16];h[n]=r<<1|r>>>31}var e=(_<<5|_>>>27)+l+h[n];n<20?e+=(v&p|~v&g)+1518500249:n<40?e+=(v^p^g)+1859775393:n<60?e+=(v&p|v&g|p&g)-1894007588:e+=(v^p^g)-899497514,l=g,g=p,p=v<<30|v>>>2,v=_,_=e}i[0]=i[0]+_|0,i[1]=i[1]+v|0,i[2]=i[2]+p|0,i[3]=i[3]+g|0,i[4]=i[4]+l|0},_doFinalize:function(){var a=this._data,f=a.words,i=this._nDataBytes*8,_=a.sigBytes*8;return f[_>>>5]|=128<<24-_%32,f[(_+64>>>9<<4)+14]=Math.floor(i/4294967296),f[(_+64>>>9<<4)+15]=i,a.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var a=b.clone.call(this);return a._hash=this._hash.clone(),a}});o.SHA1=b._createHelper(t),o.HmacSHA1=b._createHmacHelper(t)}(),s.SHA1})}(qe)),I0}var Q0={},We={get exports(){return Q0},set exports(c){Q0=c}},mr;function Br(){return mr||(mr=1,function(c,C){(function(s,o){c.exports=o(O())})(W,function(s){return function(o){var m=s,d=m.lib,b=d.WordArray,x=d.Hasher,h=m.algo,t=[],a=[];(function(){function _(l){for(var n=o.sqrt(l),r=2;r<=n;r++)if(!(l%r))return!1;return!0}function v(l){return(l-(l|0))*4294967296|0}for(var p=2,g=0;g<64;)_(p)&&(g<8&&(t[g]=v(o.pow(p,1/2))),a[g]=v(o.pow(p,1/3)),g++),p++})();var f=[],i=h.SHA256=x.extend({_doReset:function(){this._hash=new b.init(t.slice(0))},_doProcessBlock:function(_,v){for(var p=this._hash.words,g=p[0],l=p[1],n=p[2],r=p[3],e=p[4],A=p[5],u=p[6],E=p[7],w=0;w<64;w++){if(w<16)f[w]=_[v+w]|0;else{var Q=f[w-15],B=(Q<<25|Q>>>7)^(Q<<14|Q>>>18)^Q>>>3,y=f[w-2],H=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;f[w]=B+f[w-7]+H+f[w-16]}var D=e&A^~e&u,G=g&l^g&n^l&n,z=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),I=(e<<26|e>>>6)^(e<<21|e>>>11)^(e<<7|e>>>25),P=E+I+D+a[w]+f[w],k=z+G;E=u,u=A,A=e,e=r+P|0,r=n,n=l,l=g,g=P+k|0}p[0]=p[0]+g|0,p[1]=p[1]+l|0,p[2]=p[2]+n|0,p[3]=p[3]+r|0,p[4]=p[4]+e|0,p[5]=p[5]+A|0,p[6]=p[6]+u|0,p[7]=p[7]+E|0},_doFinalize:function(){var _=this._data,v=_.words,p=this._nDataBytes*8,g=_.sigBytes*8;return v[g>>>5]|=128<<24-g%32,v[(g+64>>>9<<4)+14]=o.floor(p/4294967296),v[(g+64>>>9<<4)+15]=p,_.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var _=x.clone.call(this);return _._hash=this._hash.clone(),_}});m.SHA256=x._createHelper(i),m.HmacSHA256=x._createHmacHelper(i)}(Math),s.SHA256})}(We)),Q0}var R0={},Oe={get exports(){return R0},set exports(c){R0=c}},yr;function Ne(){return yr||(yr=1,function(c,C){(function(s,o,m){c.exports=o(O(),Br())})(W,function(s){return function(){var o=s,m=o.lib,d=m.WordArray,b=o.algo,x=b.SHA256,h=b.SHA224=x.extend({_doReset:function(){this._hash=new d.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=x._doFinalize.call(this);return t.sigBytes-=4,t}});o.SHA224=x._createHelper(h),o.HmacSHA224=x._createHmacHelper(h)}(),s.SHA224})}(Oe)),R0}var D0={},je={get exports(){return D0},set exports(c){D0=c}},Cr;function wr(){return Cr||(Cr=1,function(c,C){(function(s,o,m){c.exports=o(O(),m0())})(W,function(s){return function(){var o=s,m=o.lib,d=m.Hasher,b=o.x64,x=b.Word,h=b.WordArray,t=o.algo;function a(){return x.create.apply(x,arguments)}var f=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],i=[];(function(){for(var v=0;v<80;v++)i[v]=a()})();var _=t.SHA512=d.extend({_doReset:function(){this._hash=new h.init([new x.init(1779033703,4089235720),new x.init(3144134277,2227873595),new x.init(1013904242,4271175723),new x.init(2773480762,1595750129),new x.init(1359893119,2917565137),new x.init(2600822924,725511199),new x.init(528734635,4215389547),new x.init(1541459225,327033209)])},_doProcessBlock:function(v,p){for(var g=this._hash.words,l=g[0],n=g[1],r=g[2],e=g[3],A=g[4],u=g[5],E=g[6],w=g[7],Q=l.high,B=l.low,y=n.high,H=n.low,D=r.high,G=r.low,z=e.high,I=e.low,P=A.high,k=A.low,T=u.high,U=u.low,R=E.high,S=E.low,M=w.high,F=w.low,L=Q,N=B,j=y,q=H,h0=D,f0=G,xr=z,A0=I,$=P,Y=k,ar=T,l0=U,nr=R,v0=S,hr=M,d0=F,J=0;J<80;J++){var V,e0,ir=i[J];if(J<16)e0=ir.high=v[p+J*2]|0,V=ir.low=v[p+J*2+1]|0;else{var ae=i[J-15],c0=ae.high,p0=ae.low,ua=(c0>>>1|p0<<31)^(c0>>>8|p0<<24)^c0>>>7,ne=(p0>>>1|c0<<31)^(p0>>>8|c0<<24)^(p0>>>7|c0<<25),ie=i[J-2],u0=ie.high,g0=ie.low,xa=(u0>>>19|g0<<13)^(u0<<3|g0>>>29)^u0>>>6,oe=(g0>>>19|u0<<13)^(g0<<3|u0>>>29)^(g0>>>6|u0<<26),se=i[J-7],ha=se.high,Aa=se.low,fe=i[J-16],la=fe.high,ce=fe.low;V=ne+Aa,e0=ua+ha+(V>>>0<ne>>>0?1:0),V=V+oe,e0=e0+xa+(V>>>0<oe>>>0?1:0),V=V+ce,e0=e0+la+(V>>>0<ce>>>0?1:0),ir.high=e0,ir.low=V}var va=$&ar^~$&nr,ue=Y&l0^~Y&v0,da=L&j^L&h0^j&h0,pa=N&q^N&f0^q&f0,ga=(L>>>28|N<<4)^(L<<30|N>>>2)^(L<<25|N>>>7),xe=(N>>>28|L<<4)^(N<<30|L>>>2)^(N<<25|L>>>7),_a=($>>>14|Y<<18)^($>>>18|Y<<14)^($<<23|Y>>>9),ba=(Y>>>14|$<<18)^(Y>>>18|$<<14)^(Y<<23|$>>>9),he=f[J],ma=he.high,Ae=he.low,K=d0+ba,t0=hr+_a+(K>>>0<d0>>>0?1:0),K=K+ue,t0=t0+va+(K>>>0<ue>>>0?1:0),K=K+Ae,t0=t0+ma+(K>>>0<Ae>>>0?1:0),K=K+V,t0=t0+e0+(K>>>0<V>>>0?1:0),le=xe+pa,Ba=ga+da+(le>>>0<xe>>>0?1:0);hr=nr,d0=v0,nr=ar,v0=l0,ar=$,l0=Y,Y=A0+K|0,$=xr+t0+(Y>>>0<A0>>>0?1:0)|0,xr=h0,A0=f0,h0=j,f0=q,j=L,q=N,N=K+le|0,L=t0+Ba+(N>>>0<K>>>0?1:0)|0}B=l.low=B+N,l.high=Q+L+(B>>>0<N>>>0?1:0),H=n.low=H+q,n.high=y+j+(H>>>0<q>>>0?1:0),G=r.low=G+f0,r.high=D+h0+(G>>>0<f0>>>0?1:0),I=e.low=I+A0,e.high=z+xr+(I>>>0<A0>>>0?1:0),k=A.low=k+Y,A.high=P+$+(k>>>0<Y>>>0?1:0),U=u.low=U+l0,u.high=T+ar+(U>>>0<l0>>>0?1:0),S=E.low=S+v0,E.high=R+nr+(S>>>0<v0>>>0?1:0),F=w.low=F+d0,w.high=M+hr+(F>>>0<d0>>>0?1:0)},_doFinalize:function(){var v=this._data,p=v.words,g=this._nDataBytes*8,l=v.sigBytes*8;p[l>>>5]|=128<<24-l%32,p[(l+128>>>10<<5)+30]=Math.floor(g/4294967296),p[(l+128>>>10<<5)+31]=g,v.sigBytes=p.length*4,this._process();var n=this._hash.toX32();return n},clone:function(){var v=d.clone.call(this);return v._hash=this._hash.clone(),v},blockSize:1024/32});o.SHA512=d._createHelper(_),o.HmacSHA512=d._createHmacHelper(_)}(),s.SHA512})}(je)),D0}var S0={},Xe={get exports(){return S0},set exports(c){S0=c}},Er;function Ye(){return Er||(Er=1,function(c,C){(function(s,o,m){c.exports=o(O(),m0(),wr())})(W,function(s){return function(){var o=s,m=o.x64,d=m.Word,b=m.WordArray,x=o.algo,h=x.SHA512,t=x.SHA384=h.extend({_doReset:function(){this._hash=new b.init([new d.init(3418070365,3238371032),new d.init(1654270250,914150663),new d.init(2438529370,812702999),new d.init(355462360,4144912697),new d.init(1731405415,4290775857),new d.init(2394180231,1750603025),new d.init(3675008525,1694076839),new d.init(1203062813,3204075428)])},_doFinalize:function(){var a=h._doFinalize.call(this);return a.sigBytes-=16,a}});o.SHA384=h._createHelper(t),o.HmacSHA384=h._createHmacHelper(t)}(),s.SHA384})}(Xe)),S0}var H0={},Ke={get exports(){return H0},set exports(c){H0=c}},Ir;function Ze(){return Ir||(Ir=1,function(c,C){(function(s,o,m){c.exports=o(O(),m0())})(W,function(s){return function(o){var m=s,d=m.lib,b=d.WordArray,x=d.Hasher,h=m.x64,t=h.Word,a=m.algo,f=[],i=[],_=[];(function(){for(var g=1,l=0,n=0;n<24;n++){f[g+5*l]=(n+1)*(n+2)/2%64;var r=l%5,e=(2*g+3*l)%5;g=r,l=e}for(var g=0;g<5;g++)for(var l=0;l<5;l++)i[g+5*l]=l+(2*g+3*l)%5*5;for(var A=1,u=0;u<24;u++){for(var E=0,w=0,Q=0;Q<7;Q++){if(A&1){var B=(1<<Q)-1;B<32?w^=1<<B:E^=1<<B-32}A&128?A=A<<1^113:A<<=1}_[u]=t.create(E,w)}})();var v=[];(function(){for(var g=0;g<25;g++)v[g]=t.create()})();var p=a.SHA3=x.extend({cfg:x.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],l=0;l<25;l++)g[l]=new t.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,l){for(var n=this._state,r=this.blockSize/2,e=0;e<r;e++){var A=g[l+2*e],u=g[l+2*e+1];A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,u=(u<<8|u>>>24)&16711935|(u<<24|u>>>8)&4278255360;var E=n[e];E.high^=u,E.low^=A}for(var w=0;w<24;w++){for(var Q=0;Q<5;Q++){for(var B=0,y=0,H=0;H<5;H++){var E=n[Q+5*H];B^=E.high,y^=E.low}var D=v[Q];D.high=B,D.low=y}for(var Q=0;Q<5;Q++)for(var G=v[(Q+4)%5],z=v[(Q+1)%5],I=z.high,P=z.low,B=G.high^(I<<1|P>>>31),y=G.low^(P<<1|I>>>31),H=0;H<5;H++){var E=n[Q+5*H];E.high^=B,E.low^=y}for(var k=1;k<25;k++){var B,y,E=n[k],T=E.high,U=E.low,R=f[k];R<32?(B=T<<R|U>>>32-R,y=U<<R|T>>>32-R):(B=U<<R-32|T>>>64-R,y=T<<R-32|U>>>64-R);var S=v[i[k]];S.high=B,S.low=y}var M=v[0],F=n[0];M.high=F.high,M.low=F.low;for(var Q=0;Q<5;Q++)for(var H=0;H<5;H++){var k=Q+5*H,E=n[k],L=v[k],N=v[(Q+1)%5+5*H],j=v[(Q+2)%5+5*H];E.high=L.high^~N.high&j.high,E.low=L.low^~N.low&j.low}var E=n[0],q=_[w];E.high^=q.high,E.low^=q.low}},_doFinalize:function(){var g=this._data,l=g.words;this._nDataBytes*8;var n=g.sigBytes*8,r=this.blockSize*32;l[n>>>5]|=1<<24-n%32,l[(o.ceil((n+1)/r)*r>>>5)-1]|=128,g.sigBytes=l.length*4,this._process();for(var e=this._state,A=this.cfg.outputLength/8,u=A/8,E=[],w=0;w<u;w++){var Q=e[w],B=Q.high,y=Q.low;B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,y=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,E.push(y),E.push(B)}return new b.init(E,A)},clone:function(){for(var g=x.clone.call(this),l=g._state=this._state.slice(0),n=0;n<25;n++)l[n]=l[n].clone();return g}});m.SHA3=x._createHelper(p),m.HmacSHA3=x._createHmacHelper(p)}(Math),s.SHA3})}(Ke)),H0}var M0={},Ve={get exports(){return M0},set exports(c){M0=c}},Qr;function $e(){return Qr||(Qr=1,function(c,C){(function(s,o){c.exports=o(O())})(W,function(s){/** @preserve
				(c) 2012 by Cédric Mesnil. All rights reserved.

				Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

				    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
				    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

				THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
				*/return function(o){var m=s,d=m.lib,b=d.WordArray,x=d.Hasher,h=m.algo,t=b.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),a=b.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=b.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),i=b.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),_=b.create([0,1518500249,1859775393,2400959708,2840853838]),v=b.create([1352829926,1548603684,1836072691,2053994217,0]),p=h.RIPEMD160=x.extend({_doReset:function(){this._hash=b.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,E){for(var w=0;w<16;w++){var Q=E+w,B=u[Q];u[Q]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}var y=this._hash.words,H=_.words,D=v.words,G=t.words,z=a.words,I=f.words,P=i.words,k,T,U,R,S,M,F,L,N,j;M=k=y[0],F=T=y[1],L=U=y[2],N=R=y[3],j=S=y[4];for(var q,w=0;w<80;w+=1)q=k+u[E+G[w]]|0,w<16?q+=g(T,U,R)+H[0]:w<32?q+=l(T,U,R)+H[1]:w<48?q+=n(T,U,R)+H[2]:w<64?q+=r(T,U,R)+H[3]:q+=e(T,U,R)+H[4],q=q|0,q=A(q,I[w]),q=q+S|0,k=S,S=R,R=A(U,10),U=T,T=q,q=M+u[E+z[w]]|0,w<16?q+=e(F,L,N)+D[0]:w<32?q+=r(F,L,N)+D[1]:w<48?q+=n(F,L,N)+D[2]:w<64?q+=l(F,L,N)+D[3]:q+=g(F,L,N)+D[4],q=q|0,q=A(q,P[w]),q=q+j|0,M=j,j=N,N=A(L,10),L=F,F=q;q=y[1]+U+N|0,y[1]=y[2]+R+j|0,y[2]=y[3]+S+M|0,y[3]=y[4]+k+F|0,y[4]=y[0]+T+L|0,y[0]=q},_doFinalize:function(){var u=this._data,E=u.words,w=this._nDataBytes*8,Q=u.sigBytes*8;E[Q>>>5]|=128<<24-Q%32,E[(Q+64>>>9<<4)+14]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,u.sigBytes=(E.length+1)*4,this._process();for(var B=this._hash,y=B.words,H=0;H<5;H++){var D=y[H];y[H]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}return B},clone:function(){var u=x.clone.call(this);return u._hash=this._hash.clone(),u}});function g(u,E,w){return u^E^w}function l(u,E,w){return u&E|~u&w}function n(u,E,w){return(u|~E)^w}function r(u,E,w){return u&w|E&~w}function e(u,E,w){return u^(E|~w)}function A(u,E){return u<<E|u>>>32-E}m.RIPEMD160=x._createHelper(p),m.HmacRIPEMD160=x._createHmacHelper(p)}(),s.RIPEMD160})}(Ve)),M0}var k0={},Je={get exports(){return k0},set exports(c){k0=c}},Rr;function ur(){return Rr||(Rr=1,function(c,C){(function(s,o){c.exports=o(O())})(W,function(s){(function(){var o=s,m=o.lib,d=m.Base,b=o.enc,x=b.Utf8,h=o.algo;h.HMAC=d.extend({init:function(t,a){t=this._hasher=new t.init,typeof a=="string"&&(a=x.parse(a));var f=t.blockSize,i=f*4;a.sigBytes>i&&(a=t.finalize(a)),a.clamp();for(var _=this._oKey=a.clone(),v=this._iKey=a.clone(),p=_.words,g=v.words,l=0;l<f;l++)p[l]^=1549556828,g[l]^=909522486;_.sigBytes=v.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var a=this._hasher,f=a.finalize(t);a.reset();var i=a.finalize(this._oKey.clone().concat(f));return i}})})()})}(Je)),k0}var F0={},rt={get exports(){return F0},set exports(c){F0=c}},Dr;function et(){return Dr||(Dr=1,function(c,C){(function(s,o,m){c.exports=o(O(),cr(),ur())})(W,function(s){return function(){var o=s,m=o.lib,d=m.Base,b=m.WordArray,x=o.algo,h=x.SHA1,t=x.HMAC,a=x.PBKDF2=d.extend({cfg:d.extend({keySize:128/32,hasher:h,iterations:1}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,i){for(var _=this.cfg,v=t.create(_.hasher,f),p=b.create(),g=b.create([1]),l=p.words,n=g.words,r=_.keySize,e=_.iterations;l.length<r;){var A=v.update(i).finalize(g);v.reset();for(var u=A.words,E=u.length,w=A,Q=1;Q<e;Q++){w=v.finalize(w),v.reset();for(var B=w.words,y=0;y<E;y++)u[y]^=B[y]}p.concat(A),n[0]++}return p.sigBytes=r*4,p}});o.PBKDF2=function(f,i,_){return a.create(_).compute(f,i)}}(),s.PBKDF2})}(rt)),F0}var U0={},tt={get exports(){return U0},set exports(c){U0=c}},Sr;function a0(){return Sr||(Sr=1,function(c,C){(function(s,o,m){c.exports=o(O(),cr(),ur())})(W,function(s){return function(){var o=s,m=o.lib,d=m.Base,b=m.WordArray,x=o.algo,h=x.MD5,t=x.EvpKDF=d.extend({cfg:d.extend({keySize:128/32,hasher:h,iterations:1}),init:function(a){this.cfg=this.cfg.extend(a)},compute:function(a,f){for(var i,_=this.cfg,v=_.hasher.create(),p=b.create(),g=p.words,l=_.keySize,n=_.iterations;g.length<l;){i&&v.update(i),i=v.update(a).finalize(f),v.reset();for(var r=1;r<n;r++)i=v.finalize(i),v.reset();p.concat(i)}return p.sigBytes=l*4,p}});o.EvpKDF=function(a,f,i){return t.create(i).compute(a,f)}}(),s.EvpKDF})}(tt)),U0}var P0={},at={get exports(){return P0},set exports(c){P0=c}},Hr;function X(){return Hr||(Hr=1,function(c,C){(function(s,o,m){c.exports=o(O(),a0())})(W,function(s){s.lib.Cipher||function(o){var m=s,d=m.lib,b=d.Base,x=d.WordArray,h=d.BufferedBlockAlgorithm,t=m.enc;t.Utf8;var a=t.Base64,f=m.algo,i=f.EvpKDF,_=d.Cipher=h.extend({cfg:b.extend(),createEncryptor:function(B,y){return this.create(this._ENC_XFORM_MODE,B,y)},createDecryptor:function(B,y){return this.create(this._DEC_XFORM_MODE,B,y)},init:function(B,y,H){this.cfg=this.cfg.extend(H),this._xformMode=B,this._key=y,this.reset()},reset:function(){h.reset.call(this),this._doReset()},process:function(B){return this._append(B),this._process()},finalize:function(B){B&&this._append(B);var y=this._doFinalize();return y},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function B(y){return typeof y=="string"?Q:u}return function(y){return{encrypt:function(H,D,G){return B(D).encrypt(y,H,D,G)},decrypt:function(H,D,G){return B(D).decrypt(y,H,D,G)}}}}()});d.StreamCipher=_.extend({_doFinalize:function(){var B=this._process(!0);return B},blockSize:1});var v=m.mode={},p=d.BlockCipherMode=b.extend({createEncryptor:function(B,y){return this.Encryptor.create(B,y)},createDecryptor:function(B,y){return this.Decryptor.create(B,y)},init:function(B,y){this._cipher=B,this._iv=y}}),g=v.CBC=function(){var B=p.extend();B.Encryptor=B.extend({processBlock:function(H,D){var G=this._cipher,z=G.blockSize;y.call(this,H,D,z),G.encryptBlock(H,D),this._prevBlock=H.slice(D,D+z)}}),B.Decryptor=B.extend({processBlock:function(H,D){var G=this._cipher,z=G.blockSize,I=H.slice(D,D+z);G.decryptBlock(H,D),y.call(this,H,D,z),this._prevBlock=I}});function y(H,D,G){var z,I=this._iv;I?(z=I,this._iv=o):z=this._prevBlock;for(var P=0;P<G;P++)H[D+P]^=z[P]}return B}(),l=m.pad={},n=l.Pkcs7={pad:function(B,y){for(var H=y*4,D=H-B.sigBytes%H,G=D<<24|D<<16|D<<8|D,z=[],I=0;I<D;I+=4)z.push(G);var P=x.create(z,D);B.concat(P)},unpad:function(B){var y=B.words[B.sigBytes-1>>>2]&255;B.sigBytes-=y}};d.BlockCipher=_.extend({cfg:_.cfg.extend({mode:g,padding:n}),reset:function(){var B;_.reset.call(this);var y=this.cfg,H=y.iv,D=y.mode;this._xformMode==this._ENC_XFORM_MODE?B=D.createEncryptor:(B=D.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==B?this._mode.init(this,H&&H.words):(this._mode=B.call(D,this,H&&H.words),this._mode.__creator=B)},_doProcessBlock:function(B,y){this._mode.processBlock(B,y)},_doFinalize:function(){var B,y=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(y.pad(this._data,this.blockSize),B=this._process(!0)):(B=this._process(!0),y.unpad(B)),B},blockSize:128/32});var r=d.CipherParams=b.extend({init:function(B){this.mixIn(B)},toString:function(B){return(B||this.formatter).stringify(this)}}),e=m.format={},A=e.OpenSSL={stringify:function(B){var y,H=B.ciphertext,D=B.salt;return D?y=x.create([1398893684,1701076831]).concat(D).concat(H):y=H,y.toString(a)},parse:function(B){var y,H=a.parse(B),D=H.words;return D[0]==1398893684&&D[1]==1701076831&&(y=x.create(D.slice(2,4)),D.splice(0,4),H.sigBytes-=16),r.create({ciphertext:H,salt:y})}},u=d.SerializableCipher=b.extend({cfg:b.extend({format:A}),encrypt:function(B,y,H,D){D=this.cfg.extend(D);var G=B.createEncryptor(H,D),z=G.finalize(y),I=G.cfg;return r.create({ciphertext:z,key:H,iv:I.iv,algorithm:B,mode:I.mode,padding:I.padding,blockSize:B.blockSize,formatter:D.format})},decrypt:function(B,y,H,D){D=this.cfg.extend(D),y=this._parse(y,D.format);var G=B.createDecryptor(H,D).finalize(y.ciphertext);return G},_parse:function(B,y){return typeof B=="string"?y.parse(B,this):B}}),E=m.kdf={},w=E.OpenSSL={execute:function(B,y,H,D){D||(D=x.random(64/8));var G=i.create({keySize:y+H}).compute(B,D),z=x.create(G.words.slice(y),H*4);return G.sigBytes=y*4,r.create({key:G,iv:z,salt:D})}},Q=d.PasswordBasedCipher=u.extend({cfg:u.cfg.extend({kdf:w}),encrypt:function(B,y,H,D){D=this.cfg.extend(D);var G=D.kdf.execute(H,B.keySize,B.ivSize);D.iv=G.iv;var z=u.encrypt.call(this,B,y,G.key,D);return z.mixIn(G),z},decrypt:function(B,y,H,D){D=this.cfg.extend(D),y=this._parse(y,D.format);var G=D.kdf.execute(H,B.keySize,B.ivSize,y.salt);D.iv=G.iv;var z=u.decrypt.call(this,B,y,G.key,D);return z}})}()})}(at)),P0}var T0={},nt={get exports(){return T0},set exports(c){T0=c}},Mr;function it(){return Mr||(Mr=1,function(c,C){(function(s,o,m){c.exports=o(O(),X())})(W,function(s){return s.mode.CFB=function(){var o=s.lib.BlockCipherMode.extend();o.Encryptor=o.extend({processBlock:function(d,b){var x=this._cipher,h=x.blockSize;m.call(this,d,b,h,x),this._prevBlock=d.slice(b,b+h)}}),o.Decryptor=o.extend({processBlock:function(d,b){var x=this._cipher,h=x.blockSize,t=d.slice(b,b+h);m.call(this,d,b,h,x),this._prevBlock=t}});function m(d,b,x,h){var t,a=this._iv;a?(t=a.slice(0),this._iv=void 0):t=this._prevBlock,h.encryptBlock(t,0);for(var f=0;f<x;f++)d[b+f]^=t[f]}return o}(),s.mode.CFB})}(nt)),T0}var z0={},ot={get exports(){return z0},set exports(c){z0=c}},kr;function st(){return kr||(kr=1,function(c,C){(function(s,o,m){c.exports=o(O(),X())})(W,function(s){return s.mode.CTR=function(){var o=s.lib.BlockCipherMode.extend(),m=o.Encryptor=o.extend({processBlock:function(d,b){var x=this._cipher,h=x.blockSize,t=this._iv,a=this._counter;t&&(a=this._counter=t.slice(0),this._iv=void 0);var f=a.slice(0);x.encryptBlock(f,0),a[h-1]=a[h-1]+1|0;for(var i=0;i<h;i++)d[b+i]^=f[i]}});return o.Decryptor=m,o}(),s.mode.CTR})}(ot)),z0}var G0={},ft={get exports(){return G0},set exports(c){G0=c}},Fr;function ct(){return Fr||(Fr=1,function(c,C){(function(s,o,m){c.exports=o(O(),X())})(W,function(s){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return s.mode.CTRGladman=function(){var o=s.lib.BlockCipherMode.extend();function m(x){if((x>>24&255)===255){var h=x>>16&255,t=x>>8&255,a=x&255;h===255?(h=0,t===255?(t=0,a===255?a=0:++a):++t):++h,x=0,x+=h<<16,x+=t<<8,x+=a}else x+=1<<24;return x}function d(x){return(x[0]=m(x[0]))===0&&(x[1]=m(x[1])),x}var b=o.Encryptor=o.extend({processBlock:function(x,h){var t=this._cipher,a=t.blockSize,f=this._iv,i=this._counter;f&&(i=this._counter=f.slice(0),this._iv=void 0),d(i);var _=i.slice(0);t.encryptBlock(_,0);for(var v=0;v<a;v++)x[h+v]^=_[v]}});return o.Decryptor=b,o}(),s.mode.CTRGladman})}(ft)),G0}var L0={},ut={get exports(){return L0},set exports(c){L0=c}},Ur;function xt(){return Ur||(Ur=1,function(c,C){(function(s,o,m){c.exports=o(O(),X())})(W,function(s){return s.mode.OFB=function(){var o=s.lib.BlockCipherMode.extend(),m=o.Encryptor=o.extend({processBlock:function(d,b){var x=this._cipher,h=x.blockSize,t=this._iv,a=this._keystream;t&&(a=this._keystream=t.slice(0),this._iv=void 0),x.encryptBlock(a,0);for(var f=0;f<h;f++)d[b+f]^=a[f]}});return o.Decryptor=m,o}(),s.mode.OFB})}(ut)),L0}var q0={},ht={get exports(){return q0},set exports(c){q0=c}},Pr;function At(){return Pr||(Pr=1,function(c,C){(function(s,o,m){c.exports=o(O(),X())})(W,function(s){return s.mode.ECB=function(){var o=s.lib.BlockCipherMode.extend();return o.Encryptor=o.extend({processBlock:function(m,d){this._cipher.encryptBlock(m,d)}}),o.Decryptor=o.extend({processBlock:function(m,d){this._cipher.decryptBlock(m,d)}}),o}(),s.mode.ECB})}(ht)),q0}var W0={},lt={get exports(){return W0},set exports(c){W0=c}},Tr;function vt(){return Tr||(Tr=1,function(c,C){(function(s,o,m){c.exports=o(O(),X())})(W,function(s){return s.pad.AnsiX923={pad:function(o,m){var d=o.sigBytes,b=m*4,x=b-d%b,h=d+x-1;o.clamp(),o.words[h>>>2]|=x<<24-h%4*8,o.sigBytes+=x},unpad:function(o){var m=o.words[o.sigBytes-1>>>2]&255;o.sigBytes-=m}},s.pad.Ansix923})}(lt)),W0}var O0={},dt={get exports(){return O0},set exports(c){O0=c}},zr;function pt(){return zr||(zr=1,function(c,C){(function(s,o,m){c.exports=o(O(),X())})(W,function(s){return s.pad.Iso10126={pad:function(o,m){var d=m*4,b=d-o.sigBytes%d;o.concat(s.lib.WordArray.random(b-1)).concat(s.lib.WordArray.create([b<<24],1))},unpad:function(o){var m=o.words[o.sigBytes-1>>>2]&255;o.sigBytes-=m}},s.pad.Iso10126})}(dt)),O0}var N0={},gt={get exports(){return N0},set exports(c){N0=c}},Gr;function _t(){return Gr||(Gr=1,function(c,C){(function(s,o,m){c.exports=o(O(),X())})(W,function(s){return s.pad.Iso97971={pad:function(o,m){o.concat(s.lib.WordArray.create([2147483648],1)),s.pad.ZeroPadding.pad(o,m)},unpad:function(o){s.pad.ZeroPadding.unpad(o),o.sigBytes--}},s.pad.Iso97971})}(gt)),N0}var j0={},bt={get exports(){return j0},set exports(c){j0=c}},Lr;function mt(){return Lr||(Lr=1,function(c,C){(function(s,o,m){c.exports=o(O(),X())})(W,function(s){return s.pad.ZeroPadding={pad:function(o,m){var d=m*4;o.clamp(),o.sigBytes+=d-(o.sigBytes%d||d)},unpad:function(o){for(var m=o.words,d=o.sigBytes-1,d=o.sigBytes-1;d>=0;d--)if(m[d>>>2]>>>24-d%4*8&255){o.sigBytes=d+1;break}}},s.pad.ZeroPadding})}(bt)),j0}var X0={},Bt={get exports(){return X0},set exports(c){X0=c}},qr;function yt(){return qr||(qr=1,function(c,C){(function(s,o,m){c.exports=o(O(),X())})(W,function(s){return s.pad.NoPadding={pad:function(){},unpad:function(){}},s.pad.NoPadding})}(Bt)),X0}var Y0={},Ct={get exports(){return Y0},set exports(c){Y0=c}},Wr;function wt(){return Wr||(Wr=1,function(c,C){(function(s,o,m){c.exports=o(O(),X())})(W,function(s){return function(o){var m=s,d=m.lib,b=d.CipherParams,x=m.enc,h=x.Hex,t=m.format;t.Hex={stringify:function(a){return a.ciphertext.toString(h)},parse:function(a){var f=h.parse(a);return b.create({ciphertext:f})}}}(),s.format.Hex})}(Ct)),Y0}var K0={},Et={get exports(){return K0},set exports(c){K0=c}},Or;function It(){return Or||(Or=1,function(c,C){(function(s,o,m){c.exports=o(O(),i0(),o0(),a0(),X())})(W,function(s){return function(){var o=s,m=o.lib,d=m.BlockCipher,b=o.algo,x=[],h=[],t=[],a=[],f=[],i=[],_=[],v=[],p=[],g=[];(function(){for(var r=[],e=0;e<256;e++)e<128?r[e]=e<<1:r[e]=e<<1^283;for(var A=0,u=0,e=0;e<256;e++){var E=u^u<<1^u<<2^u<<3^u<<4;E=E>>>8^E&255^99,x[A]=E,h[E]=A;var w=r[A],Q=r[w],B=r[Q],y=r[E]*257^E*16843008;t[A]=y<<24|y>>>8,a[A]=y<<16|y>>>16,f[A]=y<<8|y>>>24,i[A]=y;var y=B*16843009^Q*65537^w*257^A*16843008;_[E]=y<<24|y>>>8,v[E]=y<<16|y>>>16,p[E]=y<<8|y>>>24,g[E]=y,A?(A=w^r[r[r[B^w]]],u^=r[r[u]]):A=u=1}})();var l=[0,1,2,4,8,16,32,64,128,27,54],n=b.AES=d.extend({_doReset:function(){var r;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var e=this._keyPriorReset=this._key,A=e.words,u=e.sigBytes/4,E=this._nRounds=u+6,w=(E+1)*4,Q=this._keySchedule=[],B=0;B<w;B++)B<u?Q[B]=A[B]:(r=Q[B-1],B%u?u>6&&B%u==4&&(r=x[r>>>24]<<24|x[r>>>16&255]<<16|x[r>>>8&255]<<8|x[r&255]):(r=r<<8|r>>>24,r=x[r>>>24]<<24|x[r>>>16&255]<<16|x[r>>>8&255]<<8|x[r&255],r^=l[B/u|0]<<24),Q[B]=Q[B-u]^r);for(var y=this._invKeySchedule=[],H=0;H<w;H++){var B=w-H;if(H%4)var r=Q[B];else var r=Q[B-4];H<4||B<=4?y[H]=r:y[H]=_[x[r>>>24]]^v[x[r>>>16&255]]^p[x[r>>>8&255]]^g[x[r&255]]}}},encryptBlock:function(r,e){this._doCryptBlock(r,e,this._keySchedule,t,a,f,i,x)},decryptBlock:function(r,e){var A=r[e+1];r[e+1]=r[e+3],r[e+3]=A,this._doCryptBlock(r,e,this._invKeySchedule,_,v,p,g,h);var A=r[e+1];r[e+1]=r[e+3],r[e+3]=A},_doCryptBlock:function(r,e,A,u,E,w,Q,B){for(var y=this._nRounds,H=r[e]^A[0],D=r[e+1]^A[1],G=r[e+2]^A[2],z=r[e+3]^A[3],I=4,P=1;P<y;P++){var k=u[H>>>24]^E[D>>>16&255]^w[G>>>8&255]^Q[z&255]^A[I++],T=u[D>>>24]^E[G>>>16&255]^w[z>>>8&255]^Q[H&255]^A[I++],U=u[G>>>24]^E[z>>>16&255]^w[H>>>8&255]^Q[D&255]^A[I++],R=u[z>>>24]^E[H>>>16&255]^w[D>>>8&255]^Q[G&255]^A[I++];H=k,D=T,G=U,z=R}var k=(B[H>>>24]<<24|B[D>>>16&255]<<16|B[G>>>8&255]<<8|B[z&255])^A[I++],T=(B[D>>>24]<<24|B[G>>>16&255]<<16|B[z>>>8&255]<<8|B[H&255])^A[I++],U=(B[G>>>24]<<24|B[z>>>16&255]<<16|B[H>>>8&255]<<8|B[D&255])^A[I++],R=(B[z>>>24]<<24|B[H>>>16&255]<<16|B[D>>>8&255]<<8|B[G&255])^A[I++];r[e]=k,r[e+1]=T,r[e+2]=U,r[e+3]=R},keySize:256/32});o.AES=d._createHelper(n)}(),s.AES})}(Et)),K0}var Z0={},Qt={get exports(){return Z0},set exports(c){Z0=c}},Nr;function Rt(){return Nr||(Nr=1,function(c,C){(function(s,o,m){c.exports=o(O(),i0(),o0(),a0(),X())})(W,function(s){return function(){var o=s,m=o.lib,d=m.WordArray,b=m.BlockCipher,x=o.algo,h=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],t=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],a=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],i=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],_=x.DES=b.extend({_doReset:function(){for(var l=this._key,n=l.words,r=[],e=0;e<56;e++){var A=h[e]-1;r[e]=n[A>>>5]>>>31-A%32&1}for(var u=this._subKeys=[],E=0;E<16;E++){for(var w=u[E]=[],Q=a[E],e=0;e<24;e++)w[e/6|0]|=r[(t[e]-1+Q)%28]<<31-e%6,w[4+(e/6|0)]|=r[28+(t[e+24]-1+Q)%28]<<31-e%6;w[0]=w[0]<<1|w[0]>>>31;for(var e=1;e<7;e++)w[e]=w[e]>>>(e-1)*4+3;w[7]=w[7]<<5|w[7]>>>27}for(var B=this._invSubKeys=[],e=0;e<16;e++)B[e]=u[15-e]},encryptBlock:function(l,n){this._doCryptBlock(l,n,this._subKeys)},decryptBlock:function(l,n){this._doCryptBlock(l,n,this._invSubKeys)},_doCryptBlock:function(l,n,r){this._lBlock=l[n],this._rBlock=l[n+1],v.call(this,4,252645135),v.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),v.call(this,1,1431655765);for(var e=0;e<16;e++){for(var A=r[e],u=this._lBlock,E=this._rBlock,w=0,Q=0;Q<8;Q++)w|=f[Q][((E^A[Q])&i[Q])>>>0];this._lBlock=E,this._rBlock=u^w}var B=this._lBlock;this._lBlock=this._rBlock,this._rBlock=B,v.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),v.call(this,16,65535),v.call(this,4,252645135),l[n]=this._lBlock,l[n+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function v(l,n){var r=(this._lBlock>>>l^this._rBlock)&n;this._rBlock^=r,this._lBlock^=r<<l}function p(l,n){var r=(this._rBlock>>>l^this._lBlock)&n;this._lBlock^=r,this._rBlock^=r<<l}o.DES=b._createHelper(_);var g=x.TripleDES=b.extend({_doReset:function(){var l=this._key,n=l.words;if(n.length!==2&&n.length!==4&&n.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var r=n.slice(0,2),e=n.length<4?n.slice(0,2):n.slice(2,4),A=n.length<6?n.slice(0,2):n.slice(4,6);this._des1=_.createEncryptor(d.create(r)),this._des2=_.createEncryptor(d.create(e)),this._des3=_.createEncryptor(d.create(A))},encryptBlock:function(l,n){this._des1.encryptBlock(l,n),this._des2.decryptBlock(l,n),this._des3.encryptBlock(l,n)},decryptBlock:function(l,n){this._des3.decryptBlock(l,n),this._des2.encryptBlock(l,n),this._des1.decryptBlock(l,n)},keySize:192/32,ivSize:64/32,blockSize:64/32});o.TripleDES=b._createHelper(g)}(),s.TripleDES})}(Qt)),Z0}var V0={},Dt={get exports(){return V0},set exports(c){V0=c}},jr;function St(){return jr||(jr=1,function(c,C){(function(s,o,m){c.exports=o(O(),i0(),o0(),a0(),X())})(W,function(s){return function(){var o=s,m=o.lib,d=m.StreamCipher,b=o.algo,x=b.RC4=d.extend({_doReset:function(){for(var a=this._key,f=a.words,i=a.sigBytes,_=this._S=[],v=0;v<256;v++)_[v]=v;for(var v=0,p=0;v<256;v++){var g=v%i,l=f[g>>>2]>>>24-g%4*8&255;p=(p+_[v]+l)%256;var n=_[v];_[v]=_[p],_[p]=n}this._i=this._j=0},_doProcessBlock:function(a,f){a[f]^=h.call(this)},keySize:256/32,ivSize:0});function h(){for(var a=this._S,f=this._i,i=this._j,_=0,v=0;v<4;v++){f=(f+1)%256,i=(i+a[f])%256;var p=a[f];a[f]=a[i],a[i]=p,_|=a[(a[f]+a[i])%256]<<24-v*8}return this._i=f,this._j=i,_}o.RC4=d._createHelper(x);var t=b.RC4Drop=x.extend({cfg:x.cfg.extend({drop:192}),_doReset:function(){x._doReset.call(this);for(var a=this.cfg.drop;a>0;a--)h.call(this)}});o.RC4Drop=d._createHelper(t)}(),s.RC4})}(Dt)),V0}var $0={},Ht={get exports(){return $0},set exports(c){$0=c}},Xr;function Mt(){return Xr||(Xr=1,function(c,C){(function(s,o,m){c.exports=o(O(),i0(),o0(),a0(),X())})(W,function(s){return function(){var o=s,m=o.lib,d=m.StreamCipher,b=o.algo,x=[],h=[],t=[],a=b.Rabbit=d.extend({_doReset:function(){for(var i=this._key.words,_=this.cfg.iv,v=0;v<4;v++)i[v]=(i[v]<<8|i[v]>>>24)&16711935|(i[v]<<24|i[v]>>>8)&4278255360;var p=this._X=[i[0],i[3]<<16|i[2]>>>16,i[1],i[0]<<16|i[3]>>>16,i[2],i[1]<<16|i[0]>>>16,i[3],i[2]<<16|i[1]>>>16],g=this._C=[i[2]<<16|i[2]>>>16,i[0]&4294901760|i[1]&65535,i[3]<<16|i[3]>>>16,i[1]&4294901760|i[2]&65535,i[0]<<16|i[0]>>>16,i[2]&4294901760|i[3]&65535,i[1]<<16|i[1]>>>16,i[3]&4294901760|i[0]&65535];this._b=0;for(var v=0;v<4;v++)f.call(this);for(var v=0;v<8;v++)g[v]^=p[v+4&7];if(_){var l=_.words,n=l[0],r=l[1],e=(n<<8|n>>>24)&16711935|(n<<24|n>>>8)&4278255360,A=(r<<8|r>>>24)&16711935|(r<<24|r>>>8)&4278255360,u=e>>>16|A&4294901760,E=A<<16|e&65535;g[0]^=e,g[1]^=u,g[2]^=A,g[3]^=E,g[4]^=e,g[5]^=u,g[6]^=A,g[7]^=E;for(var v=0;v<4;v++)f.call(this)}},_doProcessBlock:function(i,_){var v=this._X;f.call(this),x[0]=v[0]^v[5]>>>16^v[3]<<16,x[1]=v[2]^v[7]>>>16^v[5]<<16,x[2]=v[4]^v[1]>>>16^v[7]<<16,x[3]=v[6]^v[3]>>>16^v[1]<<16;for(var p=0;p<4;p++)x[p]=(x[p]<<8|x[p]>>>24)&16711935|(x[p]<<24|x[p]>>>8)&4278255360,i[_+p]^=x[p]},blockSize:128/32,ivSize:64/32});function f(){for(var i=this._X,_=this._C,v=0;v<8;v++)h[v]=_[v];_[0]=_[0]+1295307597+this._b|0,_[1]=_[1]+3545052371+(_[0]>>>0<h[0]>>>0?1:0)|0,_[2]=_[2]+886263092+(_[1]>>>0<h[1]>>>0?1:0)|0,_[3]=_[3]+1295307597+(_[2]>>>0<h[2]>>>0?1:0)|0,_[4]=_[4]+3545052371+(_[3]>>>0<h[3]>>>0?1:0)|0,_[5]=_[5]+886263092+(_[4]>>>0<h[4]>>>0?1:0)|0,_[6]=_[6]+1295307597+(_[5]>>>0<h[5]>>>0?1:0)|0,_[7]=_[7]+3545052371+(_[6]>>>0<h[6]>>>0?1:0)|0,this._b=_[7]>>>0<h[7]>>>0?1:0;for(var v=0;v<8;v++){var p=i[v]+_[v],g=p&65535,l=p>>>16,n=((g*g>>>17)+g*l>>>15)+l*l,r=((p&4294901760)*p|0)+((p&65535)*p|0);t[v]=n^r}i[0]=t[0]+(t[7]<<16|t[7]>>>16)+(t[6]<<16|t[6]>>>16)|0,i[1]=t[1]+(t[0]<<8|t[0]>>>24)+t[7]|0,i[2]=t[2]+(t[1]<<16|t[1]>>>16)+(t[0]<<16|t[0]>>>16)|0,i[3]=t[3]+(t[2]<<8|t[2]>>>24)+t[1]|0,i[4]=t[4]+(t[3]<<16|t[3]>>>16)+(t[2]<<16|t[2]>>>16)|0,i[5]=t[5]+(t[4]<<8|t[4]>>>24)+t[3]|0,i[6]=t[6]+(t[5]<<16|t[5]>>>16)+(t[4]<<16|t[4]>>>16)|0,i[7]=t[7]+(t[6]<<8|t[6]>>>24)+t[5]|0}o.Rabbit=d._createHelper(a)}(),s.Rabbit})}(Ht)),$0}var J0={},kt={get exports(){return J0},set exports(c){J0=c}},Yr;function Ft(){return Yr||(Yr=1,function(c,C){(function(s,o,m){c.exports=o(O(),i0(),o0(),a0(),X())})(W,function(s){return function(){var o=s,m=o.lib,d=m.StreamCipher,b=o.algo,x=[],h=[],t=[],a=b.RabbitLegacy=d.extend({_doReset:function(){var i=this._key.words,_=this.cfg.iv,v=this._X=[i[0],i[3]<<16|i[2]>>>16,i[1],i[0]<<16|i[3]>>>16,i[2],i[1]<<16|i[0]>>>16,i[3],i[2]<<16|i[1]>>>16],p=this._C=[i[2]<<16|i[2]>>>16,i[0]&4294901760|i[1]&65535,i[3]<<16|i[3]>>>16,i[1]&4294901760|i[2]&65535,i[0]<<16|i[0]>>>16,i[2]&4294901760|i[3]&65535,i[1]<<16|i[1]>>>16,i[3]&4294901760|i[0]&65535];this._b=0;for(var g=0;g<4;g++)f.call(this);for(var g=0;g<8;g++)p[g]^=v[g+4&7];if(_){var l=_.words,n=l[0],r=l[1],e=(n<<8|n>>>24)&16711935|(n<<24|n>>>8)&4278255360,A=(r<<8|r>>>24)&16711935|(r<<24|r>>>8)&4278255360,u=e>>>16|A&4294901760,E=A<<16|e&65535;p[0]^=e,p[1]^=u,p[2]^=A,p[3]^=E,p[4]^=e,p[5]^=u,p[6]^=A,p[7]^=E;for(var g=0;g<4;g++)f.call(this)}},_doProcessBlock:function(i,_){var v=this._X;f.call(this),x[0]=v[0]^v[5]>>>16^v[3]<<16,x[1]=v[2]^v[7]>>>16^v[5]<<16,x[2]=v[4]^v[1]>>>16^v[7]<<16,x[3]=v[6]^v[3]>>>16^v[1]<<16;for(var p=0;p<4;p++)x[p]=(x[p]<<8|x[p]>>>24)&16711935|(x[p]<<24|x[p]>>>8)&4278255360,i[_+p]^=x[p]},blockSize:128/32,ivSize:64/32});function f(){for(var i=this._X,_=this._C,v=0;v<8;v++)h[v]=_[v];_[0]=_[0]+1295307597+this._b|0,_[1]=_[1]+3545052371+(_[0]>>>0<h[0]>>>0?1:0)|0,_[2]=_[2]+886263092+(_[1]>>>0<h[1]>>>0?1:0)|0,_[3]=_[3]+1295307597+(_[2]>>>0<h[2]>>>0?1:0)|0,_[4]=_[4]+3545052371+(_[3]>>>0<h[3]>>>0?1:0)|0,_[5]=_[5]+886263092+(_[4]>>>0<h[4]>>>0?1:0)|0,_[6]=_[6]+1295307597+(_[5]>>>0<h[5]>>>0?1:0)|0,_[7]=_[7]+3545052371+(_[6]>>>0<h[6]>>>0?1:0)|0,this._b=_[7]>>>0<h[7]>>>0?1:0;for(var v=0;v<8;v++){var p=i[v]+_[v],g=p&65535,l=p>>>16,n=((g*g>>>17)+g*l>>>15)+l*l,r=((p&4294901760)*p|0)+((p&65535)*p|0);t[v]=n^r}i[0]=t[0]+(t[7]<<16|t[7]>>>16)+(t[6]<<16|t[6]>>>16)|0,i[1]=t[1]+(t[0]<<8|t[0]>>>24)+t[7]|0,i[2]=t[2]+(t[1]<<16|t[1]>>>16)+(t[0]<<16|t[0]>>>16)|0,i[3]=t[3]+(t[2]<<8|t[2]>>>24)+t[1]|0,i[4]=t[4]+(t[3]<<16|t[3]>>>16)+(t[2]<<16|t[2]>>>16)|0,i[5]=t[5]+(t[4]<<8|t[4]>>>24)+t[3]|0,i[6]=t[6]+(t[5]<<16|t[5]>>>16)+(t[4]<<16|t[4]>>>16)|0,i[7]=t[7]+(t[6]<<8|t[6]>>>24)+t[5]|0}o.RabbitLegacy=d._createHelper(a)}(),s.RabbitLegacy})}(kt)),J0}(function(c,C){(function(s,o,m){c.exports=o(O(),m0(),Fe(),Pe(),i0(),Ge(),o0(),cr(),Br(),Ne(),wr(),Ye(),Ze(),$e(),ur(),et(),a0(),X(),it(),st(),ct(),xt(),At(),vt(),pt(),_t(),mt(),yt(),wt(),It(),Rt(),St(),Mt(),Ft())})(W,function(s){return s})})(Qe);const Ut={0:{0:"A",1:"C",2:"G",3:"T"},1:{0:"A",1:"G",2:"C",3:"T"},2:{0:"C",1:"A",2:"T",3:"G"},3:{0:"C",1:"T",2:"A",3:"G"},4:{0:"G",1:"A",2:"T",3:"C"},5:{0:"G",1:"T",2:"A",3:"C"},6:{0:"T",1:"C",2:"G",3:"A"},7:{0:"T",1:"G",2:"C",3:"A"}},Pt={0:{A:0,C:1,G:2,T:3},1:{A:0,G:1,C:2,T:3},2:{C:0,A:1,T:2,G:3},3:{C:0,T:1,A:2,G:3},4:{G:0,A:1,T:2,C:3},5:{G:0,T:1,A:2,C:3},6:{T:0,C:1,G:2,A:3},7:{T:0,G:1,C:2,A:3}},Tt={A:{A:"A",T:"T",C:"C",G:"G"},T:{A:"T",T:"G",C:"A",G:"C"},C:{A:"C",T:"A",C:"G",G:"T"},G:{A:"G",T:"C",C:"T",G:"A"}},zt={A:{A:"A",T:"C",C:"T",G:"G"},T:{A:"T",T:"A",C:"G",G:"C"},C:{A:"C",T:"G",C:"A",G:"T"},G:{A:"G",T:"T",C:"C",G:"A"}},Gt={A:{A:"A",T:"T",C:"C",G:"G"},T:{A:"T",T:"A",C:"G",G:"C"},C:{A:"C",T:"G",C:"A",G:"T"},G:{A:"G",T:"C",C:"T",G:"A"}},Z=(c,C)=>[rr(c>>6&3,C),rr(c>>4&3,C),rr(c>>2&3,C),rr(c>>0&3,C)],s0=(c,C)=>er(c[0],C)<<6|er(c[1],C)<<4|er(c[2],C)<<2|er(c[3],C)<<0,rr=(c,C)=>Ut[C][c],er=(c,C)=>Pt[C][c],Kr=(c,C)=>Tt[c][C],Zr=(c,C)=>zt[c][C],Vr=(c,C)=>Gt[c][C];var Lt=Object.freeze({__proto__:null,decrypt:({buffer:c,width:C,height:s,name:o},m)=>{const d=new Uint8ClampedArray(c),b=new Uint8ClampedArray(d.length),x={0:Kr,1:Vr,2:Zr},h=p=>3.999999999999999*p*(1-p),t=Array.from({length:4},(p,g)=>r0.PBKDF2(m,`key${g}`).toString()),a=Array.from({length:3},(p,g)=>r0.PBKDF2(m,`extraKey${g}`).toString());let f=t.map(p=>n0(p,!0)),i=a.map(p=>n0(p,!0));for(let p=0;p<1e3;p++)f=f.map(h),i=i.map(h);const _=Math.round(i[0]*7),v=[Z(Math.round(i[2]*255),Math.round(i[0]*7)),Z(Math.round(i[1]*255),Math.round(i[1]*7)),Z(Math.round(i[0]*255),Math.round(i[2]*7))];for(let p=0;p<s;p++)for(let g=0;g<C;g++){const l=(p*C+g)*4;f=f.map(h);const n=[Z(d[l],Math.round(f[0]*7)),Z(d[l+1],Math.round(f[1]*7)),Z(d[l+2],Math.round(f[2]*7))],r=x[2-Math.round(f[3]*2)];for(let e=0;e<v.length;e++){const A=v[e],u=n[e];v[e]=n[e],n[e]=A.map((E,w)=>r(u[w],E))}b[l]=s0(n[0],_),b[l+1]=s0(n[1],_),b[l+2]=s0(n[2],_),b[l+3]=d[l+3]}return{data:{name:o,buffer:b.buffer,width:C,height:s}}},encrypt:({buffer:c,width:C,height:s,name:o},m)=>{const d=new Uint8ClampedArray(c),b=new Uint8ClampedArray(d.length),x={0:Kr,1:Vr,2:Zr},h=p=>3.999999999999999*p*(1-p),t=Array.from({length:4},(p,g)=>r0.PBKDF2(m,`key${g}`).toString()),a=Array.from({length:3},(p,g)=>r0.PBKDF2(m,`extraKey${g}`).toString());let f=t.map(p=>n0(p,!0)),i=a.map(p=>n0(p,!0));for(let p=0;p<1e3;p++)f=f.map(h),i=i.map(h);const _=Math.round(i[0]*7),v=[Z(Math.round(i[2]*255),Math.round(i[0]*7)),Z(Math.round(i[1]*255),Math.round(i[1]*7)),Z(Math.round(i[0]*255),Math.round(i[2]*7))];for(let p=0;p<s;p++)for(let g=0;g<C;g++){const l=(p*C+g)*4;f=f.map(h);const n=[Z(d[l],_),Z(d[l+1],_),Z(d[l+2],_)],r=x[Math.round(f[3]*2)];for(let e=0;e<v.length;e++){const A=v[e],u=n[e];n[e]=A.map((E,w)=>r(u[w],E)),v[e]=n[e]}b[l]=s0(n[0],Math.round(f[0]*7)),b[l+1]=s0(n[1],Math.round(f[1]*7)),b[l+2]=s0(n[2],Math.round(f[2]*7)),b[l+3]=d[l+3]}return{data:{name:o,buffer:b.buffer,width:C,height:s}}}});const qt=(c,C,s)=>{const o=new OffscreenCanvas(c,C);o.addEventListener("webglcontextlost",function(d){console.log(d,111)});const m=o.getContext(s,{preserveDrawingBuffer:!0});if(!m)throw new Error("WebGL Context Create Error");return m},Wt=(c,C,s)=>{const o=c.createShader(C);if(!o)throw new Error("WebGL Shader Create Error");c.shaderSource(o,s),c.compileShader(o);const m=c.getShaderInfoLog(o);if(m&&m.length>0)throw m;return o},Ot=(c,C,...s)=>{for(const m of s)c.attachShader(C,m);c.linkProgram(C);const o=c.getProgramInfoLog(C);if(o&&o.length>0)throw o;for(const m of s)c.deleteShader(m);return C},Nt=(c,C,s)=>{if(C.length!==s.length)throw new Error("shadersType length not equal shadersSource length");const o=[];for(let d=0;d<s.length;d++){const b=Wt(c,C[d],s[d]);o.push(b)}const m=c.createProgram();if(!m)throw new Error("WebGL Program Create Error");return Ot(c,m,...o)},jt=(c,C)=>{const{width:s,height:o,buffer:m}=C,d=new Uint8Array(m),b=c.createTexture();if(!b)throw new Error("WebGL Texture Create Error");return c.bindTexture(c.TEXTURE_2D,b),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,s,o,0,c.RGBA,c.UNSIGNED_BYTE,d),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),c.generateMipmap(c.TEXTURE_2D),c.bindTexture(c.TEXTURE_2D,null),b},Xt=(c,C,s,o)=>{const m=c.createBuffer();return c.bindBuffer(C,m),c.bufferData(C,s,o),c.bindBuffer(c.ARRAY_BUFFER,null),m},$r=(c,C,s)=>{const o=`#version 300 es
    precision highp float;
    layout (location = 0) in vec2 a_position;
    out vec2 v_texcoord;
    void main() {
      gl_Position = vec4(a_position, 0, 1);
      v_texcoord = a_position * 0.5 + 0.5;// 将顶点坐标转换为纹理坐标, 方便纹理采样
    }
    `,{name:m,buffer:d,width:b,height:x}=c,h=new ArrayBuffer(d.byteLength),t=new Uint8Array(h),a=qt(b,x,"webgl2"),f=Nt(a,[a.VERTEX_SHADER,a.FRAGMENT_SHADER],[o,C]);a.viewport(0,0,a.drawingBufferWidth,a.drawingBufferHeight);const i=Xt(a,a.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),a.STATIC_DRAW),_=jt(a,c);return a.useProgram(f),a.bindBuffer(a.ARRAY_BUFFER,i),a.enableVertexAttribArray(0),a.vertexAttribPointer(0,2,a.FLOAT,!1,2*4,0),a.bindTexture(a.TEXTURE_2D,_),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,1),s==null||s(a,f),a.drawArrays(a.TRIANGLE_STRIP,0,4),a.readPixels(0,0,b,x,a.RGBA,a.UNSIGNED_BYTE,t),a.bindTexture(a.TEXTURE_2D,null),a.bindBuffer(a.ARRAY_BUFFER,null),a.deleteProgram(f),{name:m,buffer:h,width:b,height:x}};var Yt=Object.freeze({__proto__:null,decrypt:(c,C)=>{const m=$r(c,`#version 300 es
  precision highp float;
  uniform int u_iterations;
  uniform float u_size;
  uniform sampler2D u_texture;
  in vec2 v_texcoord;
  out vec4 outColor;
  void main() {
    // 将纹理坐标转换为像素坐标
    ivec2 pixelCoordinate = ivec2(v_texcoord * u_size);
    // 定义变换矩阵
    const mat2 transformMatrix = mat2(2.0, -1.0, -1.0, 1.0);
    for (int i = 0; i < u_iterations; i++) {
      // 将 pixelCoordinate 转换为 vec2 类型以进行矩阵乘法
      vec2 tempPixelCoordinate = vec2(pixelCoordinate);
      // 计算矩阵乘积
      tempPixelCoordinate = transformMatrix * tempPixelCoordinate;
      // 将结果转换回 ivec2 类型
      pixelCoordinate = ivec2(tempPixelCoordinate);
      // 为结果加上 int(u_size)
      pixelCoordinate = pixelCoordinate + int(u_size);
      // 对结果取模 u_size
      pixelCoordinate = pixelCoordinate % int(u_size);
    }
    outColor = texelFetch(u_texture, pixelCoordinate, 0);
  }
  `,(d,b)=>{const x=d.getUniformLocation(b,"u_iterations");d.uniform1i(x,Number(C));const h=d.getUniformLocation(b,"u_size");d.uniform1f(h,c.width)});return{data:we(m)}},encrypt:(c,C)=>{const s=Ce(c);return{data:$r(s,`#version 300 es
    precision mediump float;
    uniform int u_iteration;
    uniform float u_size;
    uniform sampler2D u_texture;
    in vec2 v_texcoord;
    out vec4 outColor;
    void main() {
      // 将纹理坐标转换为像素坐标
      ivec2 pixelCoordinate = ivec2(v_texcoord * u_size);
      // 定义变换矩阵
      const mat2 transformMatrix = mat2(1.0, 1.0, 1.0, 2.0);
      //迭代变换
      for (int i = 0; i < u_iteration; i++) {
        // 将 pixelCoordinate 转换为 vec2 类型以进行矩阵乘法
        vec2 tempPixelCoordinate = vec2(pixelCoordinate);
        // 计算矩阵乘积
        tempPixelCoordinate = transformMatrix * tempPixelCoordinate;
        // 将结果转换回 ivec2 类型
        pixelCoordinate = ivec2(tempPixelCoordinate);
        // 为结果加上 int(u_size)
        pixelCoordinate = pixelCoordinate + int(u_size);
        // 对结果取模 u_size
        pixelCoordinate = pixelCoordinate % int(u_size);
      }

     // 将获取到的颜色值设置为输出颜色
     outColor = texelFetch(u_texture, pixelCoordinate, 0);
    }
  `,(d,b)=>{const x=d.getUniformLocation(b,"u_iteration");d.uniform1i(x,Number(C));const h=d.getUniformLocation(b,"u_size");d.uniform1f(h,s.width)})}}});const Jr=({buffer:c,width:C,height:s,name:o},m)=>{const d=new Uint8ClampedArray(c),b=new Uint8ClampedArray(d.length),x=a=>3.999999999999999*a*(1-a);let t=Array.from({length:4},(a,f)=>r0.PBKDF2(m,`key${f}`).toString()).map(a=>n0(a,!0));for(let a=0;a<1e3;a++)t=t.map(x);for(let a=0;a<s;a++)for(let f=0;f<C;f++){const i=(a*C+f)*4;t=t.map(x),t[0]=x(t[0]),b[i]=d[i]^Math.round(t[0]*255)^Math.round(t[1]*255),t[0]=x(t[0]),b[i+1]=d[i+1]^Math.round(t[0]*255)^Math.round(t[2]*255),t[0]=x(t[0]),b[i+2]=d[i+2]^Math.round(t[0]*255)^Math.round(t[3]*255),b[i+3]=d[i+3]}return{data:{name:o,buffer:b.buffer,width:C,height:s}}};var Kt=Object.freeze({__proto__:null,decrypt:(c,C)=>Jr(c,C),encrypt:Jr});const re=({buffer:c,width:C,height:s,name:o},m)=>{const d=new Uint8ClampedArray(c),b=new Uint8ClampedArray(d.length),x=a=>{const f=1.999999999999999;return a<.5?a=f*a:a=f*(1-a),a};let t=Array.from({length:4},(a,f)=>r0.PBKDF2(m,`key${f}`).toString()).map(a=>n0(a,!0));for(let a=0;a<1e3;a++)t=t.map(x);for(let a=0;a<s;a++)for(let f=0;f<C;f++){const i=(a*C+f)*4;t=t.map(x),t[0]=x(t[0]),b[i]=d[i]^Math.round(t[0]*255)^Math.round(t[1]*255),t[0]=x(t[0]),b[i+1]=d[i+1]^Math.round(t[0]*255)^Math.round(t[2]*255),t[0]=x(t[0]),b[i+2]=d[i+2]^Math.round(t[0]*255)^Math.round(t[3]*255),b[i+3]=d[i+3]}return{data:{name:o,buffer:b.buffer,width:C,height:s}}};var Zt=Object.freeze({__proto__:null,decrypt:(c,C)=>re(c,C),encrypt:re}),tr=function(c){c==null&&(c=new Date().getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.init_genrand(c)};tr.prototype.init_genrand=function(c){for(this.mt[0]=c>>>0,this.mti=1;this.mti<this.N;this.mti++){const C=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(((C&4294901760)>>>16)*1812433253<<16)+(C&65535)*1812433253+this.mti,this.mt[this.mti]>>>=0}},tr.prototype.init_by_array=function(c,C){var s,o,m;for(this.init_genrand(19650218),s=1,o=0,m=this.N>C?this.N:C;m;m--){var d=this.mt[s-1]^this.mt[s-1]>>>30;this.mt[s]=(this.mt[s]^(((d&4294901760)>>>16)*1664525<<16)+(d&65535)*1664525)+c[o]+o,this.mt[s]>>>=0,s++,o++,s>=this.N&&(this.mt[0]=this.mt[this.N-1],s=1),o>=C&&(o=0)}for(m=this.N-1;m;m--){const b=this.mt[s-1]^this.mt[s-1]>>>30;this.mt[s]=(this.mt[s]^(((b&4294901760)>>>16)*1566083941<<16)+(b&65535)*1566083941)-s,this.mt[s]>>>=0,s++,s>=this.N&&(this.mt[0]=this.mt[this.N-1],s=1)}this.mt[0]=2147483648},tr.prototype.genrand_int32=function(){var c,C=[0,this.MATRIX_A];if(this.mti>=this.N){var s;for(this.mti==this.N+1&&this.init_genrand(5489),s=0;s<this.N-this.M;s++)c=this.mt[s]&this.UPPER_MASK|this.mt[s+1]&this.LOWER_MASK,this.mt[s]=this.mt[s+this.M]^c>>>1^C[c&1];for(;s<this.N-1;s++)c=this.mt[s]&this.UPPER_MASK|this.mt[s+1]&this.LOWER_MASK,this.mt[s]=this.mt[s+(this.M-this.N)]^c>>>1^C[c&1];c=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^c>>>1^C[c&1],this.mti=0}return c=this.mt[this.mti++],c^=c>>>11,c^=c<<7&2636928640,c^=c<<15&4022730752,c^=c>>>18,c>>>0};function Vt(c){const C=[];let s=0;const o=c.length;let m,d,b;for(;s<o;)m=c[s],d=c[s+1],b=c[s+2],128>m?(C.push(String.fromCharCode(m)),s+=1):191<m&&m<224?(C.push(String.fromCharCode((m&31)<<6|d&63)),s+=2):(C.push(String.fromCharCode((m&15)<<12|(d&63)<<6|b&63)),s+=3);return C.join("")}function $t(c){const C=[];let s=0,o;c=encodeURI(c);const m=c.length;for(;s<m;)o=c[s],s+=1,o!=="%"?C.push(o.charCodeAt(0)):(o=c[s]+c[s+1],C.push(parseInt(o,16)),s+=2);return C}function ee(c,C){const s=Array.from(Array(C).keys()),o=[];let m;const d=r0.SHA512(c).words.reduce(function(x,h){return x+Math.abs(h)},0),b=new tr(d);for(let x=C;x>0;x--)m=b.genrand_int32()%x,o.push(s[m]),s[m]=s[x-1];return o}function Jt(c,C){const s=$t(c),o=[],m=s.length;for(let d=0;d<m;d++)for(let b=128;b>0;b=Math.floor(b/2))if(Math.floor(s[d]/b)){for(let x=0;x<C;x++)o.push(1);s[d]-=b}else for(let x=0;x<C;x++)o.push(0);for(let d=0;d<24;d++)for(let b=0;b<C;b++)o.push(1);return o}function ra(c,C){function s(x){const h=x.length;let t=0;for(let a=0;a<h;a++)t+=x[a];return Math.round(t/h)}const o=[];let m,d;const b=Math.floor(Math.floor(c.length/C)/8);for(let x=0;x<b;x++){m=0,d=128;for(let h=0;h<8;h++)m+=s(c.slice((x*8+h)*C,(x*8+h+1)*C))*d,d=Math.floor(d/2);if(m==255)break;o.push(m)}return Vt(o)}function ea(c,C,s){const o=c.length;if(c.length>s)throw"Can not hold this many data!";const m=Array(s);for(let b=0;b<s;b++)m[b]=Math.floor(Math.random()*2);const d=ee(C,s);for(let b=0;b<o;b++)m[d[b]]=c[b];return m}function ta(c,C){function s(b){return b%2==1?b-1:b}function o(b){return b%2==1?b:b+1}let m=0;const d=new Uint8ClampedArray(c.length);for(let b=0;b<d.length;b+=4)d[b]=C[m]?o(c[b]):s(c[b]),d[b+1]=C[m+1]?o(c[b+1]):s(c[b+1]),d[b+2]=C[m+2]?o(c[b+2]):s(c[b+2]),d[b+3]=c[b+3],m+=3;return d.buffer}function aa(c,C){const s=c.length,o=Array(s),m=ee(C,s);for(let d=0;d<s;d++)o[d]=c[m[d]];return o}function na(c){const C=[];for(let s=0;s<c.length;s+=4)C.push(c[s]%2==1?1:0),C.push(c[s+1]%2==1?1:0),C.push(c[s+2]%2==1?1:0);return C}function ia(c,C,s=5){const o=new Uint8ClampedArray(c.buffer),m=na(o),d=aa(m,C);return ra(d,s)}const oa=(c,C,s,o=5)=>{const m=new Uint8ClampedArray(c.buffer);let d=c.buffer;const b=m.length/4*3;let x=Jt(C,o);return x=ea(x,s,b),d=ta(m,x),{width:c.width,height:c.height,name:c.name,buffer:d}};var sa=Object.freeze({__proto__:null,decrypt:(c,C,{repeat:s})=>{const o=ia(c,C,s);return{data:c,payload:o}},encrypt:(c,C,{message:s,repeat:o})=>s!=null&&s.trim()?{data:oa(c,s,C,o),payload:s}:{data:c}});const fa={encry_dna:Lt,encry_arnold:Yt,encry_logistic:Kt,encry_tent:Zt,stega_lsb:sa};let te=null;const ca=async(c,C,s,o={})=>{const m=await me(c.file),{format:d,quality:b,...x}=o,h=te[s];if(typeof h!="function")throw new Error("未找到对应的处理函数: "+s);const t=await h(m,C,x),a=await Be(t.data,d,b),f=await Ie(a,null,!1,!0),i=t.payload;return{data:f,payload:i}};self.addEventListener("message",async c=>{const{args:C,module:s}=c.data;if(s)try{te=fa[s]}catch(o){console.error("获取模块失败: ",o)}else if(C)try{const o=await ca(...C);self.postMessage(o)}catch(o){console.error("图像处理失败: ",o),self.postMessage(null)}})})();
