var kn=Object.defineProperty;var Sn=(e,r,t)=>r in e?kn(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var ye=(e,r,t)=>(Sn(e,typeof r!="symbol"?r+"":r,t),t),wr=(e,r,t)=>{if(!r.has(e))throw TypeError("Cannot "+t)};var Qe=(e,r,t)=>(wr(e,r,"read from private field"),t?t.call(e):r.get(e)),xt=(e,r,t)=>{if(r.has(e))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(e):r.set(e,t)},Ne=(e,r,t,s)=>(wr(e,r,"write to private field"),s?s.call(e,t):r.set(e,t),t),Wt=(e,r,t,s)=>({set _(c){Ne(e,r,c,t)},get _(){return Qe(e,r,s)}});import{r as V,j as me,a as re,F as Kt,R as en,g as Bn,b as On,c as tn,d as Pe,e as Dn,_ as Ve,h as Rn}from"./index-d879d323.js";function Se(e){for(var r=arguments.length,t=Array(r>1?r-1:0),s=1;s<r;s++)t[s-1]=arguments[s];throw Error("[Immer] minified error nr: "+e+(t.length?" "+t.map(function(c){return"'"+c+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function rt(e){return!!e&&!!e[Ee]}function Xe(e){var r;return!!e&&(function(t){if(!t||typeof t!="object")return!1;var s=Object.getPrototypeOf(t);if(s===null)return!0;var c=Object.hasOwnProperty.call(s,"constructor")&&s.constructor;return c===Object||typeof c=="function"&&Function.toString.call(c)===Ln}(e)||Array.isArray(e)||!!e[Br]||!!(!((r=e.constructor)===null||r===void 0)&&r[Br])||fr(e)||hr(e))}function pt(e,r,t){t===void 0&&(t=!1),it(e)===0?(t?Object.keys:vr)(e).forEach(function(s){t&&typeof s=="symbol"||r(s,e[s],e)}):e.forEach(function(s,c){return r(c,s,e)})}function it(e){var r=e[Ee];return r?r.i>3?r.i-4:r.i:Array.isArray(e)?1:fr(e)?2:hr(e)?3:0}function Xt(e,r){return it(e)===2?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function Mn(e,r){return it(e)===2?e.get(r):e[r]}function rn(e,r,t){var s=it(e);s===2?e.set(r,t):s===3?e.add(t):e[r]=t}function Pn(e,r){return e===r?e!==0||1/e==1/r:e!=e&&r!=r}function fr(e){return Nn&&e instanceof Map}function hr(e){return Qn&&e instanceof Set}function We(e){return e.o||e.t}function dr(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var r=Un(e);delete r[Ee];for(var t=vr(r),s=0;s<t.length;s++){var c=t[s],i=r[c];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(r[c]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[c]})}return Object.create(Object.getPrototypeOf(e),r)}function pr(e,r){return r===void 0&&(r=!1),mr(e)||rt(e)||!Xe(e)||(it(e)>1&&(e.set=e.add=e.clear=e.delete=Fn),Object.freeze(e),r&&pt(e,function(t,s){return pr(s,!0)},!0)),e}function Fn(){Se(2)}function mr(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Fe(e){var r=jn[e];return r||Se(18,e),r}function _r(){return mt}function Ht(e,r){r&&(Fe("Patches"),e.u=[],e.s=[],e.v=r)}function St(e){$t(e),e.p.forEach(Tn),e.p=null}function $t(e){e===mt&&(mt=e.l)}function Er(e){return mt={p:[],l:mt,h:e,m:!0,_:0}}function Tn(e){var r=e[Ee];r.i===0||r.i===1?r.j():r.O=!0}function Gt(e,r){r._=r.p.length;var t=r.p[0],s=e!==void 0&&e!==t;return r.h.g||Fe("ES5").S(r,e,s),s?(t[Ee].P&&(St(r),Se(4)),Xe(e)&&(e=Bt(r,e),r.l||Ot(r,e)),r.u&&Fe("Patches").M(t[Ee].t,e,r.u,r.s)):e=Bt(r,t,[]),St(r),r.u&&r.v(r.u,r.s),e!==nn?e:void 0}function Bt(e,r,t){if(mr(r))return r;var s=r[Ee];if(!s)return pt(r,function(n,u){return Cr(e,s,r,n,u,t)},!0),r;if(s.A!==e)return r;if(!s.P)return Ot(e,s.t,!0),s.t;if(!s.I){s.I=!0,s.A._--;var c=s.i===4||s.i===5?s.o=dr(s.k):s.o,i=c,p=!1;s.i===3&&(i=new Set(c),c.clear(),p=!0),pt(i,function(n,u){return Cr(e,s,c,n,u,t,p)}),Ot(e,c,!1),t&&e.u&&Fe("Patches").N(s,t,e.u,e.s)}return s.o}function Cr(e,r,t,s,c,i,p){if(rt(c)){var n=Bt(e,c,i&&r&&r.i!==3&&!Xt(r.R,s)?i.concat(s):void 0);if(rn(t,s,n),!rt(n))return;e.m=!1}else p&&t.add(c);if(Xe(c)&&!mr(c)){if(!e.h.D&&e._<1)return;Bt(e,c),r&&r.A.l||Ot(e,c)}}function Ot(e,r,t){t===void 0&&(t=!1),!e.l&&e.h.D&&e.m&&pr(r,t)}function Yt(e,r){var t=e[Ee];return(t?We(t):e)[r]}function xr(e,r){if(r in e)for(var t=Object.getPrototypeOf(e);t;){var s=Object.getOwnPropertyDescriptor(t,r);if(s)return s;t=Object.getPrototypeOf(t)}}function Jt(e){e.P||(e.P=!0,e.l&&Jt(e.l))}function qt(e){e.o||(e.o=dr(e.t))}function Vt(e,r,t){var s=fr(r)?Fe("MapSet").F(r,t):hr(r)?Fe("MapSet").T(r,t):e.g?function(c,i){var p=Array.isArray(c),n={i:p?1:0,A:i?i.A:_r(),P:!1,I:!1,R:{},l:i,t:c,k:null,o:null,j:null,C:!1},u=n,h=er;p&&(u=[n],h=ft);var _=Proxy.revocable(u,h),v=_.revoke,y=_.proxy;return n.k=y,n.j=v,y}(r,t):Fe("ES5").J(r,t);return(t?t.A:_r()).p.push(s),s}function zn(e){return rt(e)||Se(22,e),function r(t){if(!Xe(t))return t;var s,c=t[Ee],i=it(t);if(c){if(!c.P&&(c.i<4||!Fe("ES5").K(c)))return c.t;c.I=!0,s=Ir(t,i),c.I=!1}else s=Ir(t,i);return pt(s,function(p,n){c&&Mn(c.t,p)===n||rn(s,p,r(n))}),i===3?new Set(s):s}(e)}function Ir(e,r){switch(r){case 2:return new Map(e);case 3:return Array.from(e)}return dr(e)}var kr,mt,gr=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Nn=typeof Map<"u",Qn=typeof Set<"u",Sr=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",nn=gr?Symbol.for("immer-nothing"):((kr={})["immer-nothing"]=!0,kr),Br=gr?Symbol.for("immer-draftable"):"__$immer_draftable",Ee=gr?Symbol.for("immer-state"):"__$immer_state",Ln=""+Object.prototype.constructor,vr=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Un=Object.getOwnPropertyDescriptors||function(e){var r={};return vr(e).forEach(function(t){r[t]=Object.getOwnPropertyDescriptor(e,t)}),r},jn={},er={get:function(e,r){if(r===Ee)return e;var t=We(e);if(!Xt(t,r))return function(c,i,p){var n,u=xr(i,p);return u?"value"in u?u.value:(n=u.get)===null||n===void 0?void 0:n.call(c.k):void 0}(e,t,r);var s=t[r];return e.I||!Xe(s)?s:s===Yt(e.t,r)?(qt(e),e.o[r]=Vt(e.A.h,s,e)):s},has:function(e,r){return r in We(e)},ownKeys:function(e){return Reflect.ownKeys(We(e))},set:function(e,r,t){var s=xr(We(e),r);if(s!=null&&s.set)return s.set.call(e.k,t),!0;if(!e.P){var c=Yt(We(e),r),i=c==null?void 0:c[Ee];if(i&&i.t===t)return e.o[r]=t,e.R[r]=!1,!0;if(Pn(t,c)&&(t!==void 0||Xt(e.t,r)))return!0;qt(e),Jt(e)}return e.o[r]===t&&(t!==void 0||r in e.o)||Number.isNaN(t)&&Number.isNaN(e.o[r])||(e.o[r]=t,e.R[r]=!0),!0},deleteProperty:function(e,r){return Yt(e.t,r)!==void 0||r in e.t?(e.R[r]=!1,qt(e),Jt(e)):delete e.R[r],e.o&&delete e.o[r],!0},getOwnPropertyDescriptor:function(e,r){var t=We(e),s=Reflect.getOwnPropertyDescriptor(t,r);return s&&{writable:!0,configurable:e.i!==1||r!=="length",enumerable:s.enumerable,value:t[r]}},defineProperty:function(){Se(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Se(12)}},ft={};pt(er,function(e,r){ft[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}}),ft.deleteProperty=function(e,r){return ft.set.call(this,e,r,void 0)},ft.set=function(e,r,t){return er.set.call(this,e[0],r,t,e[0])};var Wn=function(){function e(t){var s=this;this.g=Sr,this.D=!0,this.produce=function(c,i,p){if(typeof c=="function"&&typeof i!="function"){var n=i;i=c;var u=s;return function(g){var E=this;g===void 0&&(g=n);for(var d=arguments.length,A=Array(d>1?d-1:0),a=1;a<d;a++)A[a-1]=arguments[a];return u.produce(g,function(o){var m;return(m=i).call.apply(m,[E,o].concat(A))})}}var h;if(typeof i!="function"&&Se(6),p!==void 0&&typeof p!="function"&&Se(7),Xe(c)){var _=Er(s),v=Vt(s,c,void 0),y=!0;try{h=i(v),y=!1}finally{y?St(_):$t(_)}return typeof Promise<"u"&&h instanceof Promise?h.then(function(g){return Ht(_,p),Gt(g,_)},function(g){throw St(_),g}):(Ht(_,p),Gt(h,_))}if(!c||typeof c!="object"){if((h=i(c))===void 0&&(h=c),h===nn&&(h=void 0),s.D&&pr(h,!0),p){var b=[],C=[];Fe("Patches").M(c,h,b,C),p(b,C)}return h}Se(21,c)},this.produceWithPatches=function(c,i){if(typeof c=="function")return function(h){for(var _=arguments.length,v=Array(_>1?_-1:0),y=1;y<_;y++)v[y-1]=arguments[y];return s.produceWithPatches(h,function(b){return c.apply(void 0,[b].concat(v))})};var p,n,u=s.produce(c,i,function(h,_){p=h,n=_});return typeof Promise<"u"&&u instanceof Promise?u.then(function(h){return[h,p,n]}):[u,p,n]},typeof(t==null?void 0:t.useProxies)=="boolean"&&this.setUseProxies(t.useProxies),typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var r=e.prototype;return r.createDraft=function(t){Xe(t)||Se(8),rt(t)&&(t=zn(t));var s=Er(this),c=Vt(this,t,void 0);return c[Ee].C=!0,$t(s),c},r.finishDraft=function(t,s){var c=t&&t[Ee],i=c.A;return Ht(i,s),Gt(void 0,i)},r.setAutoFreeze=function(t){this.D=t},r.setUseProxies=function(t){t&&!Sr&&Se(20),this.g=t},r.applyPatches=function(t,s){var c;for(c=s.length-1;c>=0;c--){var i=s[c];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}c>-1&&(s=s.slice(c+1));var p=Fe("Patches").$;return rt(t)?p(t,s):this.produce(t,function(n){return p(n,s)})},e}(),Ce=new Wn,gt=Ce.produce;Ce.produceWithPatches.bind(Ce);Ce.setAutoFreeze.bind(Ce);Ce.setUseProxies.bind(Ce);Ce.applyPatches.bind(Ce);Ce.createDraft.bind(Ce);Ce.finishDraft.bind(Ce);const Hn=({options:e,checkedIndex:r,className:t,onChange:s,renderSelected:c,renderList:i,renderFooter:p,disabled:n,listNumber:u=2})=>{const[h,_]=V.useState(!1),[v,y]=V.useState(0),b=V.useRef(null),C=V.useRef(null),g=a=>{s==null||s(a),_(!1)},E=a=>{var o;return a.option===void 0?null:c?re(Kt,{children:c(a.option)}):re(Kt,{children:(o=a.option)==null?void 0:o.toString()})},d=a=>i?i(a.option):re("span",{className:"block truncate",children:a.option.toString()}),A=()=>p?p():null;return V.useEffect(()=>{if(h&&b.current){const a=b.current.childNodes[0];a||y(80);const o=a.offsetHeight*u+10;y(o)}},[e,h,u]),V.useEffect(()=>{const a=o=>{if(h){if(o.target.closest(".list-content")===C.current)return;_(!1)}};return h?document.addEventListener("click",a):document.removeEventListener("click",a),()=>{document.removeEventListener("click",a)}},[h]),me("div",{ref:C,className:`list-content relative ${t??""}`,children:[re("button",{type:"button",className:"bg-gray-50 border border-gray-300 text-gray-600 text-sm font-semibold rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full px-2 py-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onClick:()=>_(!h),disabled:n,children:re("span",{className:"block truncate",children:re(E,{option:e[r]})})}),h&&me("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-md border shadow-lg  focus:outline-none sm:text-sm",children:[re("ul",{ref:b,style:{maxHeight:v},className:"overflow-auto",children:e==null?void 0:e.map((a,o)=>re("li",{className:`px-3 py-2 my-1 cursor-pointer select-none hover:bg-gray-100 ${r===o?"bg-gray-100 font-medium":""}`,onClick:()=>g(o),children:re(d,{option:a})},o))}),re("div",{children:re(A,{})})]})]})},jo=Hn,Gn={white:"text-gray-900 bg-white border border-gray-300 hover:bg-gray-100 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600",blue:"text-white bg-blue-700 hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700"};function Wo(e){const{typeColor:r="blue",className:t="",disabled:s,...c}=e,i=s?"opacity-70 pointer-events-none":"";return re("button",{type:"button",...c,className:`whitespace-nowrap outline-none shadow font-medium rounded-lg text-sm px-5 py-2.5 ${Gn[r]} ${t} ${i}`})}var tr={},Yn={get exports(){return tr},set exports(e){tr=e}};(function(e,r){(function(t){e.exports=t()})(function(t){var s=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function c(d,A){var a=d[0],o=d[1],m=d[2],f=d[3];a+=(o&m|~o&f)+A[0]-680876936|0,a=(a<<7|a>>>25)+o|0,f+=(a&o|~a&m)+A[1]-389564586|0,f=(f<<12|f>>>20)+a|0,m+=(f&a|~f&o)+A[2]+606105819|0,m=(m<<17|m>>>15)+f|0,o+=(m&f|~m&a)+A[3]-1044525330|0,o=(o<<22|o>>>10)+m|0,a+=(o&m|~o&f)+A[4]-176418897|0,a=(a<<7|a>>>25)+o|0,f+=(a&o|~a&m)+A[5]+1200080426|0,f=(f<<12|f>>>20)+a|0,m+=(f&a|~f&o)+A[6]-1473231341|0,m=(m<<17|m>>>15)+f|0,o+=(m&f|~m&a)+A[7]-45705983|0,o=(o<<22|o>>>10)+m|0,a+=(o&m|~o&f)+A[8]+1770035416|0,a=(a<<7|a>>>25)+o|0,f+=(a&o|~a&m)+A[9]-1958414417|0,f=(f<<12|f>>>20)+a|0,m+=(f&a|~f&o)+A[10]-42063|0,m=(m<<17|m>>>15)+f|0,o+=(m&f|~m&a)+A[11]-1990404162|0,o=(o<<22|o>>>10)+m|0,a+=(o&m|~o&f)+A[12]+1804603682|0,a=(a<<7|a>>>25)+o|0,f+=(a&o|~a&m)+A[13]-40341101|0,f=(f<<12|f>>>20)+a|0,m+=(f&a|~f&o)+A[14]-1502002290|0,m=(m<<17|m>>>15)+f|0,o+=(m&f|~m&a)+A[15]+1236535329|0,o=(o<<22|o>>>10)+m|0,a+=(o&f|m&~f)+A[1]-165796510|0,a=(a<<5|a>>>27)+o|0,f+=(a&m|o&~m)+A[6]-1069501632|0,f=(f<<9|f>>>23)+a|0,m+=(f&o|a&~o)+A[11]+643717713|0,m=(m<<14|m>>>18)+f|0,o+=(m&a|f&~a)+A[0]-373897302|0,o=(o<<20|o>>>12)+m|0,a+=(o&f|m&~f)+A[5]-701558691|0,a=(a<<5|a>>>27)+o|0,f+=(a&m|o&~m)+A[10]+38016083|0,f=(f<<9|f>>>23)+a|0,m+=(f&o|a&~o)+A[15]-660478335|0,m=(m<<14|m>>>18)+f|0,o+=(m&a|f&~a)+A[4]-405537848|0,o=(o<<20|o>>>12)+m|0,a+=(o&f|m&~f)+A[9]+568446438|0,a=(a<<5|a>>>27)+o|0,f+=(a&m|o&~m)+A[14]-1019803690|0,f=(f<<9|f>>>23)+a|0,m+=(f&o|a&~o)+A[3]-187363961|0,m=(m<<14|m>>>18)+f|0,o+=(m&a|f&~a)+A[8]+1163531501|0,o=(o<<20|o>>>12)+m|0,a+=(o&f|m&~f)+A[13]-1444681467|0,a=(a<<5|a>>>27)+o|0,f+=(a&m|o&~m)+A[2]-51403784|0,f=(f<<9|f>>>23)+a|0,m+=(f&o|a&~o)+A[7]+1735328473|0,m=(m<<14|m>>>18)+f|0,o+=(m&a|f&~a)+A[12]-1926607734|0,o=(o<<20|o>>>12)+m|0,a+=(o^m^f)+A[5]-378558|0,a=(a<<4|a>>>28)+o|0,f+=(a^o^m)+A[8]-2022574463|0,f=(f<<11|f>>>21)+a|0,m+=(f^a^o)+A[11]+1839030562|0,m=(m<<16|m>>>16)+f|0,o+=(m^f^a)+A[14]-35309556|0,o=(o<<23|o>>>9)+m|0,a+=(o^m^f)+A[1]-1530992060|0,a=(a<<4|a>>>28)+o|0,f+=(a^o^m)+A[4]+1272893353|0,f=(f<<11|f>>>21)+a|0,m+=(f^a^o)+A[7]-155497632|0,m=(m<<16|m>>>16)+f|0,o+=(m^f^a)+A[10]-1094730640|0,o=(o<<23|o>>>9)+m|0,a+=(o^m^f)+A[13]+681279174|0,a=(a<<4|a>>>28)+o|0,f+=(a^o^m)+A[0]-358537222|0,f=(f<<11|f>>>21)+a|0,m+=(f^a^o)+A[3]-722521979|0,m=(m<<16|m>>>16)+f|0,o+=(m^f^a)+A[6]+76029189|0,o=(o<<23|o>>>9)+m|0,a+=(o^m^f)+A[9]-640364487|0,a=(a<<4|a>>>28)+o|0,f+=(a^o^m)+A[12]-421815835|0,f=(f<<11|f>>>21)+a|0,m+=(f^a^o)+A[15]+530742520|0,m=(m<<16|m>>>16)+f|0,o+=(m^f^a)+A[2]-995338651|0,o=(o<<23|o>>>9)+m|0,a+=(m^(o|~f))+A[0]-198630844|0,a=(a<<6|a>>>26)+o|0,f+=(o^(a|~m))+A[7]+1126891415|0,f=(f<<10|f>>>22)+a|0,m+=(a^(f|~o))+A[14]-1416354905|0,m=(m<<15|m>>>17)+f|0,o+=(f^(m|~a))+A[5]-57434055|0,o=(o<<21|o>>>11)+m|0,a+=(m^(o|~f))+A[12]+1700485571|0,a=(a<<6|a>>>26)+o|0,f+=(o^(a|~m))+A[3]-1894986606|0,f=(f<<10|f>>>22)+a|0,m+=(a^(f|~o))+A[10]-1051523|0,m=(m<<15|m>>>17)+f|0,o+=(f^(m|~a))+A[1]-2054922799|0,o=(o<<21|o>>>11)+m|0,a+=(m^(o|~f))+A[8]+1873313359|0,a=(a<<6|a>>>26)+o|0,f+=(o^(a|~m))+A[15]-30611744|0,f=(f<<10|f>>>22)+a|0,m+=(a^(f|~o))+A[6]-1560198380|0,m=(m<<15|m>>>17)+f|0,o+=(f^(m|~a))+A[13]+1309151649|0,o=(o<<21|o>>>11)+m|0,a+=(m^(o|~f))+A[4]-145523070|0,a=(a<<6|a>>>26)+o|0,f+=(o^(a|~m))+A[11]-1120210379|0,f=(f<<10|f>>>22)+a|0,m+=(a^(f|~o))+A[2]+718787259|0,m=(m<<15|m>>>17)+f|0,o+=(f^(m|~a))+A[9]-343485551|0,o=(o<<21|o>>>11)+m|0,d[0]=a+d[0]|0,d[1]=o+d[1]|0,d[2]=m+d[2]|0,d[3]=f+d[3]|0}function i(d){var A=[],a;for(a=0;a<64;a+=4)A[a>>2]=d.charCodeAt(a)+(d.charCodeAt(a+1)<<8)+(d.charCodeAt(a+2)<<16)+(d.charCodeAt(a+3)<<24);return A}function p(d){var A=[],a;for(a=0;a<64;a+=4)A[a>>2]=d[a]+(d[a+1]<<8)+(d[a+2]<<16)+(d[a+3]<<24);return A}function n(d){var A=d.length,a=[1732584193,-271733879,-1732584194,271733878],o,m,f,x,B,I;for(o=64;o<=A;o+=64)c(a,i(d.substring(o-64,o)));for(d=d.substring(o-64),m=d.length,f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<m;o+=1)f[o>>2]|=d.charCodeAt(o)<<(o%4<<3);if(f[o>>2]|=128<<(o%4<<3),o>55)for(c(a,f),o=0;o<16;o+=1)f[o]=0;return x=A*8,x=x.toString(16).match(/(.*?)(.{0,8})$/),B=parseInt(x[2],16),I=parseInt(x[1],16)||0,f[14]=B,f[15]=I,c(a,f),a}function u(d){var A=d.length,a=[1732584193,-271733879,-1732584194,271733878],o,m,f,x,B,I;for(o=64;o<=A;o+=64)c(a,p(d.subarray(o-64,o)));for(d=o-64<A?d.subarray(o-64):new Uint8Array(0),m=d.length,f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<m;o+=1)f[o>>2]|=d[o]<<(o%4<<3);if(f[o>>2]|=128<<(o%4<<3),o>55)for(c(a,f),o=0;o<16;o+=1)f[o]=0;return x=A*8,x=x.toString(16).match(/(.*?)(.{0,8})$/),B=parseInt(x[2],16),I=parseInt(x[1],16)||0,f[14]=B,f[15]=I,c(a,f),a}function h(d){var A="",a;for(a=0;a<4;a+=1)A+=s[d>>a*8+4&15]+s[d>>a*8&15];return A}function _(d){var A;for(A=0;A<d.length;A+=1)d[A]=h(d[A]);return d.join("")}_(n("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function d(A,a){return A=A|0||0,A<0?Math.max(A+a,0):Math.min(A,a)}ArrayBuffer.prototype.slice=function(A,a){var o=this.byteLength,m=d(A,o),f=o,x,B,I,R;return a!==t&&(f=d(a,o)),m>f?new ArrayBuffer(0):(x=f-m,B=new ArrayBuffer(x),I=new Uint8Array(B),R=new Uint8Array(this,m,x),I.set(R),B)}}();function v(d){return/[\u0080-\uFFFF]/.test(d)&&(d=unescape(encodeURIComponent(d))),d}function y(d,A){var a=d.length,o=new ArrayBuffer(a),m=new Uint8Array(o),f;for(f=0;f<a;f+=1)m[f]=d.charCodeAt(f);return A?m:o}function b(d){return String.fromCharCode.apply(null,new Uint8Array(d))}function C(d,A,a){var o=new Uint8Array(d.byteLength+A.byteLength);return o.set(new Uint8Array(d)),o.set(new Uint8Array(A),d.byteLength),a?o:o.buffer}function g(d){var A=[],a=d.length,o;for(o=0;o<a-1;o+=2)A.push(parseInt(d.substr(o,2),16));return String.fromCharCode.apply(String,A)}function E(){this.reset()}return E.prototype.append=function(d){return this.appendBinary(v(d)),this},E.prototype.appendBinary=function(d){this._buff+=d,this._length+=d.length;var A=this._buff.length,a;for(a=64;a<=A;a+=64)c(this._hash,i(this._buff.substring(a-64,a)));return this._buff=this._buff.substring(a-64),this},E.prototype.end=function(d){var A=this._buff,a=A.length,o,m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f;for(o=0;o<a;o+=1)m[o>>2]|=A.charCodeAt(o)<<(o%4<<3);return this._finish(m,a),f=_(this._hash),d&&(f=g(f)),this.reset(),f},E.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},E.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},E.prototype.setState=function(d){return this._buff=d.buff,this._length=d.length,this._hash=d.hash,this},E.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},E.prototype._finish=function(d,A){var a=A,o,m,f;if(d[a>>2]|=128<<(a%4<<3),a>55)for(c(this._hash,d),a=0;a<16;a+=1)d[a]=0;o=this._length*8,o=o.toString(16).match(/(.*?)(.{0,8})$/),m=parseInt(o[2],16),f=parseInt(o[1],16)||0,d[14]=m,d[15]=f,c(this._hash,d)},E.hash=function(d,A){return E.hashBinary(v(d),A)},E.hashBinary=function(d,A){var a=n(d),o=_(a);return A?g(o):o},E.ArrayBuffer=function(){this.reset()},E.ArrayBuffer.prototype.append=function(d){var A=C(this._buff.buffer,d,!0),a=A.length,o;for(this._length+=d.byteLength,o=64;o<=a;o+=64)c(this._hash,p(A.subarray(o-64,o)));return this._buff=o-64<a?new Uint8Array(A.buffer.slice(o-64)):new Uint8Array(0),this},E.ArrayBuffer.prototype.end=function(d){var A=this._buff,a=A.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m,f;for(m=0;m<a;m+=1)o[m>>2]|=A[m]<<(m%4<<3);return this._finish(o,a),f=_(this._hash),d&&(f=g(f)),this.reset(),f},E.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},E.ArrayBuffer.prototype.getState=function(){var d=E.prototype.getState.call(this);return d.buff=b(d.buff),d},E.ArrayBuffer.prototype.setState=function(d){return d.buff=y(d.buff,!0),E.prototype.setState.call(this,d)},E.ArrayBuffer.prototype.destroy=E.prototype.destroy,E.ArrayBuffer.prototype._finish=E.prototype._finish,E.ArrayBuffer.hash=function(d,A){var a=u(new Uint8Array(d)),o=_(a);return A?g(o):o},E})})(Yn);const Or=tr,Ho=e=>typeof e!="string"||!e.trim()?"":e.trim().charAt(0).toUpperCase()+e.slice(1),qn=e=>V.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...e},V.createElement("path",{fillRule:"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"}));function Go({options:e,disabled:r,onChange:t,className:s}){const c=p=>{const n=Number(p.target.value);t==null||t(n)},i=r?"opacity-80 pointer-events-none":"";return re("ul",{className:`grid w-full gap-4 md:grid-cols-2 mb-5 ${s}`,children:e.map((p,n)=>me("li",{children:[re("input",{type:"radio",id:`select-${n}`,name:"hosting",value:`${n}`,className:"hidden peer",required:!0,defaultChecked:n===0,disabled:r,onChange:c}),me("label",{htmlFor:`select-${n}`,className:`h-full inline-flex justify-between w-full p-4 text-gray-500 bg-white border border-gray-200 rounded-lg cursor-pointer dark:hover:text-gray-300 dark:border-gray-700 dark:peer-checked:text-blue-500 peer-checked:border-blue-600 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700 ${i}`,children:[me("div",{className:"block",children:[re("div",{className:"w-full text-lg font-semibold",children:p.title}),re("div",{className:"w-full",children:p.description})]}),re(qn,{fill:"currentColor",className:"w-10 h-10 ml-3"})]})]},n))})}function Le(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var rr={},Zn={get exports(){return rr},set exports(e){rr=e}};/*!

pica
https://github.com/nodeca/pica

*/(function(e,r){(function(t){e.exports=t()})(function(){return function(){function t(s,c,i){function p(h,_){if(!c[h]){if(!s[h]){var v=typeof Le=="function"&&Le;if(!_&&v)return v(h,!0);if(n)return n(h,!0);var y=new Error("Cannot find module '"+h+"'");throw y.code="MODULE_NOT_FOUND",y}var b=c[h]={exports:{}};s[h][0].call(b.exports,function(C){var g=s[h][1][C];return p(g||C)},b,b.exports,t,s,c,i)}return c[h].exports}for(var n=typeof Le=="function"&&Le,u=0;u<i.length;u++)p(i[u]);return p}return t}()({1:[function(t,s,c){var i=t("multimath"),p=t("./mm_unsharp_mask"),n=t("./mm_resize");function u(h){var _=h||[],v={js:_.indexOf("js")>=0,wasm:_.indexOf("wasm")>=0};i.call(this,v),this.features={js:v.js,wasm:v.wasm&&this.has_wasm()},this.use(p),this.use(n)}u.prototype=Object.create(i.prototype),u.prototype.constructor=u,u.prototype.resizeAndUnsharp=function(_,v){var y=this.resize(_,v);return _.unsharpAmount&&this.unsharp_mask(y,_.toWidth,_.toHeight,_.unsharpAmount,_.unsharpRadius,_.unsharpThreshold),y},s.exports=u},{"./mm_resize":4,"./mm_unsharp_mask":9,multimath:19}],2:[function(t,s,c){function i(v){return v<0?0:v>255?255:v}function p(v){return v>=0?v:0}function n(v,y,b,C,g,E){var d,A,a,o,m,f,x,B,I,R,L,S=0,T=0;for(I=0;I<C;I++){for(m=0,R=0;R<g;R++){for(f=E[m++],x=E[m++],B=S+f*4|0,d=A=a=o=0;x>0;x--)L=E[m++],o=o+L*v[B+3]|0,a=a+L*v[B+2]|0,A=A+L*v[B+1]|0,d=d+L*v[B]|0,B=B+4|0;y[T+3]=p(o>>7),y[T+2]=p(a>>7),y[T+1]=p(A>>7),y[T]=p(d>>7),T=T+C*4|0}T=(I+1)*4|0,S=(I+1)*b*4|0}}function u(v,y,b,C,g,E){var d,A,a,o,m,f,x,B,I,R,L,S=0,T=0;for(I=0;I<C;I++){for(m=0,R=0;R<g;R++){for(f=E[m++],x=E[m++],B=S+f*4|0,d=A=a=o=0;x>0;x--)L=E[m++],o=o+L*v[B+3]|0,a=a+L*v[B+2]|0,A=A+L*v[B+1]|0,d=d+L*v[B]|0,B=B+4|0;d>>=7,A>>=7,a>>=7,o>>=7,y[T+3]=i(o+(1<<13)>>14),y[T+2]=i(a+(1<<13)>>14),y[T+1]=i(A+(1<<13)>>14),y[T]=i(d+(1<<13)>>14),T=T+C*4|0}T=(I+1)*4|0,S=(I+1)*b*4|0}}function h(v,y,b,C,g,E){var d,A,a,o,m,f,x,B,I,R,L,S,T=0,l=0;for(R=0;R<C;R++){for(f=0,L=0;L<g;L++){for(x=E[f++],B=E[f++],I=T+x*4|0,d=A=a=o=0;B>0;B--)S=E[f++],m=v[I+3],o=o+S*m|0,a=a+S*v[I+2]*m|0,A=A+S*v[I+1]*m|0,d=d+S*v[I]*m|0,I=I+4|0;a=a/255|0,A=A/255|0,d=d/255|0,y[l+3]=p(o>>7),y[l+2]=p(a>>7),y[l+1]=p(A>>7),y[l]=p(d>>7),l=l+C*4|0}l=(R+1)*4|0,T=(R+1)*b*4|0}}function _(v,y,b,C,g,E){var d,A,a,o,m,f,x,B,I,R,L,S=0,T=0;for(I=0;I<C;I++){for(m=0,R=0;R<g;R++){for(f=E[m++],x=E[m++],B=S+f*4|0,d=A=a=o=0;x>0;x--)L=E[m++],o=o+L*v[B+3]|0,a=a+L*v[B+2]|0,A=A+L*v[B+1]|0,d=d+L*v[B]|0,B=B+4|0;d>>=7,A>>=7,a>>=7,o>>=7,o=i(o+(1<<13)>>14),o>0&&(d=d*255/o|0,A=A*255/o|0,a=a*255/o|0),y[T+3]=o,y[T+2]=i(a+(1<<13)>>14),y[T+1]=i(A+(1<<13)>>14),y[T]=i(d+(1<<13)>>14),T=T+C*4|0}T=(I+1)*4|0,S=(I+1)*b*4|0}}s.exports={convolveHor:n,convolveVert:u,convolveHorWithPre:h,convolveVertWithPre:_}},{}],3:[function(t,s,c){s.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAEYA2AGf39/f39/AGAAAGAIf39/f39/f38AAg8BA2VudgZtZW1vcnkCAAADBwYBAAAAAAIGBgF/AEEACweUAQgRX193YXNtX2NhbGxfY3RvcnMAAAtjb252b2x2ZUhvcgABDGNvbnZvbHZlVmVydAACEmNvbnZvbHZlSG9yV2l0aFByZQADE2NvbnZvbHZlVmVydFdpdGhQcmUABApjb252b2x2ZUhWAAUMX19kc29faGFuZGxlAwAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAAKyA4GAwABC4wDARB/AkAgA0UNACAERQ0AIANBAnQhFQNAQQAhE0EAIQsDQCALQQJqIQcCfyALQQF0IAVqIgYuAQIiC0UEQEEAIQhBACEGQQAhCUEAIQogBwwBCyASIAYuAQBqIQhBACEJQQAhCiALIRRBACEOIAchBkEAIQ8DQCAFIAZBAXRqLgEAIhAgACAIQQJ0aigCACIRQRh2bCAPaiEPIBFB/wFxIBBsIAlqIQkgEUEQdkH/AXEgEGwgDmohDiARQQh2Qf8BcSAQbCAKaiEKIAhBAWohCCAGQQFqIQYgFEEBayIUDQALIAlBB3UhCCAKQQd1IQYgDkEHdSEJIA9BB3UhCiAHIAtqCyELIAEgDEEBdCIHaiAIQQAgCEEAShs7AQAgASAHQQJyaiAGQQAgBkEAShs7AQAgASAHQQRyaiAJQQAgCUEAShs7AQAgASAHQQZyaiAKQQAgCkEAShs7AQAgDCAVaiEMIBNBAWoiEyAERw0ACyANQQFqIg0gAmwhEiANQQJ0IQwgAyANRw0ACwsL2gMBD38CQCADRQ0AIARFDQAgAkECdCEUA0AgCyEMQQAhE0EAIQIDQCACQQJqIQYCfyACQQF0IAVqIgcuAQIiAkUEQEEAIQhBACEHQQAhCkEAIQkgBgwBCyAHLgEAQQJ0IBJqIQhBACEJIAIhCkEAIQ0gBiEHQQAhDkEAIQ8DQCAFIAdBAXRqLgEAIhAgACAIQQF0IhFqLwEAbCAJaiEJIAAgEUEGcmovAQAgEGwgDmohDiAAIBFBBHJqLwEAIBBsIA9qIQ8gACARQQJyai8BACAQbCANaiENIAhBBGohCCAHQQFqIQcgCkEBayIKDQALIAlBB3UhCCANQQd1IQcgDkEHdSEKIA9BB3UhCSACIAZqCyECIAEgDEECdGogB0GAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQQh0QYD+A3EgCUGAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQRB0QYCA/AdxIApBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG0EYdHJyIAhBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG3I2AgAgAyAMaiEMIBNBAWoiEyAERw0ACyAUIAtBAWoiC2whEiADIAtHDQALCwuSAwEQfwJAIANFDQAgBEUNACADQQJ0IRUDQEEAIRNBACEGA0AgBkECaiEIAn8gBkEBdCAFaiIGLgECIgdFBEBBACEJQQAhDEEAIQ1BACEOIAgMAQsgEiAGLgEAaiEJQQAhDkEAIQ1BACEMIAchFEEAIQ8gCCEGA0AgBSAGQQF0ai4BACAAIAlBAnRqKAIAIhBBGHZsIhEgD2ohDyARIBBBEHZB/wFxbCAMaiEMIBEgEEEIdkH/AXFsIA1qIQ0gESAQQf8BcWwgDmohDiAJQQFqIQkgBkEBaiEGIBRBAWsiFA0ACyAPQQd1IQkgByAIagshBiABIApBAXQiCGogDkH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEECcmogDUH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEEcmogDEH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEGcmogCUEAIAlBAEobOwEAIAogFWohCiATQQFqIhMgBEcNAAsgC0EBaiILIAJsIRIgC0ECdCEKIAMgC0cNAAsLC4IEAQ9/AkAgA0UNACAERQ0AIAJBAnQhFANAIAshDEEAIRJBACEHA0AgB0ECaiEKAn8gB0EBdCAFaiICLgECIhNFBEBBACEIQQAhCUEAIQYgCiEHQQAMAQsgAi4BAEECdCARaiEJQQAhByATIQJBACENIAohBkEAIQ5BACEPA0AgBSAGQQF0ai4BACIIIAAgCUEBdCIQai8BAGwgB2ohByAAIBBBBnJqLwEAIAhsIA5qIQ4gACAQQQRyai8BACAIbCAPaiEPIAAgEEECcmovAQAgCGwgDWohDSAJQQRqIQkgBkEBaiEGIAJBAWsiAg0ACyAHQQd1IQggDUEHdSEJIA9BB3UhBiAKIBNqIQcgDkEHdQtBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKGyIKQf8BcQRAIAlB/wFsIAJtIQkgCEH/AWwgAm0hCCAGQf8BbCACbSEGCyABIAxBAnRqIAlBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EIdEGA/gNxIAZBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EQdEGAgPwHcSAKQRh0ciAIQYBAa0EOdSICQf8BIAJB/wFIGyICQQAgAkEAShtycjYCACADIAxqIQwgEkEBaiISIARHDQALIBQgC0EBaiILbCERIAMgC0cNAAsLC0AAIAcEQEEAIAIgAyAEIAUgABADIAJBACAEIAUgBiABEAQPC0EAIAIgAyAEIAUgABABIAJBACAEIAUgBiABEAIL"},{}],4:[function(t,s,c){s.exports={name:"resize",fn:t("./resize"),wasm_fn:t("./resize_wasm"),wasm_src:t("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(t,s,c){var i=t("./resize_filter_gen"),p=t("./convolve"),n=p.convolveHor,u=p.convolveVert,h=p.convolveHorWithPre,_=p.convolveVertWithPre;function v(b,C,g){for(var E=3,d=C*g*4|0;E<d;){if(b[E]!==255)return!0;E=E+4|0}return!1}function y(b,C,g){for(var E=3,d=C*g*4|0;E<d;)b[E]=255,E=E+4|0}s.exports=function(C){var g=C.src,E=C.width,d=C.height,A=C.toWidth,a=C.toHeight,o=C.scaleX||C.toWidth/C.width,m=C.scaleY||C.toHeight/C.height,f=C.offsetX||0,x=C.offsetY||0,B=C.dest||new Uint8Array(A*a*4),I=typeof C.filter>"u"?"mks2013":C.filter,R=i(I,E,A,o,f),L=i(I,d,a,m,x),S=new Uint16Array(A*d*4);return v(g,E,d)?(h(g,S,E,d,A,R),_(S,B,d,A,a,L)):(n(g,S,E,d,A,R),u(S,B,d,A,a,L),y(B,A,a)),B}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(t,s,c){var i=t("./resize_filter_info"),p=14;function n(u){return Math.round(u*((1<<p)-1))}s.exports=function(h,_,v,y,b){var C=i.filter[h].fn,g=1/y,E=Math.min(1,y),d=i.filter[h].win/E,A,a,o,m,f,x,B,I,R,L,S,T,l,M,F,k,P,z=Math.floor((d+1)*2),j=new Int16Array((z+2)*v),Q=0,N=!j.subarray||!j.set;for(A=0;A<v;A++){for(a=(A+.5)*g+b,o=Math.max(0,Math.floor(a-d)),m=Math.min(_-1,Math.ceil(a+d)),f=m-o+1,x=new Float32Array(f),B=new Int16Array(f),I=0,R=o,L=0;R<=m;R++,L++)S=C((R+.5-a)*E),I+=S,x[L]=S;for(T=0,L=0;L<x.length;L++)l=x[L]/I,T+=l,B[L]=n(l);for(B[v>>1]+=n(1-T),M=0;M<B.length&&B[M]===0;)M++;if(M<B.length){for(F=B.length-1;F>0&&B[F]===0;)F--;if(k=o+M,P=F-M+1,j[Q++]=k,j[Q++]=P,!N)j.set(B.subarray(M,F+1),Q),Q+=P;else for(L=M;L<=F;L++)j[Q++]=B[L]}else j[Q++]=0,j[Q++]=0}return j}},{"./resize_filter_info":7}],7:[function(t,s,c){var i={box:{win:.5,fn:function(n){return n<0&&(n=-n),n<.5?1:0}},hamming:{win:1,fn:function(n){if(n<0&&(n=-n),n>=1)return 0;if(n<11920929e-14)return 1;var u=n*Math.PI;return Math.sin(u)/u*(.54+.46*Math.cos(u/1))}},lanczos2:{win:2,fn:function(n){if(n<0&&(n=-n),n>=2)return 0;if(n<11920929e-14)return 1;var u=n*Math.PI;return Math.sin(u)/u*Math.sin(u/2)/(u/2)}},lanczos3:{win:3,fn:function(n){if(n<0&&(n=-n),n>=3)return 0;if(n<11920929e-14)return 1;var u=n*Math.PI;return Math.sin(u)/u*Math.sin(u/3)/(u/3)}},mks2013:{win:2.5,fn:function(n){return n<0&&(n=-n),n>=2.5?0:n>=1.5?-.125*(n-2.5)*(n-2.5):n>=.5?.25*(4*n*n-11*n+7):1.0625-1.75*n*n}}};s.exports={filter:i,f2q:{box:0,hamming:1,lanczos2:2,lanczos3:3},q2f:["box","hamming","lanczos2","lanczos3"]}},{}],8:[function(t,s,c){var i=t("./resize_filter_gen");function p(v,y,b){for(var C=3,g=y*b*4|0;C<g;){if(v[C]!==255)return!0;C=C+4|0}return!1}function n(v,y,b){for(var C=3,g=y*b*4|0;C<g;)v[C]=255,C=C+4|0}function u(v){return new Uint8Array(v.buffer,0,v.byteLength)}var h=!0;try{h=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1}catch{}function _(v,y,b){if(h){y.set(u(v),b);return}for(var C=b,g=0;g<v.length;g++){var E=v[g];y[C++]=E&255,y[C++]=E>>8&255}}s.exports=function(y){var b=y.src,C=y.width,g=y.height,E=y.toWidth,d=y.toHeight,A=y.scaleX||y.toWidth/y.width,a=y.scaleY||y.toHeight/y.height,o=y.offsetX||0,m=y.offsetY||0,f=y.dest||new Uint8Array(E*d*4),x=typeof y.filter>"u"?"mks2013":y.filter,B=i(x,C,E,A,o),I=i(x,g,d,a,m),R=0,L=Math.max(b.byteLength,f.byteLength),S=this.__align(R+L),T=g*E*4*2,l=this.__align(S+T),M=this.__align(l+B.byteLength),F=M+I.byteLength,k=this.__instance("resize",F),P=new Uint8Array(this.__memory.buffer),z=new Uint32Array(this.__memory.buffer),j=new Uint32Array(b.buffer);z.set(j),_(B,P,l),_(I,P,M);var Q=k.exports.convolveHV||k.exports._convolveHV;p(b,C,g)?Q(l,M,S,C,g,E,d,1):(Q(l,M,S,C,g,E,d,0),n(f,E,d));var N=new Uint32Array(f.buffer);return N.set(new Uint32Array(this.__memory.buffer,0,d*E)),f}},{"./resize_filter_gen":6}],9:[function(t,s,c){s.exports={name:"unsharp_mask",fn:t("./unsharp_mask"),wasm_fn:t("./unsharp_mask_wasm"),wasm_src:t("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":10,"./unsharp_mask_wasm":11,"./unsharp_mask_wasm_base64":12}],10:[function(t,s,c){var i=t("glur/mono16");function p(n,u,h){for(var _=u*h,v=new Uint16Array(_),y,b,C,g,E=0;E<_;E++)y=n[4*E],b=n[4*E+1],C=n[4*E+2],g=y>=b&&y>=C?y:b>=C&&b>=y?b:C,v[E]=g<<8;return v}s.exports=function(u,h,_,v,y,b){var C,g,E,d,A;if(!(v===0||y<.5)){y>2&&(y=2);var a=p(u,h,_),o=new Uint16Array(a);i(o,h,_,y);for(var m=v/100*4096+.5|0,f=b<<8,x=h*_,B=0;B<x;B++)C=a[B],d=C-o[B],Math.abs(d)>=f&&(g=C+(m*d+2048>>12),g=g>65280?65280:g,g=g<0?0:g,C=C!==0?C:1,E=(g<<12)/C|0,A=B*4,u[A]=u[A]*E+2048>>12,u[A+1]=u[A+1]*E+2048>>12,u[A+2]=u[A+2]*E+2048>>12)}}},{"glur/mono16":18}],11:[function(t,s,c){s.exports=function(p,n,u,h,_,v){if(!(h===0||_<.5)){_>2&&(_=2);var y=n*u,b=y*4,C=y*2,g=y*2,E=Math.max(n,u)*4,d=8*4,A=0,a=b,o=a+C,m=o+g,f=m+g,x=f+E,B=this.__instance("unsharp_mask",b+C+g*2+E+d,{exp:Math.exp}),I=new Uint32Array(p.buffer),R=new Uint32Array(this.__memory.buffer);R.set(I);var L=B.exports.hsv_v16||B.exports._hsv_v16;L(A,a,n,u),L=B.exports.blurMono16||B.exports._blurMono16,L(a,o,m,f,x,n,u,_),L=B.exports.unsharp||B.exports._unsharp,L(A,A,a,o,n,u,h,v),I.set(new Uint32Array(this.__memory.buffer,0,y))}}},{}],12:[function(t,s,c){s.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAE0B2AAAGAEf39/fwBgBn9/f39/fwBgCH9/f39/f39/AGAIf39/f39/f30AYAJ9fwBgAXwBfAIZAgNlbnYDZXhwAAYDZW52Bm1lbW9yeQIAAAMHBgAFAgQBAwYGAX8AQQALB4oBCBFfX3dhc21fY2FsbF9jdG9ycwABFl9fYnVpbGRfZ2F1c3NpYW5fY29lZnMAAg5fX2dhdXNzMTZfbGluZQADCmJsdXJNb25vMTYABAdoc3ZfdjE2AAUHdW5zaGFycAAGDF9fZHNvX2hhbmRsZQMAGF9fd2FzbV9hcHBseV9kYXRhX3JlbG9jcwABCsUMBgMAAQvWAQEHfCABRNuGukOCGvs/IAC7oyICRAAAAAAAAADAohAAIgW2jDgCFCABIAKaEAAiAyADoCIGtjgCECABRAAAAAAAAPA/IAOhIgQgBKIgAyACIAKgokQAAAAAAADwP6AgBaGjIgS2OAIAIAEgBSAEmqIiB7Y4AgwgASADIAJEAAAAAAAA8D+gIASioiIItjgCCCABIAMgAkQAAAAAAADwv6AgBKKiIgK2OAIEIAEgByAIoCAFRAAAAAAAAPA/IAahoCIDo7Y4AhwgASAEIAKgIAOjtjgCGAuGBQMGfwl8An0gAyoCDCEVIAMqAgghFiADKgIUuyERIAMqAhC7IRACQCAEQQFrIghBAEgiCQRAIAIhByAAIQYMAQsgAiAALwEAuCIPIAMqAhi7oiIMIBGiIg0gDCAQoiAPIAMqAgS7IhOiIhQgAyoCALsiEiAPoqCgoCIOtjgCACACQQRqIQcgAEECaiEGIAhFDQAgCEEBIAhBAUgbIgpBf3MhCwJ/IAQgCmtBAXFFBEAgDiENIAgMAQsgAiANIA4gEKIgFCASIAAvAQK4Ig+ioKCgIg22OAIEIAJBCGohByAAQQRqIQYgDiEMIARBAmsLIQIgC0EAIARrRg0AA0AgByAMIBGiIA0gEKIgDyAToiASIAYvAQC4Ig6ioKCgIgy2OAIAIAcgDSARoiAMIBCiIA4gE6IgEiAGLwECuCIPoqCgoCINtjgCBCAHQQhqIQcgBkEEaiEGIAJBAkohACACQQJrIQIgAA0ACwsCQCAJDQAgASAFIAhsQQF0aiIAAn8gBkECay8BACICuCINIBW7IhKiIA0gFrsiE6KgIA0gAyoCHLuiIgwgEKKgIAwgEaKgIg8gB0EEayIHKgIAu6AiDkQAAAAAAADwQWMgDkQAAAAAAAAAAGZxBEAgDqsMAQtBAAs7AQAgCEUNACAGQQRrIQZBACAFa0EBdCEBA0ACfyANIBKiIAJB//8DcbgiDSAToqAgDyIOIBCioCAMIBGioCIPIAdBBGsiByoCALugIgxEAAAAAAAA8EFjIAxEAAAAAAAAAABmcQRAIAyrDAELQQALIQMgBi8BACECIAAgAWoiACADOwEAIAZBAmshBiAIQQFKIQMgDiEMIAhBAWshCCADDQALCwvRAgIBfwd8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIglEAAAAAAAAAMCiEAAiDLaMOAIUIAQgCZoQACIKIAqgIg22OAIQIAREAAAAAAAA8D8gCqEiCyALoiAKIAkgCaCiRAAAAAAAAPA/oCAMoaMiC7Y4AgAgBCAMIAuaoiIOtjgCDCAEIAogCUQAAAAAAADwP6AgC6KiIg+2OAIIIAQgCiAJRAAAAAAAAPC/oCALoqIiCbY4AgQgBCAOIA+gIAxEAAAAAAAA8D8gDaGgIgqjtjgCHCAEIAsgCaAgCqO2OAIYIAYEQANAIAAgBSAIbEEBdGogAiAIQQF0aiADIAQgBSAGEAMgCEEBaiIIIAZHDQALCyAFRQ0AQQAhCANAIAIgBiAIbEEBdGogASAIQQF0aiADIAQgBiAFEAMgCEEBaiIIIAVHDQALCwtxAQN/IAIgA2wiBQRAA0AgASAAKAIAIgRBEHZB/wFxIgIgAiAEQQh2Qf8BcSIDIAMgBEH/AXEiBEkbIAIgA0sbIgYgBiAEIAIgBEsbIAMgBEsbQQh0OwEAIAFBAmohASAAQQRqIQAgBUEBayIFDQALCwuZAgIDfwF8IAQgBWwhBAJ/IAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6AiC5lEAAAAAAAA4EFjBEAgC6oMAQtBgICAgHgLIQUgBARAIAdBCHQhCUEAIQYDQCAJIAIgBkEBdCIHai8BACIBIAMgB2ovAQBrIgcgB0EfdSIIaiAIc00EQCAAIAZBAnQiCGoiCiAFIAdsQYAQakEMdSABaiIHQYD+AyAHQYD+A0gbIgdBACAHQQBKG0EMdCABQQEgARtuIgEgCi0AAGxBgBBqQQx2OgAAIAAgCEEBcmoiByABIActAABsQYAQakEMdjoAACAAIAhBAnJqIgcgASAHLQAAbEGAEGpBDHY6AAALIAZBAWoiBiAERw0ACwsL"},{}],13:[function(t,s,c){var i=100;function p(n,u){this.create=n,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=u||2e3}p.prototype.acquire=function(){var n=this,u;return this.available.length!==0?u=this.available.pop():(u=this.create(),u.id=this.lastId++,u.release=function(){return n.release(u)}),this.acquired[u.id]=u,u},p.prototype.release=function(n){var u=this;delete this.acquired[n.id],n.lastUsed=Date.now(),this.available.push(n),this.timeoutId===0&&(this.timeoutId=setTimeout(function(){return u.gc()},i))},p.prototype.gc=function(){var n=this,u=Date.now();this.available=this.available.filter(function(h){return u-h.lastUsed>n.idle?(h.destroy(),!1):!0}),this.available.length!==0?this.timeoutId=setTimeout(function(){return n.gc()},i):this.timeoutId=0},s.exports=p},{}],14:[function(t,s,c){var i=2;s.exports=function(n,u,h,_,v,y){var b=h/n,C=_/u,g=(2*y+i+1)/v;if(g>.5)return[[h,_]];var E=Math.ceil(Math.log(Math.min(b,C))/Math.log(g));if(E<=1)return[[h,_]];for(var d=[],A=0;A<E;A++){var a=Math.round(Math.pow(Math.pow(n,E-A-1)*Math.pow(h,A+1),1/E)),o=Math.round(Math.pow(Math.pow(u,E-A-1)*Math.pow(_,A+1),1/E));d.push([a,o])}return d}},{}],15:[function(t,s,c){var i=1e-5;function p(u){var h=Math.round(u);return Math.abs(u-h)<i?h:Math.floor(u)}function n(u){var h=Math.round(u);return Math.abs(u-h)<i?h:Math.ceil(u)}s.exports=function(h){var _=h.toWidth/h.width,v=h.toHeight/h.height,y=p(h.srcTileSize*_)-2*h.destTileBorder,b=p(h.srcTileSize*v)-2*h.destTileBorder;if(y<1||b<1)throw new Error("Internal error in pica: target tile width/height is too small.");var C,g,E,d,A,a,o=[],m;for(d=0;d<h.toHeight;d+=b)for(E=0;E<h.toWidth;E+=y)C=E-h.destTileBorder,C<0&&(C=0),A=E+y+h.destTileBorder-C,C+A>=h.toWidth&&(A=h.toWidth-C),g=d-h.destTileBorder,g<0&&(g=0),a=d+b+h.destTileBorder-g,g+a>=h.toHeight&&(a=h.toHeight-g),m={toX:C,toY:g,toWidth:A,toHeight:a,toInnerX:E,toInnerY:d,toInnerWidth:y,toInnerHeight:b,offsetX:C/_-p(C/_),offsetY:g/v-p(g/v),scaleX:_,scaleY:v,x:p(C/_),y:p(g/v),width:n(A/_),height:n(a/v)},o.push(m);return o}},{}],16:[function(t,s,c){function i(p){return Object.prototype.toString.call(p)}s.exports.isCanvas=function(n){var u=i(n);return u==="[object HTMLCanvasElement]"||u==="[object OffscreenCanvas]"||u==="[object Canvas]"},s.exports.isImage=function(n){return i(n)==="[object HTMLImageElement]"},s.exports.isImageBitmap=function(n){return i(n)==="[object ImageBitmap]"},s.exports.limiter=function(n){var u=0,h=[];function _(){u<n&&h.length&&(u++,h.shift()())}return function(y){return new Promise(function(b,C){h.push(function(){y().then(function(g){b(g),u--,_()},function(g){C(g),u--,_()})}),_()})}},s.exports.cib_quality_name=function(n){switch(n){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},s.exports.cib_support=function(n){return Promise.resolve().then(function(){if(typeof createImageBitmap>"u")return!1;var u=n(100,100);return createImageBitmap(u,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(h){var _=h.width===10;return h.close(),u=null,_})}).catch(function(){return!1})},s.exports.worker_offscreen_canvas_support=function(){return new Promise(function(n,u){if(typeof OffscreenCanvas>"u"){n(!1);return}function h(y){if(typeof createImageBitmap>"u"){y.postMessage(!1);return}Promise.resolve().then(function(){var b=new OffscreenCanvas(10,10),C=b.getContext("2d");return C.rect(0,0,1,1),createImageBitmap(b,0,0,1,1)}).then(function(){return y.postMessage(!0)},function(){return y.postMessage(!1)})}var _=btoa("(".concat(h.toString(),")(self);")),v=new Worker("data:text/javascript;base64,".concat(_));v.onmessage=function(y){return n(y.data)},v.onerror=u}).then(function(n){return n},function(){return!1})},s.exports.can_use_canvas=function(n){var u=!1;try{var h=n(2,1),_=h.getContext("2d"),v=_.createImageData(2,1);v.data[0]=12,v.data[1]=23,v.data[2]=34,v.data[3]=255,v.data[4]=45,v.data[5]=56,v.data[6]=67,v.data[7]=255,_.putImageData(v,0,0),v=null,v=_.getImageData(0,0,2,1),v.data[0]===12&&v.data[1]===23&&v.data[2]===34&&v.data[3]===255&&v.data[4]===45&&v.data[5]===56&&v.data[6]===67&&v.data[7]===255&&(u=!0)}catch{}return u},s.exports.cib_can_use_region=function(){return new Promise(function(n){if(typeof Image>"u"||typeof createImageBitmap>"u"){n(!1);return}var u=new Image;u.src="data:image/jpeg;base64,/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRcZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRAf/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z",u.onload=function(){createImageBitmap(u,0,0,u.width,u.height).then(function(h){h.width===u.width&&h.height===u.height?n(!0):n(!1)},function(){return n(!1)})},u.onerror=function(){return n(!1)}})}},{}],17:[function(t,s,c){s.exports=function(){var i=t("./mathlib"),p;onmessage=function(u){var h=u.data.opts;if(!h.src&&h.srcBitmap){var _=new OffscreenCanvas(h.width,h.height),v=_.getContext("2d");v.drawImage(h.srcBitmap,0,0),h.src=v.getImageData(0,0,h.width,h.height).data,_.width=_.height=0,_=null,h.srcBitmap.close(),h.srcBitmap=null}p||(p=new i(u.data.features));var y=p.resizeAndUnsharp(h);postMessage({data:y},[y.buffer])}}},{"./mathlib":1}],18:[function(t,s,c){var i,p,n,u,h,_,v,y;function b(E){E<.5&&(E=.5);var d=Math.exp(.726*.726)/E,A=Math.exp(-d),a=Math.exp(-2*d),o=(1-A)*(1-A)/(1+2*d*A-a);return i=o,p=o*(d-1)*A,n=o*(d+1)*A,u=-o*a,h=2*A,_=-a,v=(i+p)/(1-h-_),y=(n+u)/(1-h-_),new Float32Array([i,p,n,u,h,_,v,y])}function C(E,d,A,a,o,m){var f,x,B,I,R,L,S,T,l,M,F,k,P,z;for(l=0;l<m;l++){for(L=l*o,S=l,T=0,f=E[L],R=f*a[6],I=R,F=a[0],k=a[1],P=a[4],z=a[5],M=0;M<o;M++)x=E[L],B=x*F+f*k+I*P+R*z,R=I,I=B,f=x,A[T]=I,T++,L++;for(L--,T--,S+=m*(o-1),f=E[L],R=f*a[7],I=R,x=f,F=a[2],k=a[3],M=o-1;M>=0;M--)B=x*F+f*k+I*P+R*z,R=I,I=B,f=x,x=E[L],d[S]=A[T]+I,L--,T--,S-=m}}function g(E,d,A,a){if(a){var o=new Uint16Array(E.length),m=new Float32Array(Math.max(d,A)),f=b(a);C(E,o,m,f,d,A),C(o,E,m,f,A,d)}}s.exports=g},{}],19:[function(t,s,c){var i=t("object-assign"),p=t("./lib/base64decode"),n=t("./lib/wa_detect"),u={js:!0,wasm:!0};function h(_){if(!(this instanceof h))return new h(_);var v=i({},u,_||{});if(this.options=v,this.__cache={},this.__init_promise=null,this.__modules=v.modules||{},this.__memory=null,this.__wasm={},this.__isLE=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1,!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}h.prototype.has_wasm=n,h.prototype.use=function(_){return this.__modules[_.name]=_,this.options.wasm&&this.has_wasm()&&_.wasm_fn?this[_.name]=_.wasm_fn:this[_.name]=_.fn,this},h.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error(`mathlib: only "wasm" was enabled, but it's not supported`));var _=this;return this.__init_promise=Promise.all(Object.keys(_.__modules).map(function(v){var y=_.__modules[v];return!_.options.wasm||!_.has_wasm()||!y.wasm_fn||_.__wasm[v]?null:WebAssembly.compile(_.__base64decode(y.wasm_src)).then(function(b){_.__wasm[v]=b})})).then(function(){return _}),this.__init_promise},h.prototype.__base64decode=p,h.prototype.__reallocate=function(v){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(v/(64*1024))}),this.__memory;var y=this.__memory.buffer.byteLength;return y<v&&this.__memory.grow(Math.ceil((v-y)/(64*1024))),this.__memory},h.prototype.__instance=function(v,y,b){if(y&&this.__reallocate(y),!this.__wasm[v]){var C=this.__modules[v];this.__wasm[v]=new WebAssembly.Module(this.__base64decode(C.wasm_src))}if(!this.__cache[v]){var g={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[v]=new WebAssembly.Instance(this.__wasm[v],{env:i(g,b||{})})}return this.__cache[v]},h.prototype.__align=function(v,y){y=y||8;var b=v%y;return v+(b?y-b:0)},s.exports=h},{"./lib/base64decode":20,"./lib/wa_detect":21,"object-assign":22}],20:[function(t,s,c){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";s.exports=function(n){for(var u=n.replace(/[\r\n=]/g,""),h=u.length,_=new Uint8Array(h*3>>2),v=0,y=0,b=0;b<h;b++)b%4===0&&b&&(_[y++]=v>>16&255,_[y++]=v>>8&255,_[y++]=v&255),v=v<<6|i.indexOf(u.charAt(b));var C=h%4*6;return C===0?(_[y++]=v>>16&255,_[y++]=v>>8&255,_[y++]=v&255):C===18?(_[y++]=v>>10&255,_[y++]=v>>2&255):C===12&&(_[y++]=v>>4&255),_}},{}],21:[function(t,s,c){var i;s.exports=function(){if(typeof i<"u"||(i=!1,typeof WebAssembly>"u"))return i;try{var n=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),u=new WebAssembly.Module(n),h=new WebAssembly.Instance(u,{});return h.exports.test(4)!==0&&(i=!0),i}catch{}return i}},{}],22:[function(t,s,c){var i=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function u(_){if(_==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(_)}function h(){try{if(!Object.assign)return!1;var _=new String("abc");if(_[5]="de",Object.getOwnPropertyNames(_)[0]==="5")return!1;for(var v={},y=0;y<10;y++)v["_"+String.fromCharCode(y)]=y;var b=Object.getOwnPropertyNames(v).map(function(g){return v[g]});if(b.join("")!=="0123456789")return!1;var C={};return"abcdefghijklmnopqrst".split("").forEach(function(g){C[g]=g}),Object.keys(Object.assign({},C)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}s.exports=h()?Object.assign:function(_,v){for(var y,b=u(_),C,g=1;g<arguments.length;g++){y=Object(arguments[g]);for(var E in y)p.call(y,E)&&(b[E]=y[E]);if(i){C=i(y);for(var d=0;d<C.length;d++)n.call(y,C[d])&&(b[C[d]]=y[C[d]])}}return b}},{}],23:[function(t,s,c){var i=arguments[3],p=arguments[4],n=arguments[5],u=JSON.stringify;s.exports=function(h,_){for(var v,y=Object.keys(n),b=0,C=y.length;b<C;b++){var g=y[b],E=n[g].exports;if(E===h||E&&E.default===h){v=g;break}}if(!v){v=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var d={},b=0,C=y.length;b<C;b++){var g=y[b];d[g]=g}p[v]=["function(require,module,exports){"+h+"(self); }",d]}var A=Math.floor(Math.pow(16,8)*Math.random()).toString(16),a={};a[v]=v,p[A]=["function(require,module,exports){var f = require("+u(v)+");(f.default ? f.default : f)(self);}",a];var o={};m(A);function m(L){o[L]=!0;for(var S in p[L][1]){var T=p[L][1][S];o[T]||m(T)}}var f="("+i+")({"+Object.keys(o).map(function(L){return u(L)+":["+p[L][0]+","+u(p[L][1])+"]"}).join(",")+"},{},["+u(A)+"])",x=window.URL||window.webkitURL||window.mozURL||window.msURL,B=new Blob([f],{type:"text/javascript"});if(_&&_.bare)return B;var I=x.createObjectURL(B),R=new Worker(I);return R.objectURL=I,R}},{}],"/index.js":[function(t,s,c){function i(F,k){return _(F)||h(F,k)||n(F,k)||p()}function p(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(F,k){if(F){if(typeof F=="string")return u(F,k);var P=Object.prototype.toString.call(F).slice(8,-1);if(P==="Object"&&F.constructor&&(P=F.constructor.name),P==="Map"||P==="Set")return Array.from(F);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return u(F,k)}}function u(F,k){(k==null||k>F.length)&&(k=F.length);for(var P=0,z=new Array(k);P<k;P++)z[P]=F[P];return z}function h(F,k){var P=F==null?null:typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(P!=null){var z=[],j=!0,Q=!1,N,X;try{for(P=P.call(F);!(j=(N=P.next()).done)&&(z.push(N.value),!(k&&z.length===k));j=!0);}catch(K){Q=!0,X=K}finally{try{!j&&P.return!=null&&P.return()}finally{if(Q)throw X}}return z}}function _(F){if(Array.isArray(F))return F}var v=t("object-assign"),y=t("webworkify"),b=t("./lib/mathlib"),C=t("./lib/pool"),g=t("./lib/utils"),E=t("./lib/worker"),d=t("./lib/stepper"),A=t("./lib/tiler"),a=t("./lib/mm_resize/resize_filter_info"),o={},m=!1;try{typeof navigator<"u"&&navigator.userAgent&&(m=navigator.userAgent.indexOf("Safari")>=0)}catch{}var f=1;typeof navigator<"u"&&(f=Math.min(navigator.hardwareConcurrency||1,4));var x={tile:1024,concurrency:f,features:["js","wasm","ww"],idle:2e3,createCanvas:function(k,P){var z=document.createElement("canvas");return z.width=k,z.height=P,z}},B={filter:"mks2013",unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},I=!1,R=!1,L=!1,S=!1,T=!1;function l(){return{value:y(E),destroy:function(){if(this.value.terminate(),typeof window<"u"){var k=window.URL||window.webkitURL||window.mozURL||window.msURL;k&&k.revokeObjectURL&&this.value.objectURL&&k.revokeObjectURL(this.value.objectURL)}}}}function M(F){if(!(this instanceof M))return new M(F);this.options=v({},x,F||{});var k="lk_".concat(this.options.concurrency);this.__limit=o[k]||g.limiter(this.options.concurrency),o[k]||(o[k]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}M.prototype.init=function(){var F=this;if(this.__initPromise)return this.__initPromise;if(typeof ImageData<"u"&&typeof Uint8ClampedArray<"u")try{new ImageData(new Uint8ClampedArray(400),10,10),I=!0}catch{}typeof ImageBitmap<"u"&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?R=!0:this.debug("ImageBitmap does not support .close(), disabled"));var k=this.options.features.slice();if(k.indexOf("all")>=0&&(k=["cib","wasm","js","ww"]),this.__requested_features=k,this.__mathlib=new b(k),k.indexOf("ww")>=0&&typeof window<"u"&&"Worker"in window)try{var P=t("webworkify")(function(){});P.terminate(),this.features.ww=!0;var z="wp_".concat(JSON.stringify(this.options));o[z]?this.__workersPool=o[z]:(this.__workersPool=new C(l,this.options.idle),o[z]=this.__workersPool)}catch{}var j=this.__mathlib.init().then(function(K){v(F.features,K.features)}),Q;R?Q=g.cib_support(this.options.createCanvas).then(function(K){if(F.features.cib&&k.indexOf("cib")<0){F.debug("createImageBitmap() resize supported, but disabled by config");return}k.indexOf("cib")>=0&&(F.features.cib=K)}):Q=Promise.resolve(!1),L=g.can_use_canvas(this.options.createCanvas);var N;R&&I&&k.indexOf("ww")!==-1?N=g.worker_offscreen_canvas_support():N=Promise.resolve(!1),N=N.then(function(K){S=K});var X=g.cib_can_use_region().then(function(K){T=K});return this.__initPromise=Promise.all([j,Q,N,X]).then(function(){return F}),this.__initPromise},M.prototype.__invokeResize=function(F,k){var P=this;return k.__mathCache=k.__mathCache||{},Promise.resolve().then(function(){return P.features.ww?new Promise(function(z,j){var Q=P.__workersPool.acquire();k.cancelToken&&k.cancelToken.catch(function(X){return j(X)}),Q.value.onmessage=function(X){Q.release(),X.data.err?j(X.data.err):z(X.data)};var N=[];F.src&&N.push(F.src.buffer),F.srcBitmap&&N.push(F.srcBitmap),Q.value.postMessage({opts:F,features:P.__requested_features,preload:{wasm_nodule:P.__mathlib.__}},N)}):{data:P.__mathlib.resizeAndUnsharp(F,k.__mathCache)}})},M.prototype.__extractTileData=function(F,k,P,z,j){if(this.features.ww&&S&&(g.isCanvas(k)||T))return this.debug("Create tile for OffscreenCanvas"),createImageBitmap(z.srcImageBitmap||k,F.x,F.y,F.width,F.height).then(function(X){return j.srcBitmap=X,j});if(g.isCanvas(k))return z.srcCtx||(z.srcCtx=k.getContext("2d")),this.debug("Get tile pixel data"),j.src=z.srcCtx.getImageData(F.x,F.y,F.width,F.height).data,j;this.debug("Draw tile imageBitmap/image to temporary canvas");var Q=this.options.createCanvas(F.width,F.height),N=Q.getContext("2d");return N.globalCompositeOperation="copy",N.drawImage(z.srcImageBitmap||k,F.x,F.y,F.width,F.height,0,0,F.width,F.height),this.debug("Get tile pixel data"),j.src=N.getImageData(0,0,F.width,F.height).data,Q.width=Q.height=0,j},M.prototype.__landTileData=function(F,k,P){var z;if(this.debug("Convert raw rgba tile result to ImageData"),k.bitmap)return P.toCtx.drawImage(k.bitmap,F.toX,F.toY),null;if(I)z=new ImageData(new Uint8ClampedArray(k.data),F.toWidth,F.toHeight);else if(z=P.toCtx.createImageData(F.toWidth,F.toHeight),z.data.set)z.data.set(k.data);else for(var j=z.data.length-1;j>=0;j--)z.data[j]=k.data[j];return this.debug("Draw tile"),m?P.toCtx.putImageData(z,F.toX,F.toY,F.toInnerX-F.toX,F.toInnerY-F.toY,F.toInnerWidth+1e-5,F.toInnerHeight+1e-5):P.toCtx.putImageData(z,F.toX,F.toY,F.toInnerX-F.toX,F.toInnerY-F.toY,F.toInnerWidth,F.toInnerHeight),null},M.prototype.__tileAndResize=function(F,k,P){var z=this,j={srcCtx:null,srcImageBitmap:null,isImageBitmapReused:!1,toCtx:null},Q=function(X){return z.__limit(function(){if(P.canceled)return P.cancelToken;var K={width:X.width,height:X.height,toWidth:X.toWidth,toHeight:X.toHeight,scaleX:X.scaleX,scaleY:X.scaleY,offsetX:X.offsetX,offsetY:X.offsetY,filter:P.filter,unsharpAmount:P.unsharpAmount,unsharpRadius:P.unsharpRadius,unsharpThreshold:P.unsharpThreshold};return z.debug("Invoke resize math"),Promise.resolve(K).then(function($){return z.__extractTileData(X,F,P,j,$)}).then(function($){return z.debug("Invoke resize math"),z.__invokeResize($,P)}).then(function($){return P.canceled?P.cancelToken:(j.srcImageData=null,z.__landTileData(X,$,j))})})};return Promise.resolve().then(function(){if(j.toCtx=k.getContext("2d"),g.isCanvas(F))return null;if(g.isImageBitmap(F))return j.srcImageBitmap=F,j.isImageBitmapReused=!0,null;if(g.isImage(F))return R?(z.debug("Decode image via createImageBitmap"),createImageBitmap(F).then(function(N){j.srcImageBitmap=N}).catch(function(N){return null})):null;throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap')}).then(function(){if(P.canceled)return P.cancelToken;z.debug("Calculate tiles");var N=A({width:P.width,height:P.height,srcTileSize:z.options.tile,toWidth:P.toWidth,toHeight:P.toHeight,destTileBorder:P.__destTileBorder}),X=N.map(function($){return Q($)});function K($){$.srcImageBitmap&&($.isImageBitmapReused||$.srcImageBitmap.close(),$.srcImageBitmap=null)}return z.debug("Process tiles"),Promise.all(X).then(function(){return z.debug("Finished!"),K(j),k},function($){throw K(j),$})})},M.prototype.__processStages=function(F,k,P,z){var j=this;if(z.canceled)return z.cancelToken;var Q=F.shift(),N=i(Q,2),X=N[0],K=N[1],$=F.length===0,se;$||a.q2f.indexOf(z.filter)<0?se=z.filter:z.filter==="box"?se="box":se="hamming",z=v({},z,{toWidth:X,toHeight:K,filter:se});var ce;return $||(ce=this.options.createCanvas(X,K)),this.__tileAndResize(k,$?P:ce,z).then(function(){return $?P:(z.width=X,z.height=K,j.__processStages(F,ce,P,z))}).then(function(oe){return ce&&(ce.width=ce.height=0),oe})},M.prototype.__resizeViaCreateImageBitmap=function(F,k,P){var z=this,j=k.getContext("2d");return this.debug("Resize via createImageBitmap()"),createImageBitmap(F,{resizeWidth:P.toWidth,resizeHeight:P.toHeight,resizeQuality:g.cib_quality_name(a.f2q[P.filter])}).then(function(Q){if(P.canceled)return P.cancelToken;if(!P.unsharpAmount)return j.drawImage(Q,0,0),Q.close(),j=null,z.debug("Finished!"),k;z.debug("Unsharp result");var N=z.options.createCanvas(P.toWidth,P.toHeight),X=N.getContext("2d");X.drawImage(Q,0,0),Q.close();var K=X.getImageData(0,0,P.toWidth,P.toHeight);return z.__mathlib.unsharp_mask(K.data,P.toWidth,P.toHeight,P.unsharpAmount,P.unsharpRadius,P.unsharpThreshold),j.putImageData(K,0,0),N.width=N.height=0,K=X=N=j=null,z.debug("Finished!"),k})},M.prototype.resize=function(F,k,P){var z=this;this.debug("Start resize...");var j=v({},B);if(isNaN(P)?P&&(j=v(j,P)):j=v(j,{quality:P}),j.toWidth=k.width,j.toHeight=k.height,j.width=F.naturalWidth||F.width,j.height=F.naturalHeight||F.height,Object.prototype.hasOwnProperty.call(j,"quality")){if(j.quality<0||j.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(j.quality));j.filter=a.q2f[j.quality]}if(k.width===0||k.height===0)return Promise.reject(new Error("Invalid output size: ".concat(k.width,"x").concat(k.height)));j.unsharpRadius>2&&(j.unsharpRadius=2),j.canceled=!1,j.cancelToken&&(j.cancelToken=j.cancelToken.then(function(N){throw j.canceled=!0,N},function(N){throw j.canceled=!0,N}));var Q=3;return j.__destTileBorder=Math.ceil(Math.max(Q,2.5*j.unsharpRadius|0)),this.init().then(function(){if(j.canceled)return j.cancelToken;if(z.features.cib){if(a.q2f.indexOf(j.filter)>=0)return z.__resizeViaCreateImageBitmap(F,k,j);z.debug("cib is enabled, but not supports provided filter, fallback to manual math")}if(!L){var N=new Error("Pica: cannot use getImageData on canvas, make sure fingerprinting protection isn't enabled");throw N.code="ERR_GET_IMAGE_DATA",N}var X=d(j.width,j.height,j.toWidth,j.toHeight,z.options.tile,j.__destTileBorder);return z.__processStages(X,F,k,j)})},M.prototype.resizeBuffer=function(F){var k=this,P=v({},B,F);if(Object.prototype.hasOwnProperty.call(P,"quality")){if(P.quality<0||P.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(P.quality));P.filter=a.q2f[P.quality]}return this.init().then(function(){return k.__mathlib.resizeAndUnsharp(P)})},M.prototype.toBlob=function(F,k,P){return k=k||"image/png",new Promise(function(z){if(F.toBlob){F.toBlob(function(K){return z(K)},k,P);return}if(F.convertToBlob){z(F.convertToBlob({type:k,quality:P}));return}for(var j=atob(F.toDataURL(k,P).split(",")[1]),Q=j.length,N=new Uint8Array(Q),X=0;X<Q;X++)N[X]=j.charCodeAt(X);z(new Blob([N],{type:k}))})},M.prototype.debug=function(){},s.exports=M},{"./lib/mathlib":1,"./lib/mm_resize/resize_filter_info":7,"./lib/pool":13,"./lib/stepper":14,"./lib/tiler":15,"./lib/utils":16,"./lib/worker":17,"object-assign":22,webworkify:23}]},{},[])("/index.js")})})(Zn);const Kn=rr;function an(e,r){const t=e.size,s=1024*1024*10;return t<=s?new Promise(c=>{const i=new FileReader;i.readAsArrayBuffer(e),i.onload=p=>{var h;const n=new Or.ArrayBuffer;n.append((h=p.target)==null?void 0:h.result);const u=n.end();c(u)}}):new Promise(c=>{const i=Math.ceil(t/s);let p=0,n=0;const u=new Or.ArrayBuffer,h=new FileReader;h.onload=function(v){var y;if(u.append((y=v.target)==null?void 0:y.result),n+=s,p++,p<i)_();else{const b=u.end();c(b)}if(r){const b=Math.min(n/t*100,100);r(b)}};function _(){const v=n,y=Math.min(v+s,t);h.readAsArrayBuffer(e.slice(v,y))}_()})}const on=e=>new Promise((r,t)=>{const s=new Image;s.src=URL.createObjectURL(e),s.onload=()=>{URL.revokeObjectURL(s.src),r(s)},s.onerror=()=>{URL.revokeObjectURL(s.src),t(new Error("Failed to load image"))}}),Yo=(e,r)=>Math.round(r.size/e.size*1e4)/100,Xn=async(e,r,t,s)=>{try{const c=new Kn({createCanvas:(h,_)=>new OffscreenCanvas(h,_)}),i=s?await createImageBitmap(e):await on(e),p=Math.min(r/i.width,t/i.height),n=new OffscreenCanvas(i.width*p,i.height*p);await c.resize(i,n);const u=await n.convertToBlob({type:"image/png"});return new File([u],e.name,{type:u.type})}catch(c){return console.error("生成缩略图失败: ",c),e}},$n=async(e,r,t=!0,s=!1,c=128,i=128)=>{const p=await Xn(e,c,i,s),n=r||await an(e),u=t?URL.createObjectURL(e):"",h=t?URL.createObjectURL(p):"";return{file:e,src:u,md5:n,thumbnail:{file:p,src:h}}},Jn=e=>gt(r=>{r.src||(r.src=URL.createObjectURL(r.file)),r.thumbnail.src||(r.thumbnail.src=URL.createObjectURL(r.thumbnail.file))})(e);var ue={},Vn={get exports(){return ue},set exports(e){ue=e}},ei="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ti=ei,ri=ti;function sn(){}function ln(){}ln.resetWarningCache=sn;var ni=function(){function e(s,c,i,p,n,u){if(u!==ri){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function r(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:ln,resetWarningCache:sn};return t.PropTypes=t,t};Vn.exports=ni();function at(e,r,t,s){function c(i){return i instanceof t?i:new t(function(p){p(i)})}return new(t||(t=Promise))(function(i,p){function n(_){try{h(s.next(_))}catch(v){p(v)}}function u(_){try{h(s.throw(_))}catch(v){p(v)}}function h(_){_.done?i(_.value):c(_.value).then(n,u)}h((s=s.apply(e,r||[])).next())})}function ot(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,c,i,p;return p={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function n(h){return function(_){return u([h,_])}}function u(h){if(s)throw new TypeError("Generator is already executing.");for(;p&&(p=0,h[0]&&(t=0)),t;)try{if(s=1,c&&(i=h[0]&2?c.return:h[0]?c.throw||((i=c.return)&&i.call(c),0):c.next)&&!(i=i.call(c,h[1])).done)return i;switch(c=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,c=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){t.label=h[1];break}if(h[0]===6&&t.label<i[1]){t.label=i[1],i=h;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(h);break}i[2]&&t.ops.pop(),t.trys.pop();continue}h=r.call(e,t)}catch(_){h=[6,_],c=0}finally{s=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Dr(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var s=t.call(e),c,i=[],p;try{for(;(r===void 0||r-- >0)&&!(c=s.next()).done;)i.push(c.value)}catch(n){p={error:n}}finally{try{c&&!c.done&&(t=s.return)&&t.call(s)}finally{if(p)throw p.error}}return i}function Rr(e,r,t){if(t||arguments.length===2)for(var s=0,c=r.length,i;s<c;s++)(i||!(s in r))&&(i||(i=Array.prototype.slice.call(r,0,s)),i[s]=r[s]);return e.concat(i||Array.prototype.slice.call(r))}var ii=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function wt(e,r){var t=ai(e);if(typeof t.path!="string"){var s=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof s=="string"&&s.length>0?s:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function ai(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var s=r.split(".").pop().toLowerCase(),c=ii.get(s);c&&Object.defineProperty(e,"type",{value:c,writable:!1,configurable:!1,enumerable:!0})}return e}var oi=[".DS_Store","Thumbs.db"];function si(e){return at(this,void 0,void 0,function(){return ot(this,function(r){return Dt(e)&&li(e.dataTransfer)?[2,hi(e.dataTransfer,e.type)]:ui(e)?[2,ci(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,fi(e)]:[2,[]]})})}function li(e){return Dt(e)}function ui(e){return Dt(e)&&Dt(e.target)}function Dt(e){return typeof e=="object"&&e!==null}function ci(e){return nr(e.target.files).map(function(r){return wt(r)})}function fi(e){return at(this,void 0,void 0,function(){var r;return ot(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(s){return s.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(s){return wt(s)})]}})})}function hi(e,r){return at(this,void 0,void 0,function(){var t,s;return ot(this,function(c){switch(c.label){case 0:return e.items?(t=nr(e.items).filter(function(i){return i.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(di))]):[3,2];case 1:return s=c.sent(),[2,Mr(un(s))];case 2:return[2,Mr(nr(e.files).map(function(i){return wt(i)}))]}})})}function Mr(e){return e.filter(function(r){return oi.indexOf(r.name)===-1})}function nr(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var s=e[t];r.push(s)}return r}function di(e){if(typeof e.webkitGetAsEntry!="function")return Pr(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?cn(r):Pr(e)}function un(e){return e.reduce(function(r,t){return Rr(Rr([],Dr(r),!1),Dr(Array.isArray(t)?un(t):[t]),!1)},[])}function Pr(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=wt(r);return Promise.resolve(t)}function pi(e){return at(this,void 0,void 0,function(){return ot(this,function(r){return[2,e.isDirectory?cn(e):mi(e)]})})}function cn(e){var r=e.createReader();return new Promise(function(t,s){var c=[];function i(){var p=this;r.readEntries(function(n){return at(p,void 0,void 0,function(){var u,h,_;return ot(this,function(v){switch(v.label){case 0:if(n.length)return[3,5];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all(c)];case 2:return u=v.sent(),t(u),[3,4];case 3:return h=v.sent(),s(h),[3,4];case 4:return[3,6];case 5:_=Promise.all(n.map(pi)),c.push(_),i(),v.label=6;case 6:return[2]}})})},function(n){s(n)})}i()})}function mi(e){return at(this,void 0,void 0,function(){return ot(this,function(r){return[2,new Promise(function(t,s){e.file(function(c){var i=wt(c,e.fullPath);t(i)},function(c){s(c)})})]})})}var gi=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),s=e.name||"",c=(e.type||"").toLowerCase(),i=c.replace(/\/.*$/,"");return t.some(function(p){var n=p.trim().toLowerCase();return n.charAt(0)==="."?s.toLowerCase().endsWith(n):n.endsWith("/*")?i===n.replace(/\/.*$/,""):c===n})}return!0};function Fr(e){return yi(e)||Ai(e)||hn(e)||vi()}function vi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ai(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yi(e){if(Array.isArray(e))return ir(e)}function Tr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),t.push.apply(t,s)}return t}function zr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Tr(Object(t),!0).forEach(function(s){fn(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Tr(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function fn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function vt(e,r){return _i(e)||wi(e,r)||hn(e,r)||bi()}function bi(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hn(e,r){if(e){if(typeof e=="string")return ir(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ir(e,r)}}function ir(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=new Array(r);t<r;t++)s[t]=e[t];return s}function wi(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var s=[],c=!0,i=!1,p,n;try{for(t=t.call(e);!(c=(p=t.next()).done)&&(s.push(p.value),!(r&&s.length===r));c=!0);}catch(u){i=!0,n=u}finally{try{!c&&t.return!=null&&t.return()}finally{if(i)throw n}}return s}}function _i(e){if(Array.isArray(e))return e}var Ei="file-invalid-type",Ci="file-too-large",xi="file-too-small",Ii="too-many-files",ki=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:Ei,message:"File type must be ".concat(t)}},Nr=function(r){return{code:Ci,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},Qr=function(r){return{code:xi,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},Si={code:Ii,message:"Too many files"};function dn(e,r){var t=e.type==="application/x-moz-file"||gi(e,r);return[t,t?null:ki(r)]}function pn(e,r,t){if(Ge(e.size))if(Ge(r)&&Ge(t)){if(e.size>t)return[!1,Nr(t)];if(e.size<r)return[!1,Qr(r)]}else{if(Ge(r)&&e.size<r)return[!1,Qr(r)];if(Ge(t)&&e.size>t)return[!1,Nr(t)]}return[!0,null]}function Ge(e){return e!=null}function Bi(e){var r=e.files,t=e.accept,s=e.minSize,c=e.maxSize,i=e.multiple,p=e.maxFiles,n=e.validator;return!i&&r.length>1||i&&p>=1&&r.length>p?!1:r.every(function(u){var h=dn(u,t),_=vt(h,1),v=_[0],y=pn(u,s,c),b=vt(y,1),C=b[0],g=n?n(u):null;return v&&C&&!g})}function Rt(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function It(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Lr(e){e.preventDefault()}function Oi(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Di(e){return e.indexOf("Edge/")!==-1}function Ri(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Oi(e)||Di(e)}function Re(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(s){for(var c=arguments.length,i=new Array(c>1?c-1:0),p=1;p<c;p++)i[p-1]=arguments[p];return r.some(function(n){return!Rt(s)&&n&&n.apply(void 0,[s].concat(i)),Rt(s)})}}function Mi(){return"showOpenFilePicker"in window}function Pi(e){if(Ge(e)){var r=Object.entries(e).filter(function(t){var s=vt(t,2),c=s[0],i=s[1],p=!0;return mn(c)||(console.warn('Skipped "'.concat(c,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),p=!1),(!Array.isArray(i)||!i.every(gn))&&(console.warn('Skipped "'.concat(c,'" because an invalid file extension was provided.')),p=!1),p}).reduce(function(t,s){var c=vt(s,2),i=c[0],p=c[1];return zr(zr({},t),{},fn({},i,p))},{});return[{description:"Files",accept:r}]}return e}function Fi(e){if(Ge(e))return Object.entries(e).reduce(function(r,t){var s=vt(t,2),c=s[0],i=s[1];return[].concat(Fr(r),[c],Fr(i))},[]).filter(function(r){return mn(r)||gn(r)}).join(",")}function Ti(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function zi(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function mn(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function gn(e){return/^.*\.[\w]+$/.test(e)}var Ni=["children"],Qi=["open"],Li=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Ui=["refKey","onChange","onClick"];function ji(e){return Gi(e)||Hi(e)||vn(e)||Wi()}function Wi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hi(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gi(e){if(Array.isArray(e))return ar(e)}function Zt(e,r){return Zi(e)||qi(e,r)||vn(e,r)||Yi()}function Yi(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vn(e,r){if(e){if(typeof e=="string")return ar(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ar(e,r)}}function ar(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=new Array(r);t<r;t++)s[t]=e[t];return s}function qi(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var s=[],c=!0,i=!1,p,n;try{for(t=t.call(e);!(c=(p=t.next()).done)&&(s.push(p.value),!(r&&s.length===r));c=!0);}catch(u){i=!0,n=u}finally{try{!c&&t.return!=null&&t.return()}finally{if(i)throw n}}return s}}function Zi(e){if(Array.isArray(e))return e}function Ur(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),t.push.apply(t,s)}return t}function pe(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ur(Object(t),!0).forEach(function(s){or(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ur(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function or(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Mt(e,r){if(e==null)return{};var t=Ki(e,r),s,c;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(c=0;c<i.length;c++)s=i[c],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function Ki(e,r){if(e==null)return{};var t={},s=Object.keys(e),c,i;for(i=0;i<s.length;i++)c=s[i],!(r.indexOf(c)>=0)&&(t[c]=e[c]);return t}var Lt=V.forwardRef(function(e,r){var t=e.children,s=Mt(e,Ni),c=$i(s),i=c.open,p=Mt(c,Qi);return V.useImperativeHandle(r,function(){return{open:i}},[i]),en.createElement(V.Fragment,null,t(pe(pe({},p),{},{open:i})))});Lt.displayName="Dropzone";var An={disabled:!1,getFilesFromEvent:si,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Lt.defaultProps=An;Lt.propTypes={children:ue.func,accept:ue.objectOf(ue.arrayOf(ue.string)),multiple:ue.bool,preventDropOnDocument:ue.bool,noClick:ue.bool,noKeyboard:ue.bool,noDrag:ue.bool,noDragEventsBubbling:ue.bool,minSize:ue.number,maxSize:ue.number,maxFiles:ue.number,disabled:ue.bool,getFilesFromEvent:ue.func,onFileDialogCancel:ue.func,onFileDialogOpen:ue.func,useFsAccessApi:ue.bool,autoFocus:ue.bool,onDragEnter:ue.func,onDragLeave:ue.func,onDragOver:ue.func,onDrop:ue.func,onDropAccepted:ue.func,onDropRejected:ue.func,onError:ue.func,validator:ue.func};const Xi=Lt;var sr={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function $i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=pe(pe({},An),e),t=r.accept,s=r.disabled,c=r.getFilesFromEvent,i=r.maxSize,p=r.minSize,n=r.multiple,u=r.maxFiles,h=r.onDragEnter,_=r.onDragLeave,v=r.onDragOver,y=r.onDrop,b=r.onDropAccepted,C=r.onDropRejected,g=r.onFileDialogCancel,E=r.onFileDialogOpen,d=r.useFsAccessApi,A=r.autoFocus,a=r.preventDropOnDocument,o=r.noClick,m=r.noKeyboard,f=r.noDrag,x=r.noDragEventsBubbling,B=r.onError,I=r.validator,R=V.useMemo(function(){return Fi(t)},[t]),L=V.useMemo(function(){return Pi(t)},[t]),S=V.useMemo(function(){return typeof E=="function"?E:jr},[E]),T=V.useMemo(function(){return typeof g=="function"?g:jr},[g]),l=V.useRef(null),M=V.useRef(null),F=V.useReducer(Ji,sr),k=Zt(F,2),P=k[0],z=k[1],j=P.isFocused,Q=P.isFileDialogActive,N=V.useRef(typeof window<"u"&&window.isSecureContext&&d&&Mi()),X=function(){!N.current&&Q&&setTimeout(function(){if(M.current){var Y=M.current.files;Y.length||(z({type:"closeDialog"}),T())}},300)};V.useEffect(function(){return window.addEventListener("focus",X,!1),function(){window.removeEventListener("focus",X,!1)}},[M,Q,T,N]);var K=V.useRef([]),$=function(Y){l.current&&l.current.contains(Y.target)||(Y.preventDefault(),K.current=[])};V.useEffect(function(){return a&&(document.addEventListener("dragover",Lr,!1),document.addEventListener("drop",$,!1)),function(){a&&(document.removeEventListener("dragover",Lr),document.removeEventListener("drop",$))}},[l,a]),V.useEffect(function(){return!s&&A&&l.current&&l.current.focus(),function(){}},[l,A,s]);var se=V.useCallback(function(H){B?B(H):console.error(H)},[B]),ce=V.useCallback(function(H){H.preventDefault(),H.persist(),Z(H),K.current=[].concat(ji(K.current),[H.target]),It(H)&&Promise.resolve(c(H)).then(function(Y){if(!(Rt(H)&&!x)){var te=Y.length,ie=te>0&&Bi({files:Y,accept:R,minSize:p,maxSize:i,multiple:n,maxFiles:u,validator:I}),ne=te>0&&!ie;z({isDragAccept:ie,isDragReject:ne,isDragActive:!0,type:"setDraggedFiles"}),h&&h(H)}}).catch(function(Y){return se(Y)})},[c,h,se,x,R,p,i,n,u,I]),oe=V.useCallback(function(H){H.preventDefault(),H.persist(),Z(H);var Y=It(H);if(Y&&H.dataTransfer)try{H.dataTransfer.dropEffect="copy"}catch{}return Y&&v&&v(H),!1},[v,x]),le=V.useCallback(function(H){H.preventDefault(),H.persist(),Z(H);var Y=K.current.filter(function(ie){return l.current&&l.current.contains(ie)}),te=Y.indexOf(H.target);te!==-1&&Y.splice(te,1),K.current=Y,!(Y.length>0)&&(z({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),It(H)&&_&&_(H))},[l,_,x]),de=V.useCallback(function(H,Y){var te=[],ie=[];H.forEach(function(ne){var ge=dn(ne,R),xe=Zt(ge,2),we=xe[0],Te=xe[1],he=pn(ne,p,i),ze=Zt(he,2),je=ze[0],_e=ze[1],Je=I?I(ne):null;if(we&&je&&!Je)te.push(ne);else{var ut=[Te,_e];Je&&(ut=ut.concat(Je)),ie.push({file:ne,errors:ut.filter(function(jt){return jt})})}}),(!n&&te.length>1||n&&u>=1&&te.length>u)&&(te.forEach(function(ne){ie.push({file:ne,errors:[Si]})}),te.splice(0)),z({acceptedFiles:te,fileRejections:ie,type:"setFiles"}),y&&y(te,ie,Y),ie.length>0&&C&&C(ie,Y),te.length>0&&b&&b(te,Y)},[z,n,R,p,i,u,y,b,C,I]),fe=V.useCallback(function(H){H.preventDefault(),H.persist(),Z(H),K.current=[],It(H)&&Promise.resolve(c(H)).then(function(Y){Rt(H)&&!x||de(Y,H)}).catch(function(Y){return se(Y)}),z({type:"reset"})},[c,de,se,x]),ve=V.useCallback(function(){if(N.current){z({type:"openDialog"}),S();var H={multiple:n,types:L};window.showOpenFilePicker(H).then(function(Y){return c(Y)}).then(function(Y){de(Y,null),z({type:"closeDialog"})}).catch(function(Y){Ti(Y)?(T(Y),z({type:"closeDialog"})):zi(Y)?(N.current=!1,M.current?(M.current.value=null,M.current.click()):se(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):se(Y)});return}M.current&&(z({type:"openDialog"}),S(),M.current.value=null,M.current.click())},[z,S,T,d,de,se,L,n]),be=V.useCallback(function(H){!l.current||!l.current.isEqualNode(H.target)||(H.key===" "||H.key==="Enter"||H.keyCode===32||H.keyCode===13)&&(H.preventDefault(),ve())},[l,ve]),w=V.useCallback(function(){z({type:"focus"})},[]),q=V.useCallback(function(){z({type:"blur"})},[]),G=V.useCallback(function(){o||(Ri()?setTimeout(ve,0):ve())},[o,ve]),D=function(Y){return s?null:Y},O=function(Y){return m?null:D(Y)},U=function(Y){return f?null:D(Y)},Z=function(Y){x&&Y.stopPropagation()},J=V.useMemo(function(){return function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=H.refKey,te=Y===void 0?"ref":Y,ie=H.role,ne=H.onKeyDown,ge=H.onFocus,xe=H.onBlur,we=H.onClick,Te=H.onDragEnter,he=H.onDragOver,ze=H.onDragLeave,je=H.onDrop,_e=Mt(H,Li);return pe(pe(or({onKeyDown:O(Re(ne,be)),onFocus:O(Re(ge,w)),onBlur:O(Re(xe,q)),onClick:D(Re(we,G)),onDragEnter:U(Re(Te,ce)),onDragOver:U(Re(he,oe)),onDragLeave:U(Re(ze,le)),onDrop:U(Re(je,fe)),role:typeof ie=="string"&&ie!==""?ie:"presentation"},te,l),!s&&!m?{tabIndex:0}:{}),_e)}},[l,be,w,q,G,ce,oe,le,fe,m,f,s]),W=V.useCallback(function(H){H.stopPropagation()},[]),ee=V.useMemo(function(){return function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=H.refKey,te=Y===void 0?"ref":Y,ie=H.onChange,ne=H.onClick,ge=Mt(H,Ui),xe=or({accept:R,multiple:n,type:"file",style:{display:"none"},onChange:D(Re(ie,fe)),onClick:D(Re(ne,W)),tabIndex:-1},te,M);return pe(pe({},xe),ge)}},[M,t,n,fe,s]);return pe(pe({},P),{},{isFocused:j&&!s,getRootProps:J,getInputProps:ee,rootRef:l,inputRef:M,open:D(ve)})}function Ji(e,r){switch(r.type){case"focus":return pe(pe({},e),{},{isFocused:!0});case"blur":return pe(pe({},e),{},{isFocused:!1});case"openDialog":return pe(pe({},sr),{},{isFileDialogActive:!0});case"closeDialog":return pe(pe({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return pe(pe({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return pe(pe({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return pe({},sr);default:return e}}function jr(){}class Vi{constructor(r){ye(this,"value");ye(this,"next");this.value=r}}var Me,qe,Ze;class ea{constructor(){xt(this,Me,void 0);xt(this,qe,void 0);xt(this,Ze,void 0);this.clear()}enqueue(r){const t=new Vi(r);Qe(this,Me)?(Qe(this,qe).next=t,Ne(this,qe,t)):(Ne(this,Me,t),Ne(this,qe,t)),Wt(this,Ze)._++}dequeue(){const r=Qe(this,Me);if(r)return Ne(this,Me,Qe(this,Me).next),Wt(this,Ze)._--,r.value}clear(){Ne(this,Me,void 0),Ne(this,qe,void 0),Ne(this,Ze,0)}get size(){return Qe(this,Ze)}*[Symbol.iterator](){let r=Qe(this,Me);for(;r;)yield r.value,r=r.next}}Me=new WeakMap,qe=new WeakMap,Ze=new WeakMap;function ta(e){if(!((Number.isInteger(e)||e===Number.POSITIVE_INFINITY)&&e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const r=new ea;let t=0;const s=()=>{t--,r.size>0&&r.dequeue()()},c=async(n,u,h)=>{t++;const _=(async()=>n(...h))();u(_);try{await _}catch{}s()},i=(n,u,h)=>{r.enqueue(c.bind(void 0,n,u,h)),(async()=>(await Promise.resolve(),t<e&&r.size>0&&r.dequeue()()))()},p=(n,...u)=>new Promise(h=>{i(n,h,u)});return Object.defineProperties(p,{activeCount:{get:()=>t},pendingCount:{get:()=>r.size},clearQueue:{value:()=>{r.clear()}}}),p}var Pt={},ra={get exports(){return Pt},set exports(e){Pt=e}},$e={},Ft={},na={get exports(){return Ft},set exports(e){Ft=e}},Oe={},At={},ia={get exports(){return At},set exports(e){At=e}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=_;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var t="none",s="contents",c=/input|select|textarea|button|object|iframe/;function i(v,y){return y.getPropertyValue("overflow")!=="visible"||v.scrollWidth<=0&&v.scrollHeight<=0}function p(v){var y=v.offsetWidth<=0&&v.offsetHeight<=0;if(y&&!v.innerHTML)return!0;try{var b=window.getComputedStyle(v),C=b.getPropertyValue("display");return y?C!==s&&i(v,b):C===t}catch{return console.warn("Failed to inspect element style"),!1}}function n(v){for(var y=v,b=v.getRootNode&&v.getRootNode();y&&y!==document.body;){if(b&&y===b&&(y=b.host.parentNode),p(y))return!1;y=y.parentNode}return!0}function u(v,y){var b=v.nodeName.toLowerCase(),C=c.test(b)&&!v.disabled||b==="a"&&v.href||y;return C&&n(v)}function h(v){var y=v.getAttribute("tabindex");y===null&&(y=void 0);var b=isNaN(y);return(b||y>=0)&&u(v,!b)}function _(v){var y=[].slice.call(v.querySelectorAll("*"),0).reduce(function(b,C){return b.concat(C.shadowRoot?_(C.shadowRoot):[C])},[]);return y.filter(h)}e.exports=r.default})(ia,At);Object.defineProperty(Oe,"__esModule",{value:!0});Oe.resetState=la;Oe.log=ua;Oe.handleBlur=yt;Oe.handleFocus=bt;Oe.markForFocusLater=ca;Oe.returnFocus=fa;Oe.popWithoutFocus=ha;Oe.setupScopedFocus=da;Oe.teardownScopedFocus=pa;var aa=At,oa=sa(aa);function sa(e){return e&&e.__esModule?e:{default:e}}var nt=[],et=null,lr=!1;function la(){nt=[]}function ua(){}function yt(){lr=!0}function bt(){if(lr){if(lr=!1,!et)return;setTimeout(function(){if(!et.contains(document.activeElement)){var e=(0,oa.default)(et)[0]||et;e.focus()}},0)}}function ca(){nt.push(document.activeElement)}function fa(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=null;try{nt.length!==0&&(r=nt.pop(),r.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",r,"but it is not in the DOM anymore"].join(" "))}}function ha(){nt.length>0&&nt.pop()}function da(e){et=e,window.addEventListener?(window.addEventListener("blur",yt,!1),document.addEventListener("focus",bt,!0)):(window.attachEvent("onBlur",yt),document.attachEvent("onFocus",bt))}function pa(){et=null,window.addEventListener?(window.removeEventListener("blur",yt),document.removeEventListener("focus",bt)):(window.detachEvent("onBlur",yt),document.detachEvent("onFocus",bt))}var Tt={},ma={get exports(){return Tt},set exports(e){Tt=e}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=p;var t=At,s=c(t);function c(n){return n&&n.__esModule?n:{default:n}}function i(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return n.activeElement.shadowRoot?i(n.activeElement.shadowRoot):n.activeElement}function p(n,u){var h=(0,s.default)(n);if(!h.length){u.preventDefault();return}var _=void 0,v=u.shiftKey,y=h[0],b=h[h.length-1],C=i();if(n===C){if(!v)return;_=b}if(b===C&&!v&&(_=y),y===C&&v&&(_=b),_){u.preventDefault(),_.focus();return}var g=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),E=g!=null&&g[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(E){var d=h.indexOf(C);if(d>-1&&(d+=v?-1:1),_=h[d],typeof _>"u"){u.preventDefault(),_=v?b:y,_.focus();return}u.preventDefault(),_.focus()}}e.exports=r.default})(ma,Tt);var De={},ga=function(){},va=ga,Be={},ur={},Aa={get exports(){return ur},set exports(e){ur=e}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var r=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:r,canUseWorkers:typeof Worker<"u",canUseEventListeners:r&&!!(window.addEventListener||window.attachEvent),canUseViewport:r&&!!window.screen};e.exports?e.exports=t:window.ExecutionEnvironment=t})()})(Aa);Object.defineProperty(Be,"__esModule",{value:!0});Be.canUseDOM=Be.SafeNodeList=Be.SafeHTMLCollection=void 0;var ya=ur,ba=wa(ya);function wa(e){return e&&e.__esModule?e:{default:e}}var Ut=ba.default,_a=Ut.canUseDOM?window.HTMLElement:{};Be.SafeHTMLCollection=Ut.canUseDOM?window.HTMLCollection:{};Be.SafeNodeList=Ut.canUseDOM?window.NodeList:{};Be.canUseDOM=Ut.canUseDOM;Be.default=_a;Object.defineProperty(De,"__esModule",{value:!0});De.resetState=ka;De.log=Sa;De.assertNodeList=yn;De.setElement=Ba;De.validateElement=Ar;De.hide=Oa;De.show=Da;De.documentNotReadyOrSSRTesting=Ra;var Ea=va,Ca=Ia(Ea),xa=Be;function Ia(e){return e&&e.__esModule?e:{default:e}}var Ie=null;function ka(){Ie&&(Ie.removeAttribute?Ie.removeAttribute("aria-hidden"):Ie.length!=null?Ie.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(Ie).forEach(function(e){return e.removeAttribute("aria-hidden")})),Ie=null}function Sa(){}function yn(e,r){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+r+".")}function Ba(e){var r=e;if(typeof r=="string"&&xa.canUseDOM){var t=document.querySelectorAll(r);yn(t,r),r=t}return Ie=r||Ie,Ie}function Ar(e){var r=e||Ie;return r?Array.isArray(r)||r instanceof HTMLCollection||r instanceof NodeList?r:[r]:((0,Ca.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Oa(e){var r=!0,t=!1,s=void 0;try{for(var c=Ar(e)[Symbol.iterator](),i;!(r=(i=c.next()).done);r=!0){var p=i.value;p.setAttribute("aria-hidden","true")}}catch(n){t=!0,s=n}finally{try{!r&&c.return&&c.return()}finally{if(t)throw s}}}function Da(e){var r=!0,t=!1,s=void 0;try{for(var c=Ar(e)[Symbol.iterator](),i;!(r=(i=c.next()).done);r=!0){var p=i.value;p.removeAttribute("aria-hidden")}}catch(n){t=!0,s=n}finally{try{!r&&c.return&&c.return()}finally{if(t)throw s}}}function Ra(){Ie=null}var st={};Object.defineProperty(st,"__esModule",{value:!0});st.resetState=Ma;st.log=Pa;var ht={},dt={};function Wr(e,r){e.classList.remove(r)}function Ma(){var e=document.getElementsByTagName("html")[0];for(var r in ht)Wr(e,ht[r]);var t=document.body;for(var s in dt)Wr(t,dt[s]);ht={},dt={}}function Pa(){}var Fa=function(r,t){return r[t]||(r[t]=0),r[t]+=1,t},Ta=function(r,t){return r[t]&&(r[t]-=1),t},za=function(r,t,s){s.forEach(function(c){Fa(t,c),r.add(c)})},Na=function(r,t,s){s.forEach(function(c){Ta(t,c),t[c]===0&&r.remove(c)})};st.add=function(r,t){return za(r.classList,r.nodeName.toLowerCase()=="html"?ht:dt,t.split(" "))};st.remove=function(r,t){return Na(r.classList,r.nodeName.toLowerCase()=="html"?ht:dt,t.split(" "))};var lt={};Object.defineProperty(lt,"__esModule",{value:!0});lt.log=La;lt.resetState=Ua;function Qa(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var bn=function e(){var r=this;Qa(this,e),this.register=function(t){r.openInstances.indexOf(t)===-1&&(r.openInstances.push(t),r.emit("register"))},this.deregister=function(t){var s=r.openInstances.indexOf(t);s!==-1&&(r.openInstances.splice(s,1),r.emit("deregister"))},this.subscribe=function(t){r.subscribers.push(t)},this.emit=function(t){r.subscribers.forEach(function(s){return s(t,r.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},zt=new bn;function La(){console.log("portalOpenInstances ----------"),console.log(zt.openInstances.length),zt.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function Ua(){zt=new bn}lt.default=zt;var yr={};Object.defineProperty(yr,"__esModule",{value:!0});yr.resetState=Ga;yr.log=Ya;var ja=lt,Wa=Ha(ja);function Ha(e){return e&&e.__esModule?e:{default:e}}var Ae=void 0,ke=void 0,Ke=[];function Ga(){for(var e=[Ae,ke],r=0;r<e.length;r++){var t=e[r];t&&t.parentNode&&t.parentNode.removeChild(t)}Ae=ke=null,Ke=[]}function Ya(){console.log("bodyTrap ----------"),console.log(Ke.length);for(var e=[Ae,ke],r=0;r<e.length;r++){var t=e[r],s=t||{};console.log(s.nodeName,s.className,s.id)}console.log("edn bodyTrap ----------")}function Hr(){Ke.length!==0&&Ke[Ke.length-1].focusContent()}function qa(e,r){!Ae&&!ke&&(Ae=document.createElement("div"),Ae.setAttribute("data-react-modal-body-trap",""),Ae.style.position="absolute",Ae.style.opacity="0",Ae.setAttribute("tabindex","0"),Ae.addEventListener("focus",Hr),ke=Ae.cloneNode(),ke.addEventListener("focus",Hr)),Ke=r,Ke.length>0?(document.body.firstChild!==Ae&&document.body.insertBefore(Ae,document.body.firstChild),document.body.lastChild!==ke&&document.body.appendChild(ke)):(Ae.parentElement&&Ae.parentElement.removeChild(Ae),ke.parentElement&&ke.parentElement.removeChild(ke))}Wa.default.subscribe(qa);(function(e,r){Object.defineProperty(r,"__esModule",{value:!0});var t=Object.assign||function(l){for(var M=1;M<arguments.length;M++){var F=arguments[M];for(var k in F)Object.prototype.hasOwnProperty.call(F,k)&&(l[k]=F[k])}return l},s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},c=function(){function l(M,F){for(var k=0;k<F.length;k++){var P=F[k];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(M,P.key,P)}}return function(M,F,k){return F&&l(M.prototype,F),k&&l(M,k),M}}(),i=V,p=ue,n=m(p),u=Oe,h=o(u),_=Tt,v=m(_),y=De,b=o(y),C=st,g=o(C),E=Be,d=m(E),A=lt,a=m(A);function o(l){if(l&&l.__esModule)return l;var M={};if(l!=null)for(var F in l)Object.prototype.hasOwnProperty.call(l,F)&&(M[F]=l[F]);return M.default=l,M}function m(l){return l&&l.__esModule?l:{default:l}}function f(l,M){if(!(l instanceof M))throw new TypeError("Cannot call a class as a function")}function x(l,M){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:l}function B(l,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);l.prototype=Object.create(M&&M.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(l,M):l.__proto__=M)}var I={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},R=function(M){return M.code==="Tab"||M.keyCode===9},L=function(M){return M.code==="Escape"||M.keyCode===27},S=0,T=function(l){B(M,l);function M(F){f(this,M);var k=x(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,F));return k.setOverlayRef=function(P){k.overlay=P,k.props.overlayRef&&k.props.overlayRef(P)},k.setContentRef=function(P){k.content=P,k.props.contentRef&&k.props.contentRef(P)},k.afterClose=function(){var P=k.props,z=P.appElement,j=P.ariaHideApp,Q=P.htmlOpenClassName,N=P.bodyOpenClassName,X=P.parentSelector,K=X&&X().ownerDocument||document;N&&g.remove(K.body,N),Q&&g.remove(K.getElementsByTagName("html")[0],Q),j&&S>0&&(S-=1,S===0&&b.show(z)),k.props.shouldFocusAfterRender&&(k.props.shouldReturnFocusAfterClose?(h.returnFocus(k.props.preventScroll),h.teardownScopedFocus()):h.popWithoutFocus()),k.props.onAfterClose&&k.props.onAfterClose(),a.default.deregister(k)},k.open=function(){k.beforeOpen(),k.state.afterOpen&&k.state.beforeClose?(clearTimeout(k.closeTimer),k.setState({beforeClose:!1})):(k.props.shouldFocusAfterRender&&(h.setupScopedFocus(k.node),h.markForFocusLater()),k.setState({isOpen:!0},function(){k.openAnimationFrame=requestAnimationFrame(function(){k.setState({afterOpen:!0}),k.props.isOpen&&k.props.onAfterOpen&&k.props.onAfterOpen({overlayEl:k.overlay,contentEl:k.content})})}))},k.close=function(){k.props.closeTimeoutMS>0?k.closeWithTimeout():k.closeWithoutTimeout()},k.focusContent=function(){return k.content&&!k.contentHasFocus()&&k.content.focus({preventScroll:!0})},k.closeWithTimeout=function(){var P=Date.now()+k.props.closeTimeoutMS;k.setState({beforeClose:!0,closesAt:P},function(){k.closeTimer=setTimeout(k.closeWithoutTimeout,k.state.closesAt-Date.now())})},k.closeWithoutTimeout=function(){k.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},k.afterClose)},k.handleKeyDown=function(P){R(P)&&(0,v.default)(k.content,P),k.props.shouldCloseOnEsc&&L(P)&&(P.stopPropagation(),k.requestClose(P))},k.handleOverlayOnClick=function(P){k.shouldClose===null&&(k.shouldClose=!0),k.shouldClose&&k.props.shouldCloseOnOverlayClick&&(k.ownerHandlesClose()?k.requestClose(P):k.focusContent()),k.shouldClose=null},k.handleContentOnMouseUp=function(){k.shouldClose=!1},k.handleOverlayOnMouseDown=function(P){!k.props.shouldCloseOnOverlayClick&&P.target==k.overlay&&P.preventDefault()},k.handleContentOnClick=function(){k.shouldClose=!1},k.handleContentOnMouseDown=function(){k.shouldClose=!1},k.requestClose=function(P){return k.ownerHandlesClose()&&k.props.onRequestClose(P)},k.ownerHandlesClose=function(){return k.props.onRequestClose},k.shouldBeClosed=function(){return!k.state.isOpen&&!k.state.beforeClose},k.contentHasFocus=function(){return document.activeElement===k.content||k.content.contains(document.activeElement)},k.buildClassName=function(P,z){var j=(typeof z>"u"?"undefined":s(z))==="object"?z:{base:I[P],afterOpen:I[P]+"--after-open",beforeClose:I[P]+"--before-close"},Q=j.base;return k.state.afterOpen&&(Q=Q+" "+j.afterOpen),k.state.beforeClose&&(Q=Q+" "+j.beforeClose),typeof z=="string"&&z?Q+" "+z:Q},k.attributesFromObject=function(P,z){return Object.keys(z).reduce(function(j,Q){return j[P+"-"+Q]=z[Q],j},{})},k.state={afterOpen:!1,beforeClose:!1},k.shouldClose=null,k.moveFromContentToOverlay=null,k}return c(M,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(k,P){this.props.isOpen&&!k.isOpen?this.open():!this.props.isOpen&&k.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!P.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var k=this.props,P=k.appElement,z=k.ariaHideApp,j=k.htmlOpenClassName,Q=k.bodyOpenClassName,N=k.parentSelector,X=N&&N().ownerDocument||document;Q&&g.add(X.body,Q),j&&g.add(X.getElementsByTagName("html")[0],j),z&&(S+=1,b.hide(P)),a.default.register(this)}},{key:"render",value:function(){var k=this.props,P=k.id,z=k.className,j=k.overlayClassName,Q=k.defaultStyles,N=k.children,X=z?{}:Q.content,K=j?{}:Q.overlay;if(this.shouldBeClosed())return null;var $={ref:this.setOverlayRef,className:this.buildClassName("overlay",j),style:t({},K,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},se=t({id:P,ref:this.setContentRef,style:t({},X,this.props.style.content),className:this.buildClassName("content",z),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",t({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),ce=this.props.contentElement(se,N);return this.props.overlayElement($,ce)}}]),M}(i.Component);T.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},T.propTypes={isOpen:n.default.bool.isRequired,defaultStyles:n.default.shape({content:n.default.object,overlay:n.default.object}),style:n.default.shape({content:n.default.object,overlay:n.default.object}),className:n.default.oneOfType([n.default.string,n.default.object]),overlayClassName:n.default.oneOfType([n.default.string,n.default.object]),parentSelector:n.default.func,bodyOpenClassName:n.default.string,htmlOpenClassName:n.default.string,ariaHideApp:n.default.bool,appElement:n.default.oneOfType([n.default.instanceOf(d.default),n.default.instanceOf(E.SafeHTMLCollection),n.default.instanceOf(E.SafeNodeList),n.default.arrayOf(n.default.instanceOf(d.default))]),onAfterOpen:n.default.func,onAfterClose:n.default.func,onRequestClose:n.default.func,closeTimeoutMS:n.default.number,shouldFocusAfterRender:n.default.bool,shouldCloseOnOverlayClick:n.default.bool,shouldReturnFocusAfterClose:n.default.bool,preventScroll:n.default.bool,role:n.default.string,contentLabel:n.default.string,aria:n.default.object,data:n.default.object,children:n.default.node,shouldCloseOnEsc:n.default.bool,overlayRef:n.default.func,contentRef:n.default.func,id:n.default.string,overlayElement:n.default.func,contentElement:n.default.func,testId:n.default.string},r.default=T,e.exports=r.default})(na,Ft);function wn(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function _n(e){function r(t){var s=this.constructor.getDerivedStateFromProps(e,t);return s??null}this.setState(r.bind(this))}function En(e,r){try{var t=this.props,s=this.state;this.props=e,this.state=r,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,s)}finally{this.props=t,this.state=s}}wn.__suppressDeprecationWarning=!0;_n.__suppressDeprecationWarning=!0;En.__suppressDeprecationWarning=!0;function Za(e){var r=e.prototype;if(!r||!r.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof r.getSnapshotBeforeUpdate!="function")return e;var t=null,s=null,c=null;if(typeof r.componentWillMount=="function"?t="componentWillMount":typeof r.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof r.componentWillReceiveProps=="function"?s="componentWillReceiveProps":typeof r.UNSAFE_componentWillReceiveProps=="function"&&(s="UNSAFE_componentWillReceiveProps"),typeof r.componentWillUpdate=="function"?c="componentWillUpdate":typeof r.UNSAFE_componentWillUpdate=="function"&&(c="UNSAFE_componentWillUpdate"),t!==null||s!==null||c!==null){var i=e.displayName||e.name,p=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+p+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(s!==null?`
  `+s:"")+(c!==null?`
  `+c:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(r.componentWillMount=wn,r.componentWillReceiveProps=_n),typeof r.getSnapshotBeforeUpdate=="function"){if(typeof r.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");r.componentWillUpdate=En;var n=r.componentDidUpdate;r.componentDidUpdate=function(h,_,v){var y=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:v;n.call(this,h,_,y)}}return e}const Ka=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Za},Symbol.toStringTag,{value:"Module"})),Xa=Bn(Ka);Object.defineProperty($e,"__esModule",{value:!0});$e.bodyOpenClassName=$e.portalClassName=void 0;var Gr=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},$a=function(){function e(r,t){for(var s=0;s<t.length;s++){var c=t[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(r,c.key,c)}}return function(r,t,s){return t&&e(r.prototype,t),s&&e(r,s),r}}(),Cn=V,Nt=_t(Cn),Ja=On,Qt=_t(Ja),Va=ue,ae=_t(Va),eo=Ft,Yr=_t(eo),to=De,ro=io(to),Ue=Be,qr=_t(Ue),no=Xa;function io(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function _t(e){return e&&e.__esModule?e:{default:e}}function ao(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Zr(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:e}function oo(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}var so=$e.portalClassName="ReactModalPortal",lo=$e.bodyOpenClassName="ReactModal__Body--open",He=Ue.canUseDOM&&Qt.default.createPortal!==void 0,Kr=function(r){return document.createElement(r)},Xr=function(){return He?Qt.default.createPortal:Qt.default.unstable_renderSubtreeIntoContainer};function kt(e){return e()}var Et=function(e){oo(r,e);function r(){var t,s,c,i;ao(this,r);for(var p=arguments.length,n=Array(p),u=0;u<p;u++)n[u]=arguments[u];return i=(s=(c=Zr(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(n))),c),c.removePortal=function(){!He&&Qt.default.unmountComponentAtNode(c.node);var h=kt(c.props.parentSelector);h&&h.contains(c.node)?h.removeChild(c.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},c.portalRef=function(h){c.portal=h},c.renderPortal=function(h){var _=Xr(),v=_(c,Nt.default.createElement(Yr.default,Gr({defaultStyles:r.defaultStyles},h)),c.node);c.portalRef(v)},s),Zr(c,i)}return $a(r,[{key:"componentDidMount",value:function(){if(Ue.canUseDOM){He||(this.node=Kr("div")),this.node.className=this.props.portalClassName;var s=kt(this.props.parentSelector);s.appendChild(this.node),!He&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(s){var c=kt(s.parentSelector),i=kt(this.props.parentSelector);return{prevParent:c,nextParent:i}}},{key:"componentDidUpdate",value:function(s,c,i){if(Ue.canUseDOM){var p=this.props,n=p.isOpen,u=p.portalClassName;s.portalClassName!==u&&(this.node.className=u);var h=i.prevParent,_=i.nextParent;_!==h&&(h.removeChild(this.node),_.appendChild(this.node)),!(!s.isOpen&&!n)&&!He&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Ue.canUseDOM||!this.node||!this.portal)){var s=this.portal.state,c=Date.now(),i=s.isOpen&&this.props.closeTimeoutMS&&(s.closesAt||c+this.props.closeTimeoutMS);i?(s.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,i-c)):this.removePortal()}}},{key:"render",value:function(){if(!Ue.canUseDOM||!He)return null;!this.node&&He&&(this.node=Kr("div"));var s=Xr();return s(Nt.default.createElement(Yr.default,Gr({ref:this.portalRef,defaultStyles:r.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(s){ro.setElement(s)}}]),r}(Cn.Component);Et.propTypes={isOpen:ae.default.bool.isRequired,style:ae.default.shape({content:ae.default.object,overlay:ae.default.object}),portalClassName:ae.default.string,bodyOpenClassName:ae.default.string,htmlOpenClassName:ae.default.string,className:ae.default.oneOfType([ae.default.string,ae.default.shape({base:ae.default.string.isRequired,afterOpen:ae.default.string.isRequired,beforeClose:ae.default.string.isRequired})]),overlayClassName:ae.default.oneOfType([ae.default.string,ae.default.shape({base:ae.default.string.isRequired,afterOpen:ae.default.string.isRequired,beforeClose:ae.default.string.isRequired})]),appElement:ae.default.oneOfType([ae.default.instanceOf(qr.default),ae.default.instanceOf(Ue.SafeHTMLCollection),ae.default.instanceOf(Ue.SafeNodeList),ae.default.arrayOf(ae.default.instanceOf(qr.default))]),onAfterOpen:ae.default.func,onRequestClose:ae.default.func,closeTimeoutMS:ae.default.number,ariaHideApp:ae.default.bool,shouldFocusAfterRender:ae.default.bool,shouldCloseOnOverlayClick:ae.default.bool,shouldReturnFocusAfterClose:ae.default.bool,preventScroll:ae.default.bool,parentSelector:ae.default.func,aria:ae.default.object,data:ae.default.object,role:ae.default.string,contentLabel:ae.default.string,shouldCloseOnEsc:ae.default.bool,overlayRef:ae.default.func,contentRef:ae.default.func,id:ae.default.string,overlayElement:ae.default.func,contentElement:ae.default.func};Et.defaultProps={isOpen:!1,portalClassName:so,bodyOpenClassName:lo,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(r,t){return Nt.default.createElement("div",r,t)},contentElement:function(r,t){return Nt.default.createElement("div",r,t)}};Et.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,no.polyfill)(Et);$e.default=Et;(function(e,r){Object.defineProperty(r,"__esModule",{value:!0});var t=$e,s=c(t);function c(i){return i&&i.__esModule?i:{default:i}}r.default=s.default,e.exports=r.default})(ra,Pt);const xn=tn(Pt);xn.setAppElement("#root");const uo=({isOpen:e,children:r,className:t})=>{const[s,c]=V.useState(!1);return re(xn,{isOpen:e,closeTimeoutMS:250,onAfterClose:()=>{c(!0)},onAfterOpen:()=>{c(!1)},contentLabel:"Custom Modal",overlayClassName:"fixed inset-0 bg-black bg-opacity-75 z-50 select-none",className:`rounded-md shadow-md outline-none ${t}`,children:s?null:r})},co=uo;var Ye={},fo={get exports(){return Ye},set exports(e){Ye=e}};(function(e,r){(function(t,s){e.exports=s(V)})(Pe,t=>(()=>{var s={899:n=>{n.exports=t}},c={};function i(n){var u=c[n];if(u!==void 0)return u.exports;var h=c[n]={exports:{}};return s[n](h,h.exports,i),h.exports}i.n=n=>{var u=n&&n.__esModule?()=>n.default:()=>n;return i.d(u,{a:u}),u},i.d=(n,u)=>{for(var h in u)i.o(u,h)&&!i.o(n,h)&&Object.defineProperty(n,h,{enumerable:!0,get:u[h]})},i.o=(n,u)=>Object.prototype.hasOwnProperty.call(n,u),i.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var p={};return(()=>{i.r(p),i.d(p,{Component:()=>o,areCropsEqual:()=>y,centerCrop:()=>C,clamp:()=>v,containCrop:()=>d,convertToPercentCrop:()=>g,convertToPixelCrop:()=>E,default:()=>o,defaultCrop:()=>_,makeAspectCrop:()=>b,nudgeCrop:()=>A});var n=i(899),u=i.n(n);function h(m){var f,x,B="";if(typeof m=="string"||typeof m=="number")B+=m;else if(typeof m=="object")if(Array.isArray(m))for(f=0;f<m.length;f++)m[f]&&(x=h(m[f]))&&(B&&(B+=" "),B+=x);else for(f in m)m[f]&&(B&&(B+=" "),B+=f);return B}const _={x:0,y:0,width:0,height:0,unit:"px"};function v(m,f,x){return Math.min(Math.max(m,f),x)}function y(m,f){return m.width===f.width&&m.height===f.height&&m.x===f.x&&m.y===f.y&&m.unit===f.unit}function b(m,f,x,B){const I=E(m,x,B);return m.width&&(I.height=I.width/f),m.height&&(I.width=I.height*f),I.y+I.height>B&&(I.height=B-I.y,I.width=I.height*f),I.x+I.width>x&&(I.width=x-I.x,I.height=I.width/f),m.unit==="%"?g(I,x,B):I}function C(m,f,x){const B=E(m,f,x);return B.x=(f-B.width)/2,B.y=(x-B.height)/2,m.unit==="%"?g(B,f,x):B}function g(m,f,x){return m.unit==="%"?{..._,...m,unit:"%"}:{unit:"%",x:m.x?m.x/f*100:0,y:m.y?m.y/x*100:0,width:m.width?m.width/f*100:0,height:m.height?m.height/x*100:0}}function E(m,f,x){return m.unit?m.unit==="px"?{..._,...m,unit:"px"}:{unit:"px",x:m.x?m.x*f/100:0,y:m.y?m.y*x/100:0,width:m.width?m.width*f/100:0,height:m.height?m.height*x/100:0}:{..._,...m,unit:"px"}}function d(m,f,x,B,I,R=0,L=0,S=B,T=I){const l={...m};let M=Math.min(R,B),F=Math.min(L,I),k=Math.min(S,B),P=Math.min(T,I);f&&(f>1?(M=L?L*f:M,F=M/f,k=S*f):(F=R?R/f:F,M=F*f,P=T/f)),l.y<0&&(l.height=Math.max(l.height+l.y,F),l.y=0),l.x<0&&(l.width=Math.max(l.width+l.x,M),l.x=0);const z=B-(l.x+l.width);z<0&&(l.x=Math.min(l.x,B-M),l.width+=z);const j=I-(l.y+l.height);if(j<0&&(l.y=Math.min(l.y,I-F),l.height+=j),l.width<M&&(x!=="sw"&&x!="nw"||(l.x-=M-l.width),l.width=M),l.height<F&&(x!=="nw"&&x!="ne"||(l.y-=F-l.height),l.height=F),l.width>k&&(x!=="sw"&&x!="nw"||(l.x-=k-l.width),l.width=k),l.height>P&&(x!=="nw"&&x!="ne"||(l.y-=P-l.height),l.height=P),f){const Q=l.width/l.height;if(Q<f){const N=Math.max(l.width/f,F);x!=="nw"&&x!="ne"||(l.y-=N-l.height),l.height=N}else if(Q>f){const N=Math.max(l.height*f,M);x!=="sw"&&x!="nw"||(l.x-=N-l.width),l.width=N}}return l}function A(m,f,x,B){const I={...m};return f==="ArrowLeft"?B==="nw"?(I.x-=x,I.y-=x,I.width+=x,I.height+=x):B==="w"?(I.x-=x,I.width+=x):B==="sw"?(I.x-=x,I.width+=x,I.height+=x):B==="ne"?(I.y+=x,I.width-=x,I.height-=x):B==="e"?I.width-=x:B==="se"&&(I.width-=x,I.height-=x):f==="ArrowRight"&&(B==="nw"?(I.x+=x,I.y+=x,I.width-=x,I.height-=x):B==="w"?(I.x+=x,I.width-=x):B==="sw"?(I.x+=x,I.width-=x,I.height-=x):B==="ne"?(I.y-=x,I.width+=x,I.height+=x):B==="e"?I.width+=x:B==="se"&&(I.width+=x,I.height+=x)),f==="ArrowUp"?B==="nw"?(I.x-=x,I.y-=x,I.width+=x,I.height+=x):B==="n"?(I.y-=x,I.height+=x):B==="ne"?(I.y-=x,I.width+=x,I.height+=x):B==="sw"?(I.x+=x,I.width-=x,I.height-=x):B==="s"?I.height-=x:B==="se"&&(I.width-=x,I.height-=x):f==="ArrowDown"&&(B==="nw"?(I.x+=x,I.y+=x,I.width-=x,I.height-=x):B==="n"?(I.y+=x,I.height-=x):B==="ne"?(I.y+=x,I.width-=x,I.height-=x):B==="sw"?(I.x-=x,I.width+=x,I.height+=x):B==="s"?I.height+=x:B==="se"&&(I.width+=x,I.height+=x)),I}const a={capture:!0,passive:!1};class o extends n.PureComponent{constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=(0,n.createRef)(),this.mediaRef=(0,n.createRef)(),this.initChangeCalled=!1,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=f=>{const{crop:x,disabled:B}=this.props,I=this.getBox();if(!x)return;const R=E(x,I.width,I.height);if(B)return;f.cancelable&&f.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const L=f.target.dataset.ord,S=Boolean(L);let T=f.clientX,l=f.clientY,M=R.x,F=R.y;if(L){const k=f.clientX-I.x,P=f.clientY-I.y;let z=0,j=0;L==="ne"||L=="e"?(z=k-(R.x+R.width),j=P-R.y,M=R.x,F=R.y+R.height):L==="se"||L==="s"?(z=k-(R.x+R.width),j=P-(R.y+R.height),M=R.x,F=R.y):L==="sw"||L=="w"?(z=k-R.x,j=P-(R.y+R.height),M=R.x+R.width,F=R.y):L!=="nw"&&L!="n"||(z=k-R.x,j=P-R.y,M=R.x+R.width,F=R.y+R.height),T=M+I.x+z,l=F+I.y+j}this.evData={startClientX:T,startClientY:l,startCropX:M,startCropY:F,clientX:f.clientX,clientY:f.clientY,isResize:S,ord:L},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=f=>{const{crop:x,disabled:B,locked:I,keepSelection:R,onChange:L}=this.props,S=this.getBox();if(B||I||R&&x)return;f.cancelable&&f.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const T=f.clientX-S.x,l=f.clientY-S.y,M={unit:"px",x:T,y:l,width:0,height:0};this.evData={startClientX:f.clientX,startClientY:f.clientY,startCropX:T,startCropY:l,clientX:f.clientX,clientY:f.clientY,isResize:!0},this.mouseDownOnCrop=!0,L(E(M,S.width,S.height),g(M,S.width,S.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=f=>{const{crop:x,disabled:B,onChange:I,onDragStart:R}=this.props,L=this.getBox();if(B||!x||!this.mouseDownOnCrop)return;f.cancelable&&f.preventDefault(),this.dragStarted||(this.dragStarted=!0,R&&R(f));const{evData:S}=this;let T;S.clientX=f.clientX,S.clientY=f.clientY,T=S.isResize?this.resizeCrop():this.dragCrop(),y(x,T)||I(E(T,L.width,L.height),g(T,L.width,L.height))},this.onComponentKeyDown=f=>{const{crop:x,disabled:B,onChange:I,onComplete:R}=this.props,L=this.getBox();if(B)return;const S=f.key;let T=!1;if(!x)return;const l=this.makePixelCrop(),M=(navigator.platform.match("Mac")?f.metaKey:f.ctrlKey)?o.nudgeStepLarge:f.shiftKey?o.nudgeStepMedium:o.nudgeStep;if(S==="ArrowLeft"?(l.x-=M,T=!0):S==="ArrowRight"?(l.x+=M,T=!0):S==="ArrowUp"?(l.y-=M,T=!0):S==="ArrowDown"&&(l.y+=M,T=!0),T){f.cancelable&&f.preventDefault(),l.x=v(l.x,0,L.width-l.width),l.y=v(l.y,0,L.height-l.height);const F=E(l,L.width,L.height),k=g(l,L.width,L.height);I(F,k),R&&R(F,k)}},this.onHandlerKeyDown=(f,x)=>{const{aspect:B=0,crop:I,disabled:R,minWidth:L=0,minHeight:S=0,maxWidth:T,maxHeight:l,onChange:M,onComplete:F}=this.props,k=this.getBox();if(R||!I||f.key!=="ArrowUp"&&f.key!=="ArrowDown"&&f.key!=="ArrowLeft"&&f.key!=="ArrowRight")return;f.stopPropagation(),f.preventDefault();const P=(navigator.platform.match("Mac")?f.metaKey:f.ctrlKey)?o.nudgeStepLarge:f.shiftKey?o.nudgeStepMedium:o.nudgeStep,z=d(A(E(I,k.width,k.height),f.key,P,x),B,x,k.width,k.height,L,S,T,l);if(!y(I,z)){const j=g(z,k.width,k.height);M(z,j),F&&F(z,j)}},this.onDocPointerDone=f=>{const{crop:x,disabled:B,onComplete:I,onDragEnd:R}=this.props,L=this.getBox();this.unbindDocMove(),!B&&x&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,R&&R(f),I&&I(E(x,L.width,L.height),g(x,L.width,L.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=f=>{var x;(x=this.componentRef.current)===null||x===void 0||x.scrollTo(0,0)}}get document(){return document}getBox(){const f=this.mediaRef.current;if(!f)return{x:0,y:0,width:0,height:0};const{x,y:B,width:I,height:R}=f.getBoundingClientRect();return{x,y:B,width:I,height:R}}componentDidUpdate(f){const{crop:x,onComplete:B}=this.props;if(B&&!f.crop&&x){const{width:I,height:R}=this.getBox();I&&R&&B(E(x,I,R),g(x,I,R))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,a),this.document.addEventListener("pointerup",this.onDocPointerDone,a),this.document.addEventListener("pointercancel",this.onDocPointerDone,a),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,a),this.document.removeEventListener("pointerup",this.onDocPointerDone,a),this.document.removeEventListener("pointercancel",this.onDocPointerDone,a),this.docMoveBound=!1)}getCropStyle(){const{crop:f}=this.props;if(f)return{top:`${f.y}${f.unit}`,left:`${f.x}${f.unit}`,width:`${f.width}${f.unit}`,height:`${f.height}${f.unit}`}}dragCrop(){const{evData:f}=this,x=this.getBox(),B=this.makePixelCrop(),I=f.clientX-f.startClientX,R=f.clientY-f.startClientY;return B.x=v(f.startCropX+I,0,x.width-B.width),B.y=v(f.startCropY+R,0,x.height-B.height),B}getPointRegion(f){const{evData:x}=this,B=x.clientX-f.x,I=x.clientY-f.y<x.startCropY;return B<x.startCropX?I?"nw":"sw":I?"ne":"se"}resizeCrop(){const{evData:f}=this,x=this.getBox(),{aspect:B=0,minWidth:I=0,minHeight:R=0,maxWidth:L,maxHeight:S}=this.props,T=this.getPointRegion(x),l=this.makePixelCrop(),M=f.ord?f.ord:T,F=f.clientX-f.startClientX,k=f.clientY-f.startClientY,P={unit:"px",x:0,y:0,width:0,height:0};T==="ne"?(P.x=f.startCropX,P.width=F,B?(P.height=P.width/B,P.y=f.startCropY-P.height):(P.height=Math.abs(k),P.y=f.startCropY-P.height)):T==="se"?(P.x=f.startCropX,P.y=f.startCropY,P.width=F,P.height=B?P.width/B:k):T==="sw"?(P.x=f.startCropX+F,P.y=f.startCropY,P.width=Math.abs(F),P.height=B?P.width/B:k):T==="nw"&&(P.x=f.startCropX+F,P.width=Math.abs(F),B?(P.height=P.width/B,P.y=f.startCropY-P.height):(P.height=Math.abs(k),P.y=f.startCropY+k));const z=d(P,B,T,x.width,x.height,I,R,L,S);return B||o.xyOrds.indexOf(M)>-1?(l.x=z.x,l.y=z.y,l.width=z.width,l.height=z.height):o.xOrds.indexOf(M)>-1?(l.x=z.x,l.width=z.width):o.yOrds.indexOf(M)>-1&&(l.y=z.y,l.height=z.height),l}createCropSelection(){const{ariaLabels:f=o.defaultProps.ariaLabels,disabled:x,locked:B,renderSelectionAddon:I,ruleOfThirds:R,crop:L}=this.props,S=this.getCropStyle();if(L)return u().createElement("div",{style:S,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":f.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!x&&!B&&u().createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},u().createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),u().createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),u().createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),u().createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),u().createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":f.nwDragHandle,onKeyDown:T=>this.onHandlerKeyDown(T,"nw"),role:"button"}),u().createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":f.nDragHandle,onKeyDown:T=>this.onHandlerKeyDown(T,"n"),role:"button"}),u().createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":f.neDragHandle,onKeyDown:T=>this.onHandlerKeyDown(T,"ne"),role:"button"}),u().createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":f.eDragHandle,onKeyDown:T=>this.onHandlerKeyDown(T,"e"),role:"button"}),u().createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":f.seDragHandle,onKeyDown:T=>this.onHandlerKeyDown(T,"se"),role:"button"}),u().createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":f.sDragHandle,onKeyDown:T=>this.onHandlerKeyDown(T,"s"),role:"button"}),u().createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":f.swDragHandle,onKeyDown:T=>this.onHandlerKeyDown(T,"sw"),role:"button"}),u().createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":f.wDragHandle,onKeyDown:T=>this.onHandlerKeyDown(T,"w"),role:"button"})),I&&u().createElement("div",{className:"ReactCrop__selection-addon",onMouseDown:T=>T.stopPropagation()},I(this.state)),R&&u().createElement(u().Fragment,null,u().createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),u().createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(){const f={..._,...this.props.crop||{}},x=this.getBox();return E(f,x.width,x.height)}render(){const{aspect:f,children:x,circularCrop:B,className:I,crop:R,disabled:L,locked:S,style:T,ruleOfThirds:l}=this.props,{cropIsActive:M,newCropIsBeingDrawn:F}=this.state,k=R?this.createCropSelection():null,P=function(){for(var z,j,Q=0,N="";Q<arguments.length;)(z=arguments[Q++])&&(j=h(z))&&(N&&(N+=" "),N+=j);return N}("ReactCrop",I,{"ReactCrop--active":M,"ReactCrop--disabled":L,"ReactCrop--locked":S,"ReactCrop--new-crop":F,"ReactCrop--fixed-aspect":R&&f,"ReactCrop--circular-crop":R&&B,"ReactCrop--rule-of-thirds":R&&l,"ReactCrop--invisible-crop":!this.dragStarted&&R&&!R.width&&!R.height});return u().createElement("div",{ref:this.componentRef,className:P,style:T},u().createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},x),k)}}o.xOrds=["e","w"],o.yOrds=["n","s"],o.xyOrds=["nw","ne","se","sw"],o.nudgeStep=1,o.nudgeStepMedium=10,o.nudgeStepLarge=100,o.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}}})(),p})())})(fo);const ho=tn(Ye);const po=e=>V.createElement("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:20,height:20,...e},V.createElement("path",{d:"M365.714286 438.857143l292.571429 0 0-109.714286q0-60.562286-42.861714-103.424t-103.424-42.861714-103.424 42.861714-42.861714 103.424l0 109.714286zM841.142857 493.714286l0 329.142857q0 22.820571-16.018286 38.838857t-38.838857 16.018286l-548.571429 0q-22.820571 0-38.838857-16.018286t-16.018286-38.838857l0-329.142857q0-22.820571 16.018286-38.838857t38.838857-16.018286l18.285714 0 0-109.714286q0-105.179429 75.410286-180.589714t180.589714-75.410286 180.589714 75.410286 75.410286 180.589714l0 109.714286 18.285714 0q22.820571 0 38.838857 16.018286t16.018286 38.838857z"})),mo=e=>V.createElement("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:20,height:20,...e},V.createElement("path",{d:"M512 554.666667a42.666667 42.666667 0 0 0-42.666667 42.666666v128a42.666667 42.666667 0 0 0 85.333334 0v-128a42.666667 42.666667 0 0 0-42.666667-42.666666z m213.333333-170.666667H384V298.666667a128 128 0 0 1 218.453333-90.88 131.413333 131.413333 0 0 1 33.28 58.88 42.666667 42.666667 0 1 0 82.773334-21.333334 217.173333 217.173333 0 0 0-55.893334-97.706666A213.333333 213.333333 0 0 0 298.666667 298.666667v85.333333a128 128 0 0 0-128 128v298.666667a128 128 0 0 0 128 128h426.666666a128 128 0 0 0 128-128v-298.666667a128 128 0 0 0-128-128z m42.666667 426.666667a42.666667 42.666667 0 0 1-42.666667 42.666666H298.666667a42.666667 42.666667 0 0 1-42.666667-42.666666v-298.666667a42.666667 42.666667 0 0 1 42.666667-42.666667h426.666666a42.666667 42.666667 0 0 1 42.666667 42.666667z"})),go=e=>V.createElement("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:20,height:20,...e},V.createElement("path",{d:"M795.5 192H581c-19.6 0-35.6 15.7-36 35.3-0.4 20.3 16.4 36.7 36.7 36.7h128.4L581 393.1c-14 14-14 36.9 0 50.9s36.9 14 50.9 0L760 315.9v129c0 19.6 15.8 35.6 35.3 36 20.2 0.4 36.7-16.4 36.7-36.7V228.5c0-20.1-16.3-36.5-36.5-36.5zM442.2 760H313.8L443 630.9c14-14 14-36.9 0-50.9s-36.9-14-50.9 0L264 708.1V579c0-19.6-15.8-35.6-35.3-36-20.2-0.4-36.7 16.4-36.7 36.7v215.6c0 20.3 16.4 36.7 36.7 36.7H443c19.6 0 35.6-15.7 36-35.3 0.3-20.3-16.5-36.7-36.8-36.7z"}),V.createElement("path",{d:"M838 136c27.6 0 50 22.4 50 50v652c0 27.6-22.4 50-50 50H186c-27.6 0-50-22.4-50-50V186c0-27.6 22.4-50 50-50h652m0-72H186c-16.4 0-32.4 3.2-47.5 9.6-14.5 6.1-27.6 14.9-38.8 26.1-11.2 11.2-20 24.2-26.1 38.8-6.4 15.1-9.6 31.1-9.6 47.5v652c0 16.4 3.2 32.4 9.6 47.5 6.1 14.5 14.9 27.6 26.1 38.8 11.2 11.2 24.2 20 38.8 26.1 15.1 6.4 31.1 9.6 47.5 9.6h652c16.4 0 32.4-3.2 47.5-9.6 14.5-6.1 27.6-14.9 38.8-26.1 11.2-11.2 20-24.2 26.1-38.8 6.4-15.1 9.6-31.1 9.6-47.5V186c0-16.4-3.2-32.4-9.6-47.5-6.1-14.5-14.9-27.6-26.1-38.8-11.2-11.2-24.2-20-38.8-26.1-15.1-6.4-31.1-9.6-47.5-9.6z"})),vo=e=>V.createElement("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:20,height:20,...e},V.createElement("path",{d:"M544 247.466667c-23.466667 0-42.666667 19.2-42.666667 42.666666v196.266667l-115.2 115.2c-17.066667 17.066667-17.066667 42.666667 0 59.733333 8.533333 8.533333 19.2 12.8 29.866667 12.8s21.333333-4.266667 29.866667-12.8l128-128c10.666667-8.533333 12.8-23.466667 12.8-34.133333v-209.066667c0-25.6-19.2-42.666667-42.666667-42.666666z"}),V.createElement("path",{d:"M480 74.666667c-113.066667 0-217.6 42.666667-298.666667 121.6V117.333333c0-23.466667-19.2-42.666667-42.666666-42.666666s-42.666667 19.2-42.666667 42.666666v164.266667c0 32 25.6 57.6 57.6 57.6h164.266667c23.466667 0 42.666667-19.2 42.666666-42.666667s-19.2-42.666667-42.666666-42.666666h-72.533334c64-59.733333 147.2-93.866667 234.666667-93.866667 187.733333 0 341.333333 153.6 341.333333 341.333333s-153.6 341.333333-341.333333 341.333334c-91.733333 0-177.066667-36.266667-241.066667-100.266667-25.6-25.6-46.933333-53.333333-61.866666-85.333333-10.666667-21.333333-36.266667-29.866667-57.6-19.2-21.333333 10.666667-29.866667 36.266667-19.2 57.6 19.2 38.4 46.933333 74.666667 76.8 106.666666 81.066667 81.066667 187.733333 125.866667 300.8 125.866667 234.666667 0 426.666667-192 426.666666-426.666667s-187.733333-426.666667-424.533333-426.666666z"})),$r=(e,r)=>{if(e===r)return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;const t=Object.keys(e),s=Object.keys(r);if(t.length!==s.length)return!1;for(let c=0;c<t.length;c++){const i=t[c];if(e[i]!==r[i])return!1}return!0},Ao=e=>V.createElement("svg",{width:404,height:56,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 404 56","aria-hidden":"true",focusable:"false",...e},V.createElement("path",{d:"M202 24 l2 3 l-2 -1 l-2 1 z"}),V.createElement("rect",{rx:4,ry:4,y:24,height:8}),V.createElement("path",{fillRule:"evenodd",d:"M 0 28 a 2 2 0 1 0 0 -1 M 11.25 28 a 0.75 0.75 0 1 0 0 -1 M 21.25 28 a 0.75 0.75 0 1 0 0 -1 M 31.25 28 a 0.75 0.75 0 1 0 0 -1 M 41.25 28 a 0.75 0.75 0 1 0 0 -1 M 50 28 a 2 2 0 1 0 0 -1 M 61.25 28 a 0.75 0.75 0 1 0 0 -1 M 71.25 28 a 0.75 0.75 0 1 0 0 -1 M 81.25 28 a 0.75 0.75 0 1 0 0 -1 M 91.25 28 a 0.75 0.75 0 1 0 0 -1 M 100 28 a 2 2 0 1 0 0 -1 M 111.25 28 a 0.75 0.75 0 1 0 0 -1 M 121.25 28 a 0.75 0.75 0 1 0 0 -1 M 131.25 28 a 0.75 0.75 0 1 0 0 -1 M 141.25 28 a 0.75 0.75 0 1 0 0 -1 M 150 28 a 2 2 0 1 0 0 -1 M 161.25 28 a 0.75 0.75 0 1 0 0 -1 M 171.25 28 a 0.75 0.75 0 1 0 0 -1 M 181.25 28 a 0.75 0.75 0 1 0 0 -1 M 191.25 28 a 0.75 0.75 0 1 0 0 -1 M 200 28 a 2 2 0 1 0 0 -1 M 211.25 28 a 0.75 0.75 0 1 0 0 -1 M 221.25 28 a 0.75 0.75 0 1 0 0 -1 M 231.25 28 a 0.75 0.75 0 1 0 0 -1 M 241.25 28 a 0.75 0.75 0 1 0 0 -1 M 250 28 a 2 2 0 1 0 0 -1 M 261.25 28 a 0.75 0.75 0 1 0 0 -1 M 271.25 28 a 0.75 0.75 0 1 0 0 -1 M 281.25 28 a 0.75 0.75 0 1 0 0 -1 M 291.25 28 a 0.75 0.75 0 1 0 0 -1 M 300 28 a 2 2 0 1 0 0 -1 M 311.25 28 a 0.75 0.75 0 1 0 0 -1 M 321.25 28 a 0.75 0.75 0 1 0 0 -1 M 331.25 28 a 0.75 0.75 0 1 0 0 -1 M 341.25 28 a 0.75 0.75 0 1 0 0 -1 M 350 28 a 2 2 0 1 0 0 -1 M 361.25 28 a 0.75 0.75 0 1 0 0 -1 M 371.25 28 a 0.75 0.75 0 1 0 0 -1 M 381.25 28 a 0.75 0.75 0 1 0 0 -1 M 391.25 28 a 0.75 0.75 0 1 0 0 -1 M 400 28 a 2 2 0 1 0 0 -1"})),yo=({defaultScale:e,defaultRotate:r,onChange:t,forceValue:s})=>{const c=o=>(o.defaultValue-o.min)/(o.max-o.min),i=V.useRef({xPos:0,yPos:0}),p=V.useRef(null),n=V.useRef(null),[u,h]=V.useState(!1),[_,v]=V.useState("scale"),[y,b]=V.useState({scale:c(e),rotate:c(r)}),C=[{key:"scale",name:"缩放"},{key:"rotate",name:"旋转"}],g=o=>{o.preventDefault(),i.current={xPos:o.clientX,yPos:o.clientY},h(!0)},E=V.useCallback(()=>{h(!1)},[]),d=V.useCallback(o=>{if(u&&p.current&&i.current){const{width:m}=p.current.getBoundingClientRect(),{xPos:f}=i.current,{clientX:x,clientY:B}=o,I=f-x,R=y[_],L=Math.max(0,Math.min(1,R+I/m));b(gt(S=>{S[_]=L})),i.current={xPos:x,yPos:B}}},[_,u,y]);V.useEffect(()=>(u?(document.addEventListener("mouseup",E),document.addEventListener("mousemove",d)):(document.removeEventListener("mouseup",E),document.removeEventListener("mousemove",d)),()=>{document.removeEventListener("mouseup",E),document.removeEventListener("mousemove",d)}),[u,d,E]);const A=o=>{v(o)},a=V.useMemo(()=>{const o=Math.round(y.scale*(e.max-e.min)+e.min),m=Math.round(y.rotate*(r.max-r.min)+r.min);return{scale:o,rotate:m}},[r.max,r.min,e.max,e.min,y]);return V.useEffect(()=>{var m,f;if(a.rotate===((m=n.current)==null?void 0:m.rotate)&&a.scale===((f=n.current)==null?void 0:f.scale))return;n.current=a;const o=1+a.scale/100;t==null||t({scale:Math.round(o*100)/100,rotate:a.rotate})},[a]),V.useEffect(()=>{b(gt(o=>{(s==null?void 0:s.scale)!==void 0&&(o.scale=c({...e,defaultValue:s.scale})),(s==null?void 0:s.rotate)!==void 0&&(o.rotate=c({...r,defaultValue:s.rotate}))}))},[s,e,r]),re(Kt,{children:me("div",{className:"relative w-full flex flex-col justify-center items-center",onMouseDown:g,children:[me("div",{className:"relative overflow-hidden px-1",children:[re("div",{className:"z-10 absolute w-9 left-0 top-0 bottom-0 bg-gradient-to-l from-transparent to-white"}),re("div",{className:"z-10 absolute w-9 right-0 top-0 bottom-0 bg-gradient-to-r from-transparent to-white"}),re("div",{className:"z-10 absolute inset-x-1/2 h-1/4 top-[2%] w-[1px] bg-gray-400"}),me("div",{className:"z-10 absolute px-10 text-sm left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-gradient-to-r from-transparent via-white to-transparent",children:[a[_],(_==="scale"?e:r).suffix]}),re("div",{style:{transform:`translateX(${-y[_]*100}%)`},className:"transition-all duration-75 h-[56px] w-[404px]",children:re("div",{className:"absolute left-1/2",ref:p,children:re(Ao,{})})})]}),re("div",{children:C.map((o,m)=>re("button",{onClick:()=>A(o.key),className:`${_==o.key?"bg-gray-200 ":"hover:border-gray-300"} py-1 px-4 border border-transparent text-gray-700 text-sm rounded-full mr-4`,children:o.name},m))})]})})},bo=V.memo(yo,(e,r)=>$r(e.defaultRotate,r.defaultRotate)&&$r(e.defaultScale,r.defaultScale)&&e.onChange===r.onChange&&e.forceValue===r.forceValue),wo=Math.PI/180;async function _o(e,r,t,s=1,c=0){const i=await on(e),p=i.naturalWidth/r.width,n=i.naturalHeight/r.height,u=window.devicePixelRatio,h=Math.floor(t.width*p*u),_=Math.floor(t.height*n*u),v=new OffscreenCanvas(h,_),y=v.getContext("2d");if(!y)throw new Error("No 2d context");y.scale(u,u),y.imageSmoothingQuality="high";const b=t.x*p,C=t.y*n,g=c*wo,E=i.naturalWidth/2,d=i.naturalHeight/2;return y.translate(-b,-C),y.translate(E,d),y.rotate(g),y.scale(s,s),y.translate(-E,-d),y.drawImage(i,0,0,i.naturalWidth,i.naturalHeight,0,0,i.naturalWidth,i.naturalHeight),v}const Eo={min:0,max:100,defaultValue:0,suffix:"%"},Co={min:-180,max:180,defaultValue:0,suffix:"°"},xo=({imageFile:e,onClose:r,onChange:t})=>{const[s,c]=V.useState(),[i,p]=V.useState(),[n,u]=V.useState(void 0),[h,_]=V.useState(1),[v,y]=V.useState(0),[b,C]=V.useState({scale:0,rotate:0}),g=en.useRef(null),E=R=>{c(R)},d=R=>{p(R)},A=V.useCallback(R=>{_(R.scale),y(R.rotate)},[]),a=async()=>{if(!e||!g.current||!i)return;const{width:R,height:L}=g.current;if(!i||i.width===0||i.height===0||i.width===R&&i.height===L&&h===1&&v===0){o();return}const T=await(await _o(e.file,g.current,i,h,v)).convertToBlob({type:e.file.type||"image/png",quality:1}),l=new File([T],e.file.name??"image.png",{type:T.type});t==null||t(l,e.md5),r==null||r()},o=()=>{r==null||r()},m=()=>{if(!i){console.log("无绘图区域");return}if(n)u(void 0);else if(g.current&&s){const{width:R,height:L}=g.current,S=R/L;u(S),c(Ye.centerCrop(Ye.makeAspectCrop({unit:"px",height:i.height},S,R,L),R,L))}},f=(R,L,S)=>Ye.centerCrop(Ye.makeAspectCrop({unit:"%",width:90},S,R,L),R,L),x=R=>{const{width:L,height:S}=R.currentTarget,T=L/S;c(f(L,S,T)),u(T)};return me("div",{className:"h-full p-4 flex flex-col",children:[me("div",{className:"flex items-center justify-between mb-3",children:[me("div",{className:"flex items-center",children:[re("span",{className:"text-lg font-bold",children:"裁剪图片"}),re("div",{className:"ml-2",children:n?re(po,{onClick:m,fill:"#444444"}):re(mo,{onClick:m,fill:"#444444"})})]}),me("div",{className:"flex",children:[re("div",{className:"mr-3",children:re(go,{onClick:()=>{if(!g.current)return;const{width:R,height:L}=g.current,S={unit:"px",x:0,y:0,width:R,height:L};c(S),p(S)},fill:"#444444"})}),re(vo,{onClick:()=>{if(C({scale:0,rotate:0}),s&&g.current){const{width:R,height:L}=g.current,S=R/L;c(f(R,L,S))}},fill:"#444444"})]}),me("div",{children:[re("button",{className:"text-black text-sm hover:bg-gray-200 border border-gray-300 cursor-pointer px-3 py-1 rounded-full mr-3",onClick:o,children:"取消"}),re("button",{className:"text-white text-sm hover:bg-blue-600 cursor-pointer px-3 py-1 bg-blue-500 rounded-full",onClick:a,children:"完成"})]})]}),re("div",{className:"flex-1 bg-gray-200 relative",children:re("div",{className:"absolute w-full h-full overflow-auto flex",children:re(ho,{ruleOfThirds:!0,crop:s,className:"align-bottom m-auto",onChange:E,onComplete:d,minHeight:10,minWidth:10,aspect:n,children:re("img",{ref:g,src:e==null?void 0:e.src,onLoad:x,className:"transition-all duration-75 pointer-events-none",style:{transform:`scale(${h}) rotate(${v}deg)`,backgroundImage:`linear-gradient(45deg, black 25%, transparent 25%, transparent 75%, black 75%),
              linear-gradient(45deg, black 25%, transparent 25%, transparent 75%, black 75%)`,backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"}})})})}),re("div",{className:"my-4",children:re(bo,{defaultScale:Eo,defaultRotate:Co,onChange:A,forceValue:b})})]})},Io=({imageFile:e,isOpen:r,onClose:t,onChange:s})=>re(co,{isOpen:r,className:"bg-white h-[75%] w-3/4 lg:w-2/3 2xl:w-2/5 absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 ",children:re(xo,{imageFile:e,onClose:t,onChange:s})}),ko=e=>V.createElement("svg",{stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...e},V.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})),So=e=>V.createElement("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,...e},V.createElement("path",{d:"M512 512m-460.8 0a460.8 460.8 0 1 0 921.6 0 460.8 460.8 0 1 0-921.6 0Z",fill:"#E73A30"}),V.createElement("path",{d:"M584.3968 512l108.6464 108.5952a51.2 51.2 0 0 1-72.448 72.448L512 584.3968l-108.5952 108.6464a51.2 51.2 0 1 1-72.448-72.448L439.6032 512 330.9568 403.4048A51.2 51.2 0 0 1 403.456 330.9568L512 439.6032l108.5952-108.6464a51.2 51.2 0 0 1 72.448 72.448L584.3968 512z",fill:"#FFFFFF"})),Bo=({file:e,onClick:r})=>{const t=c=>{c.preventDefault()},s=c=>{t(c),r==null||r()};return re("a",{href:e.thumbnail.src,download:`thumbnail-${e.thumbnail.file.name}`,className:"inline-block h-full",onClick:t,children:re("img",{src:e.thumbnail.src,onClick:s,className:"object-scale-down inline-block cursor-pointer bg-gray-100 rounded w-32 h-32"})})},Oo=({list:e,disabled:r,className:t,onAdd:s,onRemove:c,onUploadStateChange:i})=>{const[p,n]=V.useState(e||[]),[u,h]=V.useState(!1),[_,v]=V.useState(null);V.useEffect(()=>{e!==void 0&&n(e)},[e]);const y=(a,o)=>{const m=ta(3),f=new Set(p.map(B=>B.md5));return a.map(async(B,I)=>{const R=await m(()=>$n(B,o[I]));return f.has(R.md5)?null:(f.add(R.md5),R)})},b=async a=>{r||(i==null||i(!0),await C(a),i==null||i(!1))},C=async(a,o=[],m=p.length)=>{if(r)return;const f=y(a,o);for(let x=0;x<f.length;x+=3){const I=(await Promise.all(f.slice(x,x+3))).filter(R=>R!==null);I.length>0&&(e===void 0?(console.log("[[非受控组件]]: Add File"),n(gt(R=>{R.splice(m+x,0,...I)}))):s==null||s(I,m+x))}},g=a=>{if(!r){if(e===void 0){const o=p.findIndex(m=>m.md5===a);if(o!==-1){const m=p[o];URL.revokeObjectURL(m.src),URL.revokeObjectURL(m.thumbnail.src),console.log("[[非受控组件]]: Remove File"),n(gt(f=>{f.splice(o,1)}))}}c==null||c(a)}},E=async(a,o)=>{const m=await an(a);if(m===o)return;const f=p.findIndex(x=>x.md5===o);g(o),C([a],[m],f)},d=a=>{r||(h(!0),v(a))},A=()=>{h(!1),v(null)};return me(V.Fragment,{children:[me("div",{className:`flex flex-wrap ${t??""}`,children:[re(Xi,{onDrop:b,disabled:r,children:({getRootProps:a,getInputProps:o})=>re("div",{className:"sticky top-0 p-2 box-border w-1/3 lg:w-1/4 xl:w-1/5 2xl:w-[12.5%]",children:me("div",{className:"h-32 p-2 border-2 border-dashed border-gray-400 rounded cursor-pointer select-none flex justify-center items-center",...a(),children:[re("input",{...o()}),re(ko,{className:"h-10 w-10 text-gray-600"})]})})}),p.map(a=>me("div",{className:"p-2 box-border relative w-1/3 lg:w-1/4 xl:w-1/5 2xl:w-[12.5%]",children:[re(Bo,{file:a,onClick:()=>d(a)}),re("button",{className:"text-black absolute top-0 right-0",onClick:()=>g(a.md5),children:re(So,{})})]},a.md5))]}),re(Io,{imageFile:_,isOpen:u,onClose:A,onChange:E})]})},qo=Oo,Do={blue:"from-blue-400 to-blue-500",red:"from-red-400 to-red-500"},Ro=({current:e,total:r,type:t="percentage",color:s="blue",className:c})=>{const i=V.useMemo(()=>Dn(e/r),[e,r]),p=V.useMemo(()=>t==="fraction"?`${e}/${r}`:`${i}%`,[e,i,r,t]);return me("div",{className:`relative h-4 rounded-full bg-white w-full ${c??""}`,children:[re("div",{className:`absolute h-full rounded-full transition-all bg-gradient-to-r ${Do[s]}`,style:{width:`${i}%`}}),re("div",{className:"absolute top-0 bottom-0 right-2 flex items-center text-gray-700 text-sm font-semibold select-none",children:p})]})},Zo=Ro;function Ko({columns:e,data:r}){return me("table",{className:"w-full divide-y divide-gray-200 text-center",children:[re("thead",{className:"bg-gray-50 whitespace-nowrap sticky top-0",children:re("tr",{children:e.map(t=>re("th",{scope:"col",className:"px-6 py-3 text-sm text-gray-600 font-semibold uppercase tracking-wider",children:t.title},t.key))})}),re("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(t=>re("tr",{children:e.map(s=>re("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:t[s.key]??"-"},s.key))},t.id))})]})}var tt={},Mo={get exports(){return tt},set exports(e){tt=e}};(function(e,r){(function(t,s){s()})(Pe,function(){function t(h,_){return typeof _>"u"?_={autoBom:!1}:typeof _!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),_={autoBom:!_}),_.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function s(h,_,v){var y=new XMLHttpRequest;y.open("GET",h),y.responseType="blob",y.onload=function(){u(y.response,_,v)},y.onerror=function(){console.error("could not download file")},y.send()}function c(h){var _=new XMLHttpRequest;_.open("HEAD",h,!1);try{_.send()}catch{}return 200<=_.status&&299>=_.status}function i(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var _=document.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(_)}}var p=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Pe=="object"&&Pe.global===Pe?Pe:void 0,n=p.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=p.saveAs||(typeof window!="object"||window!==p?function(){}:"download"in HTMLAnchorElement.prototype&&!n?function(h,_,v){var y=p.URL||p.webkitURL,b=document.createElement("a");_=_||h.name||"download",b.download=_,b.rel="noopener",typeof h=="string"?(b.href=h,b.origin===location.origin?i(b):c(b.href)?s(h,_,v):i(b,b.target="_blank")):(b.href=y.createObjectURL(h),setTimeout(function(){y.revokeObjectURL(b.href)},4e4),setTimeout(function(){i(b)},0))}:"msSaveOrOpenBlob"in navigator?function(h,_,v){if(_=_||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(t(h,v),_);else if(c(h))s(h,_,v);else{var y=document.createElement("a");y.href=h,y.target="_blank",setTimeout(function(){i(y)})}}:function(h,_,v,y){if(y=y||open("","_blank"),y&&(y.document.title=y.document.body.innerText="downloading..."),typeof h=="string")return s(h,_,v);var b=h.type==="application/octet-stream",C=/constructor/i.test(p.HTMLElement)||p.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||b&&C||n)&&typeof FileReader<"u"){var E=new FileReader;E.onloadend=function(){var a=E.result;a=g?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),y?y.location.href=a:location=a,y=null},E.readAsDataURL(h)}else{var d=p.URL||p.webkitURL,A=d.createObjectURL(h);y?y.location=A:location.href=A,y=null,setTimeout(function(){d.revokeObjectURL(A)},4e4)}});p.saveAs=u.saveAs=u,e.exports=u})})(Mo);const Xo=tt;class Po{constructor(){ye(this,"plugins",[]);ye(this,"loadedModules",{})}async loadPlugin(r){if(this.loadedModules[r.name])throw new Error(`Plugin ${r.name} has already been loaded`);const t=r.path,s=await Ve(()=>import(t),[]),c=this.plugins.findIndex(i=>i.name.localeCompare(r.name)>0);return c===-1?this.plugins.push(r):this.plugins.splice(c,0,r),this.loadedModules[r.name]=s,!0}unloadPlugin(r){this.plugins=this.plugins.filter(t=>t.name!==r),delete this.loadedModules[r]}getPlugins(){return this.plugins}forEachPlugin(r){this.plugins.forEach(r)}getPluginInstance(r){const t=this.loadedModules[r];if(!t)throw new Error(`Plugin ${r} has not been loaded`);const s=t;if(!s)throw new Error(`Invalid plugin ${r}`);return s}}const Jr=e=>{const r=e.toString();return new TextEncoder().encode(r).buffer};function Fo(){return new Worker("/assets/worker-73818512.js")}class To{constructor(r,t,s){ye(this,"maxWorkers");ye(this,"Script");ye(this,"exeFunc");ye(this,"workers",[]);ye(this,"taskQueue",[]);ye(this,"availableWorker",0);ye(this,"promiseRes",null);ye(this,"autoDestroy",!0);ye(this,"status",new Promise(r=>this.promiseRes=r));this.maxWorkers=r,this.Script=s||Fo,this.exeFunc=Jr(t)}run(...r){return new Promise((t,s)=>{const c={args:r,resolve:t,reject:s};this.taskQueue.push(c),Promise.resolve(0).then(()=>this.tryStartTask())})}setExeFunc(r){this.exeFunc=Jr(r),this.workers.forEach(t=>{t.postMessage({func:this.exeFunc})})}destroy(){console.log("销毁所有worker服务"),this.workers.forEach(r=>{r.terminate()}),this.workers=[],this.taskQueue=[],this.availableWorker=0}tryStartTask(){var s;let r=null;if(!this.taskQueue.length){this.availableWorker>=this.maxWorkers&&(console.log("任务完成"),(s=this.promiseRes)==null||s.call(this,"done"),this.autoDestroy&&this.destroy());return}if(this.workers.length<this.maxWorkers)console.log("new Worker"),r=new this.Script,this.workers.push(r),r.postMessage({func:this.exeFunc});else if(this.availableWorker>0)this.availableWorker--,r=this.workers.find(({onmessage:c})=>!c);else return;const t=this.taskQueue.shift();t&&(r.onmessage=c=>{r.onmessage=null,t.resolve(c.data),this.availableWorker++,this.tryStartTask()},r.onerror=c=>{t.reject(c)},r.postMessage({args:t.args}))}}function zo(){return new Worker("/assets/worker-8ef6c597.js")}class $o{constructor(){ye(this,"pluginService",new Po)}async initService(r){const t=Object.assign(r==="encryption"?{"/src/plugins/encryption/Arnold/index.json":()=>Ve(()=>import("./index-a192e494.js"),[]),"/src/plugins/encryption/DNA/index.json":()=>Ve(()=>import("./index-3afc739b.js"),[]),"/src/plugins/encryption/Logistic/index.json":()=>Ve(()=>import("./index-e165c810.js"),[]),"/src/plugins/encryption/Tent/index.json":()=>Ve(()=>import("./index-37edbb6a.js"),[])}:{"/src/plugins/steganography/lsb/index.json":()=>Ve(()=>import("./index-b8d28dec.js"),[])}),s=new Set(Object.keys(t).map(i=>i.replace(/\.[^/.]+$/,""))),c=Array.from(s,i=>new Promise((p,n)=>{console.log("key",i),(async()=>{const h=await t[`${i}.json`]();return this.loadPlugin({...h.default,path:i})})().then(p).catch(n)}));return await Promise.all(c),!0}loadPlugin(r){if(!this.pluginService)throw new Error("插件服务未初始化");return this.pluginService.loadPlugin(r)}getPlugins(){return this.pluginService?this.pluginService.getPlugins():(console.error("插件服务未初始化"),[])}getInstance(r){if(!this.pluginService)throw new Error("插件服务未初始化");if(!r)throw new Error("未选择插件");const{encrypt:t,decrypt:s}=this.pluginService.getPluginInstance(r);if(!t)throw new Error("插件未实现加密方法");if(!s)throw new Error("插件未实现解密方法");return{encrypt:t,decrypt:s}}processing(r,t,s,c){c==null||c({done:!1,message:"正在获取算法实例...",error:null});const{pluginName:i,optionName:p,key:n}=t,u=this.getInstance(i)[p];if(r.length===0)return[];c==null||c({done:!1,message:"正在初始化多线程服务...",error:null});const h=Rn(r.length),_=new To(h,u,zo),v=r.map(async y=>{c==null||c({done:!1,message:"正在执行图像处理...",error:null});let b={};if(s==="encryption"){const E=t;b={format:E.format||y.file.type,quality:E.quality||1}}else{const E=t;b={message:E.message,repeat:E.repeat}}const C=await _.run(y,n,b);if(!C)return null;const g=Jn(C.data);return[y,g,C.payload]});return Promise.all(v).then(y=>{y.some(C=>!C)?c==null||c({done:!0,message:"部分图像处理失败",error:new Error("部分图像处理失败")}):c==null||c({done:!0,message:"图像处理完成",error:null})}),v}}const Jo=e=>V.createElement("svg",{t:1679388482469,className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":4722,width:200,height:200,...e},V.createElement("path",{d:"M920.7 639.4c-22.1 0-40 17.9-40 40v167H143.3v-167c0-22.1-17.9-40-40-40s-40 17.9-40 40v197c0 27.6 22.4 50 50 50h797.3c27.6 0 50-22.4 50-50v-197c0.1-22.1-17.8-40-39.9-40z","p-id":4723}),V.createElement("path",{d:"M482.9 733.8l0.2 0.2 0.8 0.8 0.6 0.6c0.3 0.2 0.5 0.5 0.8 0.7s0.5 0.4 0.8 0.7c0.2 0.2 0.4 0.3 0.6 0.5 0.3 0.2 0.6 0.5 0.9 0.7 0.1 0.1 0.3 0.2 0.4 0.3 1.8 1.4 3.8 2.5 5.8 3.5 0.2 0.1 0.3 0.2 0.5 0.2 0.3 0.1 0.6 0.3 0.9 0.4 0.3 0.1 0.6 0.3 0.9 0.4 0.2 0.1 0.5 0.2 0.7 0.3 0.4 0.2 0.8 0.3 1.2 0.5 0.2 0.1 0.3 0.1 0.5 0.2 0.5 0.2 0.9 0.3 1.4 0.5 0.1 0 0.2 0.1 0.4 0.1 0.5 0.2 1 0.3 1.6 0.4 0.1 0 0.2 0 0.3 0.1 0.5 0.1 1.1 0.3 1.7 0.4h0.3c0.6 0.1 1.1 0.2 1.7 0.3h0.4c0.5 0.1 1 0.1 1.6 0.2 0.2 0 0.5 0 0.7 0.1 0.4 0 0.8 0.1 1.3 0.1h4c10.5 0 21-4.1 28.8-12.2l255.4-265.1c15.3-15.9 14.9-41.2-1.1-56.6-15.9-15.3-41.2-14.9-56.6 1.1L551.7 608.9V137.5c0-22.1-17.9-40-40-40s-40 17.9-40 40v469.4L285.1 413.2c-15.3-15.9-40.6-16.4-56.6-1.1-15.9 15.3-16.4 40.7-1.1 56.6l255.5 265.1z","p-id":4724}));var cr={},No={get exports(){return cr},set exports(e){cr=e}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,r){(function(t){e.exports=t()})(function(){return function t(s,c,i){function p(h,_){if(!c[h]){if(!s[h]){var v=typeof Le=="function"&&Le;if(!_&&v)return v(h,!0);if(n)return n(h,!0);var y=new Error("Cannot find module '"+h+"'");throw y.code="MODULE_NOT_FOUND",y}var b=c[h]={exports:{}};s[h][0].call(b.exports,function(C){var g=s[h][1][C];return p(g||C)},b,b.exports,t,s,c,i)}return c[h].exports}for(var n=typeof Le=="function"&&Le,u=0;u<i.length;u++)p(i[u]);return p}({1:[function(t,s,c){var i=t("./utils"),p=t("./support"),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(u){for(var h,_,v,y,b,C,g,E=[],d=0,A=u.length,a=A,o=i.getTypeOf(u)!=="string";d<u.length;)a=A-d,v=o?(h=u[d++],_=d<A?u[d++]:0,d<A?u[d++]:0):(h=u.charCodeAt(d++),_=d<A?u.charCodeAt(d++):0,d<A?u.charCodeAt(d++):0),y=h>>2,b=(3&h)<<4|_>>4,C=1<a?(15&_)<<2|v>>6:64,g=2<a?63&v:64,E.push(n.charAt(y)+n.charAt(b)+n.charAt(C)+n.charAt(g));return E.join("")},c.decode=function(u){var h,_,v,y,b,C,g=0,E=0,d="data:";if(u.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var A,a=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===n.charAt(64)&&a--,u.charAt(u.length-2)===n.charAt(64)&&a--,a%1!=0)throw new Error("Invalid base64 input, bad content length.");for(A=p.uint8array?new Uint8Array(0|a):new Array(0|a);g<u.length;)h=n.indexOf(u.charAt(g++))<<2|(y=n.indexOf(u.charAt(g++)))>>4,_=(15&y)<<4|(b=n.indexOf(u.charAt(g++)))>>2,v=(3&b)<<6|(C=n.indexOf(u.charAt(g++))),A[E++]=h,b!==64&&(A[E++]=_),C!==64&&(A[E++]=v);return A}},{"./support":30,"./utils":32}],2:[function(t,s,c){var i=t("./external"),p=t("./stream/DataWorker"),n=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function h(_,v,y,b,C){this.compressedSize=_,this.uncompressedSize=v,this.crc32=y,this.compression=b,this.compressedContent=C}h.prototype={getContentWorker:function(){var _=new p(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),v=this;return _.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_},getCompressedWorker:function(){return new p(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(_,v,y){return _.pipe(new n).pipe(new u("uncompressedSize")).pipe(v.compressWorker(y)).pipe(new u("compressedSize")).withStreamInfo("compression",v)},s.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,s,c){var i=t("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},c.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,s,c){var i=t("./utils"),p=function(){for(var n,u=[],h=0;h<256;h++){n=h;for(var _=0;_<8;_++)n=1&n?3988292384^n>>>1:n>>>1;u[h]=n}return u}();s.exports=function(n,u){return n!==void 0&&n.length?i.getTypeOf(n)!=="string"?function(h,_,v,y){var b=p,C=y+v;h^=-1;for(var g=y;g<C;g++)h=h>>>8^b[255&(h^_[g])];return-1^h}(0|u,n,n.length,0):function(h,_,v,y){var b=p,C=y+v;h^=-1;for(var g=y;g<C;g++)h=h>>>8^b[255&(h^_.charCodeAt(g))];return-1^h}(0|u,n,n.length,0):0}},{"./utils":32}],5:[function(t,s,c){c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(t,s,c){var i=null;i=typeof Promise<"u"?Promise:t("lie"),s.exports={Promise:i}},{lie:37}],7:[function(t,s,c){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",p=t("pako"),n=t("./utils"),u=t("./stream/GenericWorker"),h=i?"uint8array":"array";function _(v,y){u.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=y,this.meta={}}c.magic="\b\0",n.inherits(_,u),_.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(n.transformTo(h,v.data),!1)},_.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},_.prototype._createPako=function(){this._pako=new p[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(y){v.push({data:y,meta:v.meta})}},c.compressWorker=function(v){return new _("Deflate",v)},c.uncompressWorker=function(){return new _("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,s,c){function i(b,C){var g,E="";for(g=0;g<C;g++)E+=String.fromCharCode(255&b),b>>>=8;return E}function p(b,C,g,E,d,A){var a,o,m=b.file,f=b.compression,x=A!==h.utf8encode,B=n.transformTo("string",A(m.name)),I=n.transformTo("string",h.utf8encode(m.name)),R=m.comment,L=n.transformTo("string",A(R)),S=n.transformTo("string",h.utf8encode(R)),T=I.length!==m.name.length,l=S.length!==R.length,M="",F="",k="",P=m.dir,z=m.date,j={crc32:0,compressedSize:0,uncompressedSize:0};C&&!g||(j.crc32=b.crc32,j.compressedSize=b.compressedSize,j.uncompressedSize=b.uncompressedSize);var Q=0;C&&(Q|=8),x||!T&&!l||(Q|=2048);var N=0,X=0;P&&(N|=16),d==="UNIX"?(X=798,N|=function($,se){var ce=$;return $||(ce=se?16893:33204),(65535&ce)<<16}(m.unixPermissions,P)):(X=20,N|=function($){return 63&($||0)}(m.dosPermissions)),a=z.getUTCHours(),a<<=6,a|=z.getUTCMinutes(),a<<=5,a|=z.getUTCSeconds()/2,o=z.getUTCFullYear()-1980,o<<=4,o|=z.getUTCMonth()+1,o<<=5,o|=z.getUTCDate(),T&&(F=i(1,1)+i(_(B),4)+I,M+="up"+i(F.length,2)+F),l&&(k=i(1,1)+i(_(L),4)+S,M+="uc"+i(k.length,2)+k);var K="";return K+=`
\0`,K+=i(Q,2),K+=f.magic,K+=i(a,2),K+=i(o,2),K+=i(j.crc32,4),K+=i(j.compressedSize,4),K+=i(j.uncompressedSize,4),K+=i(B.length,2),K+=i(M.length,2),{fileRecord:v.LOCAL_FILE_HEADER+K+B+M,dirRecord:v.CENTRAL_FILE_HEADER+i(X,2)+K+i(L.length,2)+"\0\0\0\0"+i(N,4)+i(E,4)+B+M+L}}var n=t("../utils"),u=t("../stream/GenericWorker"),h=t("../utf8"),_=t("../crc32"),v=t("../signature");function y(b,C,g,E){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=C,this.zipPlatform=g,this.encodeFileName=E,this.streamFiles=b,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}n.inherits(y,u),y.prototype.push=function(b){var C=b.meta.percent||0,g=this.entriesCount,E=this._sources.length;this.accumulate?this.contentBuffer.push(b):(this.bytesWritten+=b.data.length,u.prototype.push.call(this,{data:b.data,meta:{currentFile:this.currentFile,percent:g?(C+100*(g-E-1))/g:100}}))},y.prototype.openedSource=function(b){this.currentSourceOffset=this.bytesWritten,this.currentFile=b.file.name;var C=this.streamFiles&&!b.file.dir;if(C){var g=p(b,C,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(b){this.accumulate=!1;var C=this.streamFiles&&!b.file.dir,g=p(b,C,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),C)this.push({data:function(E){return v.DATA_DESCRIPTOR+i(E.crc32,4)+i(E.compressedSize,4)+i(E.uncompressedSize,4)}(b),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var b=this.bytesWritten,C=0;C<this.dirRecords.length;C++)this.push({data:this.dirRecords[C],meta:{percent:100}});var g=this.bytesWritten-b,E=function(d,A,a,o,m){var f=n.transformTo("string",m(o));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(d,2)+i(d,2)+i(A,4)+i(a,4)+i(f.length,2)+f}(this.dirRecords.length,g,b,this.zipComment,this.encodeFileName);this.push({data:E,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(b){this._sources.push(b);var C=this;return b.on("data",function(g){C.processChunk(g)}),b.on("end",function(){C.closedSource(C.previous.streamInfo),C._sources.length?C.prepareNextSource():C.end()}),b.on("error",function(g){C.error(g)}),this},y.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(b){var C=this._sources;if(!u.prototype.error.call(this,b))return!1;for(var g=0;g<C.length;g++)try{C[g].error(b)}catch{}return!0},y.prototype.lock=function(){u.prototype.lock.call(this);for(var b=this._sources,C=0;C<b.length;C++)b[C].lock()},s.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,s,c){var i=t("../compressions"),p=t("./ZipFileWorker");c.generateWorker=function(n,u,h){var _=new p(u.streamFiles,h,u.platform,u.encodeFileName),v=0;try{n.forEach(function(y,b){v++;var C=function(A,a){var o=A||a,m=i[o];if(!m)throw new Error(o+" is not a valid compression method !");return m}(b.options.compression,u.compression),g=b.options.compressionOptions||u.compressionOptions||{},E=b.dir,d=b.date;b._compressWorker(C,g).withStreamInfo("file",{name:y,dir:E,date:d,comment:b.comment||"",unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions}).pipe(_)}),_.entriesCount=v}catch(y){_.error(y)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,s,c){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var p=new i;for(var n in this)typeof this[n]!="function"&&(p[n]=this[n]);return p}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.10.1",i.loadAsync=function(p,n){return new i().loadAsync(p,n)},i.external=t("./external"),s.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,s,c){var i=t("./utils"),p=t("./external"),n=t("./utf8"),u=t("./zipEntries"),h=t("./stream/Crc32Probe"),_=t("./nodejsUtils");function v(y){return new p.Promise(function(b,C){var g=y.decompressed.getContentWorker().pipe(new h);g.on("error",function(E){C(E)}).on("end",function(){g.streamInfo.crc32!==y.decompressed.crc32?C(new Error("Corrupted zip : CRC32 mismatch")):b()}).resume()})}s.exports=function(y,b){var C=this;return b=i.extend(b||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode}),_.isNode&&_.isStream(y)?p.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",y,!0,b.optimizedBinaryString,b.base64).then(function(g){var E=new u(b);return E.load(g),E}).then(function(g){var E=[p.Promise.resolve(g)],d=g.files;if(b.checkCRC32)for(var A=0;A<d.length;A++)E.push(v(d[A]));return p.Promise.all(E)}).then(function(g){for(var E=g.shift(),d=E.files,A=0;A<d.length;A++){var a=d[A],o=a.fileNameStr,m=i.resolve(a.fileNameStr);C.file(m,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:b.createFolders}),a.dir||(C.file(m).unsafeOriginalName=o)}return E.zipComment.length&&(C.comment=E.zipComment),C})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,s,c){var i=t("../utils"),p=t("../stream/GenericWorker");function n(u,h){p.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(h)}i.inherits(n,p),n.prototype._bindStream=function(u){var h=this;(this._stream=u).pause(),u.on("data",function(_){h.push({data:_,meta:{percent:0}})}).on("error",function(_){h.isPaused?this.generatedError=_:h.error(_)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},n.prototype.pause=function(){return!!p.prototype.pause.call(this)&&(this._stream.pause(),!0)},n.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=n},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,s,c){var i=t("readable-stream").Readable;function p(n,u,h){i.call(this,u),this._helper=n;var _=this;n.on("data",function(v,y){_.push(v)||_._helper.pause(),h&&h(y)}).on("error",function(v){_.emit("error",v)}).on("end",function(){_.push(null)})}t("../utils").inherits(p,i),p.prototype._read=function(){this._helper.resume()},s.exports=p},{"../utils":32,"readable-stream":16}],14:[function(t,s,c){s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,p){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,p);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,p)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var p=new Buffer(i);return p.fill(0),p},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(t,s,c){function i(m,f,x){var B,I=n.getTypeOf(f),R=n.extend(x||{},_);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(m=d(m)),R.createFolders&&(B=E(m))&&A.call(this,B,!0);var L=I==="string"&&R.binary===!1&&R.base64===!1;x&&x.binary!==void 0||(R.binary=!L),(f instanceof v&&f.uncompressedSize===0||R.dir||!f||f.length===0)&&(R.base64=!1,R.binary=!0,f="",R.compression="STORE",I="string");var S=null;S=f instanceof v||f instanceof u?f:C.isNode&&C.isStream(f)?new g(m,f):n.prepareContent(m,f,R.binary,R.optimizedBinaryString,R.base64);var T=new y(m,S,R);this.files[m]=T}var p=t("./utf8"),n=t("./utils"),u=t("./stream/GenericWorker"),h=t("./stream/StreamHelper"),_=t("./defaults"),v=t("./compressedObject"),y=t("./zipObject"),b=t("./generate"),C=t("./nodejsUtils"),g=t("./nodejs/NodejsStreamInputAdapter"),E=function(m){m.slice(-1)==="/"&&(m=m.substring(0,m.length-1));var f=m.lastIndexOf("/");return 0<f?m.substring(0,f):""},d=function(m){return m.slice(-1)!=="/"&&(m+="/"),m},A=function(m,f){return f=f!==void 0?f:_.createFolders,m=d(m),this.files[m]||i.call(this,m,null,{dir:!0,createFolders:f}),this.files[m]};function a(m){return Object.prototype.toString.call(m)==="[object RegExp]"}var o={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(m){var f,x,B;for(f in this.files)B=this.files[f],(x=f.slice(this.root.length,f.length))&&f.slice(0,this.root.length)===this.root&&m(x,B)},filter:function(m){var f=[];return this.forEach(function(x,B){m(x,B)&&f.push(B)}),f},file:function(m,f,x){if(arguments.length!==1)return m=this.root+m,i.call(this,m,f,x),this;if(a(m)){var B=m;return this.filter(function(R,L){return!L.dir&&B.test(R)})}var I=this.files[this.root+m];return I&&!I.dir?I:null},folder:function(m){if(!m)return this;if(a(m))return this.filter(function(I,R){return R.dir&&m.test(I)});var f=this.root+m,x=A.call(this,f),B=this.clone();return B.root=x.name,B},remove:function(m){m=this.root+m;var f=this.files[m];if(f||(m.slice(-1)!=="/"&&(m+="/"),f=this.files[m]),f&&!f.dir)delete this.files[m];else for(var x=this.filter(function(I,R){return R.name.slice(0,m.length)===m}),B=0;B<x.length;B++)delete this.files[x[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(m){var f,x={};try{if((x=n.extend(m||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:p.utf8encode})).type=x.type.toLowerCase(),x.compression=x.compression.toUpperCase(),x.type==="binarystring"&&(x.type="string"),!x.type)throw new Error("No output type specified.");n.checkSupport(x.type),x.platform!=="darwin"&&x.platform!=="freebsd"&&x.platform!=="linux"&&x.platform!=="sunos"||(x.platform="UNIX"),x.platform==="win32"&&(x.platform="DOS");var B=x.comment||this.comment||"";f=b.generateWorker(this,x,B)}catch(I){(f=new u("error")).error(I)}return new h(f,x.type||"string",x.mimeType)},generateAsync:function(m,f){return this.generateInternalStream(m).accumulate(f)},generateNodeStream:function(m,f){return(m=m||{}).type||(m.type="nodebuffer"),this.generateInternalStream(m).toNodejsStream(f)}};s.exports=o},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,s,c){s.exports=t("stream")},{stream:void 0}],17:[function(t,s,c){var i=t("./DataReader");function p(n){i.call(this,n);for(var u=0;u<this.data.length;u++)n[u]=255&n[u]}t("../utils").inherits(p,i),p.prototype.byteAt=function(n){return this.data[this.zero+n]},p.prototype.lastIndexOfSignature=function(n){for(var u=n.charCodeAt(0),h=n.charCodeAt(1),_=n.charCodeAt(2),v=n.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===u&&this.data[y+1]===h&&this.data[y+2]===_&&this.data[y+3]===v)return y-this.zero;return-1},p.prototype.readAndCheckSignature=function(n){var u=n.charCodeAt(0),h=n.charCodeAt(1),_=n.charCodeAt(2),v=n.charCodeAt(3),y=this.readData(4);return u===y[0]&&h===y[1]&&_===y[2]&&v===y[3]},p.prototype.readData=function(n){if(this.checkOffset(n),n===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,u},s.exports=p},{"../utils":32,"./DataReader":18}],18:[function(t,s,c){var i=t("../utils");function p(n){this.data=n,this.length=n.length,this.index=0,this.zero=0}p.prototype={checkOffset:function(n){this.checkIndex(this.index+n)},checkIndex:function(n){if(this.length<this.zero+n||n<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+n+"). Corrupted zip ?")},setIndex:function(n){this.checkIndex(n),this.index=n},skip:function(n){this.setIndex(this.index+n)},byteAt:function(){},readInt:function(n){var u,h=0;for(this.checkOffset(n),u=this.index+n-1;u>=this.index;u--)h=(h<<8)+this.byteAt(u);return this.index+=n,h},readString:function(n){return i.transformTo("string",this.readData(n))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var n=this.readInt(4);return new Date(Date.UTC(1980+(n>>25&127),(n>>21&15)-1,n>>16&31,n>>11&31,n>>5&63,(31&n)<<1))}},s.exports=p},{"../utils":32}],19:[function(t,s,c){var i=t("./Uint8ArrayReader");function p(n){i.call(this,n)}t("../utils").inherits(p,i),p.prototype.readData=function(n){this.checkOffset(n);var u=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,u},s.exports=p},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,s,c){var i=t("./DataReader");function p(n){i.call(this,n)}t("../utils").inherits(p,i),p.prototype.byteAt=function(n){return this.data.charCodeAt(this.zero+n)},p.prototype.lastIndexOfSignature=function(n){return this.data.lastIndexOf(n)-this.zero},p.prototype.readAndCheckSignature=function(n){return n===this.readData(4)},p.prototype.readData=function(n){this.checkOffset(n);var u=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,u},s.exports=p},{"../utils":32,"./DataReader":18}],21:[function(t,s,c){var i=t("./ArrayReader");function p(n){i.call(this,n)}t("../utils").inherits(p,i),p.prototype.readData=function(n){if(this.checkOffset(n),n===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+n);return this.index+=n,u},s.exports=p},{"../utils":32,"./ArrayReader":17}],22:[function(t,s,c){var i=t("../utils"),p=t("../support"),n=t("./ArrayReader"),u=t("./StringReader"),h=t("./NodeBufferReader"),_=t("./Uint8ArrayReader");s.exports=function(v){var y=i.getTypeOf(v);return i.checkSupport(y),y!=="string"||p.uint8array?y==="nodebuffer"?new h(v):p.uint8array?new _(i.transformTo("uint8array",v)):new n(i.transformTo("array",v)):new u(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,s,c){c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,s,c){var i=t("./GenericWorker"),p=t("../utils");function n(u){i.call(this,"ConvertWorker to "+u),this.destType=u}p.inherits(n,i),n.prototype.processChunk=function(u){this.push({data:p.transformTo(this.destType,u.data),meta:u.meta})},s.exports=n},{"../utils":32,"./GenericWorker":28}],25:[function(t,s,c){var i=t("./GenericWorker"),p=t("../crc32");function n(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(n,i),n.prototype.processChunk=function(u){this.streamInfo.crc32=p(u.data,this.streamInfo.crc32||0),this.push(u)},s.exports=n},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,s,c){var i=t("../utils"),p=t("./GenericWorker");function n(u){p.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}i.inherits(n,p),n.prototype.processChunk=function(u){if(u){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+u.data.length}p.prototype.processChunk.call(this,u)},s.exports=n},{"../utils":32,"./GenericWorker":28}],27:[function(t,s,c){var i=t("../utils"),p=t("./GenericWorker");function n(u){p.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(_){h.dataIsReady=!0,h.data=_,h.max=_&&_.length||0,h.type=i.getTypeOf(_),h.isPaused||h._tickAndRepeat()},function(_){h.error(_)})}i.inherits(n,p),n.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,h);break;case"uint8array":u=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":u=this.data.slice(this.index,h)}return this.index=h,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=n},{"../utils":32,"./GenericWorker":28}],28:[function(t,s,c){function i(p){this.name=p||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(p){this.emit("data",p)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(p){this.emit("error",p)}return!0},error:function(p){return!this.isFinished&&(this.isPaused?this.generatedError=p:(this.isFinished=!0,this.emit("error",p),this.previous&&this.previous.error(p),this.cleanUp()),!0)},on:function(p,n){return this._listeners[p].push(n),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(p,n){if(this._listeners[p])for(var u=0;u<this._listeners[p].length;u++)this._listeners[p][u].call(this,n)},pipe:function(p){return p.registerPrevious(this)},registerPrevious:function(p){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=p.streamInfo,this.mergeStreamInfo(),this.previous=p;var n=this;return p.on("data",function(u){n.processChunk(u)}),p.on("end",function(){n.end()}),p.on("error",function(u){n.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var p=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),p=!0),this.previous&&this.previous.resume(),!p},flush:function(){},processChunk:function(p){this.push(p)},withStreamInfo:function(p,n){return this.extraStreamInfo[p]=n,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var p in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,p)&&(this.streamInfo[p]=this.extraStreamInfo[p])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var p="Worker "+this.name;return this.previous?this.previous+" -> "+p:p}},s.exports=i},{}],29:[function(t,s,c){var i=t("../utils"),p=t("./ConvertWorker"),n=t("./GenericWorker"),u=t("../base64"),h=t("../support"),_=t("../external"),v=null;if(h.nodestream)try{v=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(C,g){return new _.Promise(function(E,d){var A=[],a=C._internalType,o=C._outputType,m=C._mimeType;C.on("data",function(f,x){A.push(f),g&&g(x)}).on("error",function(f){A=[],d(f)}).on("end",function(){try{var f=function(x,B,I){switch(x){case"blob":return i.newBlob(i.transformTo("arraybuffer",B),I);case"base64":return u.encode(B);default:return i.transformTo(x,B)}}(o,function(x,B){var I,R=0,L=null,S=0;for(I=0;I<B.length;I++)S+=B[I].length;switch(x){case"string":return B.join("");case"array":return Array.prototype.concat.apply([],B);case"uint8array":for(L=new Uint8Array(S),I=0;I<B.length;I++)L.set(B[I],R),R+=B[I].length;return L;case"nodebuffer":return Buffer.concat(B);default:throw new Error("concat : unsupported type '"+x+"'")}}(a,A),m);E(f)}catch(x){d(x)}A=[]}).resume()})}function b(C,g,E){var d=g;switch(g){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=g,this._mimeType=E,i.checkSupport(d),this._worker=C.pipe(new p(d)),C.lock()}catch(A){this._worker=new n("error"),this._worker.error(A)}}b.prototype={accumulate:function(C){return y(this,C)},on:function(C,g){var E=this;return C==="data"?this._worker.on(C,function(d){g.call(E,d.data,d.meta)}):this._worker.on(C,function(){i.delay(g,arguments,E)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(C){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},C)}},s.exports=b},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,s,c){if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",c.nodebuffer=typeof Buffer<"u",c.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")c.blob=!1;else{var i=new ArrayBuffer(0);try{c.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);p.append(i),c.blob=p.getBlob("application/zip").size===0}catch{c.blob=!1}}}try{c.nodestream=!!t("readable-stream").Readable}catch{c.nodestream=!1}},{"readable-stream":16}],31:[function(t,s,c){for(var i=t("./utils"),p=t("./support"),n=t("./nodejsUtils"),u=t("./stream/GenericWorker"),h=new Array(256),_=0;_<256;_++)h[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;h[254]=h[254]=1;function v(){u.call(this,"utf-8 decode"),this.leftOver=null}function y(){u.call(this,"utf-8 encode")}c.utf8encode=function(b){return p.nodebuffer?n.newBufferFrom(b,"utf-8"):function(C){var g,E,d,A,a,o=C.length,m=0;for(A=0;A<o;A++)(64512&(E=C.charCodeAt(A)))==55296&&A+1<o&&(64512&(d=C.charCodeAt(A+1)))==56320&&(E=65536+(E-55296<<10)+(d-56320),A++),m+=E<128?1:E<2048?2:E<65536?3:4;for(g=p.uint8array?new Uint8Array(m):new Array(m),A=a=0;a<m;A++)(64512&(E=C.charCodeAt(A)))==55296&&A+1<o&&(64512&(d=C.charCodeAt(A+1)))==56320&&(E=65536+(E-55296<<10)+(d-56320),A++),E<128?g[a++]=E:(E<2048?g[a++]=192|E>>>6:(E<65536?g[a++]=224|E>>>12:(g[a++]=240|E>>>18,g[a++]=128|E>>>12&63),g[a++]=128|E>>>6&63),g[a++]=128|63&E);return g}(b)},c.utf8decode=function(b){return p.nodebuffer?i.transformTo("nodebuffer",b).toString("utf-8"):function(C){var g,E,d,A,a=C.length,o=new Array(2*a);for(g=E=0;g<a;)if((d=C[g++])<128)o[E++]=d;else if(4<(A=h[d]))o[E++]=65533,g+=A-1;else{for(d&=A===2?31:A===3?15:7;1<A&&g<a;)d=d<<6|63&C[g++],A--;1<A?o[E++]=65533:d<65536?o[E++]=d:(d-=65536,o[E++]=55296|d>>10&1023,o[E++]=56320|1023&d)}return o.length!==E&&(o.subarray?o=o.subarray(0,E):o.length=E),i.applyFromCharCode(o)}(b=i.transformTo(p.uint8array?"uint8array":"array",b))},i.inherits(v,u),v.prototype.processChunk=function(b){var C=i.transformTo(p.uint8array?"uint8array":"array",b.data);if(this.leftOver&&this.leftOver.length){if(p.uint8array){var g=C;(C=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),C.set(g,this.leftOver.length)}else C=this.leftOver.concat(C);this.leftOver=null}var E=function(A,a){var o;for((a=a||A.length)>A.length&&(a=A.length),o=a-1;0<=o&&(192&A[o])==128;)o--;return o<0||o===0?a:o+h[A[o]]>a?o:a}(C),d=C;E!==C.length&&(p.uint8array?(d=C.subarray(0,E),this.leftOver=C.subarray(E,C.length)):(d=C.slice(0,E),this.leftOver=C.slice(E,C.length))),this.push({data:c.utf8decode(d),meta:b.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=v,i.inherits(y,u),y.prototype.processChunk=function(b){this.push({data:c.utf8encode(b.data),meta:b.meta})},c.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,s,c){var i=t("./support"),p=t("./base64"),n=t("./nodejsUtils"),u=t("./external");function h(g){return g}function _(g,E){for(var d=0;d<g.length;++d)E[d]=255&g.charCodeAt(d);return E}t("setimmediate"),c.newBlob=function(g,E){c.checkSupport("blob");try{return new Blob([g],{type:E})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(g),d.getBlob(E)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(g,E,d){var A=[],a=0,o=g.length;if(o<=d)return String.fromCharCode.apply(null,g);for(;a<o;)E==="array"||E==="nodebuffer"?A.push(String.fromCharCode.apply(null,g.slice(a,Math.min(a+d,o)))):A.push(String.fromCharCode.apply(null,g.subarray(a,Math.min(a+d,o)))),a+=d;return A.join("")},stringifyByChar:function(g){for(var E="",d=0;d<g.length;d++)E+=String.fromCharCode(g[d]);return E},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,n.allocBuffer(1)).length===1}catch{return!1}}()}};function y(g){var E=65536,d=c.getTypeOf(g),A=!0;if(d==="uint8array"?A=v.applyCanBeUsed.uint8array:d==="nodebuffer"&&(A=v.applyCanBeUsed.nodebuffer),A)for(;1<E;)try{return v.stringifyByChunk(g,d,E)}catch{E=Math.floor(E/2)}return v.stringifyByChar(g)}function b(g,E){for(var d=0;d<g.length;d++)E[d]=g[d];return E}c.applyFromCharCode=y;var C={};C.string={string:h,array:function(g){return _(g,new Array(g.length))},arraybuffer:function(g){return C.string.uint8array(g).buffer},uint8array:function(g){return _(g,new Uint8Array(g.length))},nodebuffer:function(g){return _(g,n.allocBuffer(g.length))}},C.array={string:y,array:h,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return n.newBufferFrom(g)}},C.arraybuffer={string:function(g){return y(new Uint8Array(g))},array:function(g){return b(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:h,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return n.newBufferFrom(new Uint8Array(g))}},C.uint8array={string:y,array:function(g){return b(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:h,nodebuffer:function(g){return n.newBufferFrom(g)}},C.nodebuffer={string:y,array:function(g){return b(g,new Array(g.length))},arraybuffer:function(g){return C.nodebuffer.uint8array(g).buffer},uint8array:function(g){return b(g,new Uint8Array(g.length))},nodebuffer:h},c.transformTo=function(g,E){if(E=E||"",!g)return E;c.checkSupport(g);var d=c.getTypeOf(E);return C[d][g](E)},c.resolve=function(g){for(var E=g.split("/"),d=[],A=0;A<E.length;A++){var a=E[A];a==="."||a===""&&A!==0&&A!==E.length-1||(a===".."?d.pop():d.push(a))}return d.join("/")},c.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":i.nodebuffer&&n.isBuffer(g)?"nodebuffer":i.uint8array&&g instanceof Uint8Array?"uint8array":i.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(g){if(!i[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(g){var E,d,A="";for(d=0;d<(g||"").length;d++)A+="\\x"+((E=g.charCodeAt(d))<16?"0":"")+E.toString(16).toUpperCase();return A},c.delay=function(g,E,d){setImmediate(function(){g.apply(d||null,E||[])})},c.inherits=function(g,E){function d(){}d.prototype=E.prototype,g.prototype=new d},c.extend=function(){var g,E,d={};for(g=0;g<arguments.length;g++)for(E in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],E)&&d[E]===void 0&&(d[E]=arguments[g][E]);return d},c.prepareContent=function(g,E,d,A,a){return u.Promise.resolve(E).then(function(o){return i.blob&&(o instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(o))!==-1)&&typeof FileReader<"u"?new u.Promise(function(m,f){var x=new FileReader;x.onload=function(B){m(B.target.result)},x.onerror=function(B){f(B.target.error)},x.readAsArrayBuffer(o)}):o}).then(function(o){var m=c.getTypeOf(o);return m?(m==="arraybuffer"?o=c.transformTo("uint8array",o):m==="string"&&(a?o=p.decode(o):d&&A!==!0&&(o=function(f){return _(f,i.uint8array?new Uint8Array(f.length):new Array(f.length))}(o))),o):u.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,s,c){var i=t("./reader/readerFor"),p=t("./utils"),n=t("./signature"),u=t("./zipEntry"),h=t("./support");function _(v){this.files=[],this.loadOptions=v}_.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+p.pretty(y)+", expected "+p.pretty(v)+")")}},isSignature:function(v,y){var b=this.reader.index;this.reader.setIndex(v);var C=this.reader.readString(4)===y;return this.reader.setIndex(b),C},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),y=h.uint8array?"uint8array":"array",b=p.transformTo(y,v);this.zipComment=this.loadOptions.decodeFileName(b)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,y,b,C=this.zip64EndOfCentralSize-44;0<C;)v=this.reader.readInt(2),y=this.reader.readInt(4),b=this.reader.readData(y),this.zip64ExtensibleData[v]={id:v,length:y,value:b}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,y;for(v=0;v<this.files.length;v++)y=this.files[v],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(n.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(n.CENTRAL_FILE_HEADER);)(v=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(n.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,n.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var y=v;if(this.checkSignature(n.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===p.MAX_VALUE_16BITS||this.diskWithCentralDirStart===p.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===p.MAX_VALUE_16BITS||this.centralDirRecords===p.MAX_VALUE_16BITS||this.centralDirSize===p.MAX_VALUE_32BITS||this.centralDirOffset===p.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,n.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var b=this.centralDirOffset+this.centralDirSize;this.zip64&&(b+=20,b+=12+this.zip64EndOfCentralSize);var C=y-b;if(0<C)this.isSignature(y,n.CENTRAL_FILE_HEADER)||(this.reader.zero=C);else if(C<0)throw new Error("Corrupted zip: missing "+Math.abs(C)+" bytes.")},prepareReader:function(v){this.reader=i(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=_},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,s,c){var i=t("./reader/readerFor"),p=t("./utils"),n=t("./compressedObject"),u=t("./crc32"),h=t("./utf8"),_=t("./compressions"),v=t("./support");function y(b,C){this.options=b,this.loadOptions=C}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(b){var C,g;if(b.skip(22),this.fileNameLength=b.readInt(2),g=b.readInt(2),this.fileName=b.readData(this.fileNameLength),b.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((C=function(E){for(var d in _)if(Object.prototype.hasOwnProperty.call(_,d)&&_[d].magic===E)return _[d];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+p.pretty(this.compressionMethod)+" unknown (inner file : "+p.transformTo("string",this.fileName)+")");this.decompressed=new n(this.compressedSize,this.uncompressedSize,this.crc32,C,b.readData(this.compressedSize))},readCentralPart:function(b){this.versionMadeBy=b.readInt(2),b.skip(2),this.bitFlag=b.readInt(2),this.compressionMethod=b.readString(2),this.date=b.readDate(),this.crc32=b.readInt(4),this.compressedSize=b.readInt(4),this.uncompressedSize=b.readInt(4);var C=b.readInt(2);if(this.extraFieldsLength=b.readInt(2),this.fileCommentLength=b.readInt(2),this.diskNumberStart=b.readInt(2),this.internalFileAttributes=b.readInt(2),this.externalFileAttributes=b.readInt(4),this.localHeaderOffset=b.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");b.skip(C),this.readExtraFields(b),this.parseZIP64ExtraField(b),this.fileComment=b.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var b=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),b==0&&(this.dosPermissions=63&this.externalFileAttributes),b==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var b=i(this.extraFields[1].value);this.uncompressedSize===p.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===p.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===p.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===p.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(b){var C,g,E,d=b.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});b.index+4<d;)C=b.readInt(2),g=b.readInt(2),E=b.readData(g),this.extraFields[C]={id:C,length:g,value:E};b.setIndex(d)},handleUTF8:function(){var b=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var C=this.findExtraFieldUnicodePath();if(C!==null)this.fileNameStr=C;else{var g=p.transformTo(b,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var E=this.findExtraFieldUnicodeComment();if(E!==null)this.fileCommentStr=E;else{var d=p.transformTo(b,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var b=this.extraFields[28789];if(b){var C=i(b.value);return C.readInt(1)!==1||u(this.fileName)!==C.readInt(4)?null:h.utf8decode(C.readData(b.length-5))}return null},findExtraFieldUnicodeComment:function(){var b=this.extraFields[25461];if(b){var C=i(b.value);return C.readInt(1)!==1||u(this.fileComment)!==C.readInt(4)?null:h.utf8decode(C.readData(b.length-5))}return null}},s.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,s,c){function i(C,g,E){this.name=C,this.dir=E.dir,this.date=E.date,this.comment=E.comment,this.unixPermissions=E.unixPermissions,this.dosPermissions=E.dosPermissions,this._data=g,this._dataBinary=E.binary,this.options={compression:E.compression,compressionOptions:E.compressionOptions}}var p=t("./stream/StreamHelper"),n=t("./stream/DataWorker"),u=t("./utf8"),h=t("./compressedObject"),_=t("./stream/GenericWorker");i.prototype={internalStream:function(C){var g=null,E="string";try{if(!C)throw new Error("No output type specified.");var d=(E=C.toLowerCase())==="string"||E==="text";E!=="binarystring"&&E!=="text"||(E="string"),g=this._decompressWorker();var A=!this._dataBinary;A&&!d&&(g=g.pipe(new u.Utf8EncodeWorker)),!A&&d&&(g=g.pipe(new u.Utf8DecodeWorker))}catch(a){(g=new _("error")).error(a)}return new p(g,E,"")},async:function(C,g){return this.internalStream(C).accumulate(g)},nodeStream:function(C,g){return this.internalStream(C||"nodebuffer").toNodejsStream(g)},_compressWorker:function(C,g){if(this._data instanceof h&&this._data.compression.magic===C.magic)return this._data.getCompressedWorker();var E=this._decompressWorker();return this._dataBinary||(E=E.pipe(new u.Utf8EncodeWorker)),h.createWorkerFrom(E,C,g)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof _?this._data:new n(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},b=0;b<v.length;b++)i.prototype[v[b]]=y;s.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,s,c){(function(i){var p,n,u=i.MutationObserver||i.WebKitMutationObserver;if(u){var h=0,_=new u(C),v=i.document.createTextNode("");_.observe(v,{characterData:!0}),p=function(){v.data=h=++h%2}}else if(i.setImmediate||i.MessageChannel===void 0)p="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var g=i.document.createElement("script");g.onreadystatechange=function(){C(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},i.document.documentElement.appendChild(g)}:function(){setTimeout(C,0)};else{var y=new i.MessageChannel;y.port1.onmessage=C,p=function(){y.port2.postMessage(0)}}var b=[];function C(){var g,E;n=!0;for(var d=b.length;d;){for(E=b,b=[],g=-1;++g<d;)E[g]();d=b.length}n=!1}s.exports=function(g){b.push(g)!==1||n||p()}}).call(this,typeof Pe<"u"?Pe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,s,c){var i=t("immediate");function p(){}var n={},u=["REJECTED"],h=["FULFILLED"],_=["PENDING"];function v(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,d!==p&&g(this,d)}function y(d,A,a){this.promise=d,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof a=="function"&&(this.onRejected=a,this.callRejected=this.otherCallRejected)}function b(d,A,a){i(function(){var o;try{o=A(a)}catch(m){return n.reject(d,m)}o===d?n.reject(d,new TypeError("Cannot resolve promise with itself")):n.resolve(d,o)})}function C(d){var A=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof A=="function")return function(){A.apply(d,arguments)}}function g(d,A){var a=!1;function o(x){a||(a=!0,n.reject(d,x))}function m(x){a||(a=!0,n.resolve(d,x))}var f=E(function(){A(m,o)});f.status==="error"&&o(f.value)}function E(d,A){var a={};try{a.value=d(A),a.status="success"}catch(o){a.status="error",a.value=o}return a}(s.exports=v).prototype.finally=function(d){if(typeof d!="function")return this;var A=this.constructor;return this.then(function(a){return A.resolve(d()).then(function(){return a})},function(a){return A.resolve(d()).then(function(){throw a})})},v.prototype.catch=function(d){return this.then(null,d)},v.prototype.then=function(d,A){if(typeof d!="function"&&this.state===h||typeof A!="function"&&this.state===u)return this;var a=new this.constructor(p);return this.state!==_?b(a,this.state===h?d:A,this.outcome):this.queue.push(new y(a,d,A)),a},y.prototype.callFulfilled=function(d){n.resolve(this.promise,d)},y.prototype.otherCallFulfilled=function(d){b(this.promise,this.onFulfilled,d)},y.prototype.callRejected=function(d){n.reject(this.promise,d)},y.prototype.otherCallRejected=function(d){b(this.promise,this.onRejected,d)},n.resolve=function(d,A){var a=E(C,A);if(a.status==="error")return n.reject(d,a.value);var o=a.value;if(o)g(d,o);else{d.state=h,d.outcome=A;for(var m=-1,f=d.queue.length;++m<f;)d.queue[m].callFulfilled(A)}return d},n.reject=function(d,A){d.state=u,d.outcome=A;for(var a=-1,o=d.queue.length;++a<o;)d.queue[a].callRejected(A);return d},v.resolve=function(d){return d instanceof this?d:n.resolve(new this(p),d)},v.reject=function(d){var A=new this(p);return n.reject(A,d)},v.all=function(d){var A=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var a=d.length,o=!1;if(!a)return this.resolve([]);for(var m=new Array(a),f=0,x=-1,B=new this(p);++x<a;)I(d[x],x);return B;function I(R,L){A.resolve(R).then(function(S){m[L]=S,++f!==a||o||(o=!0,n.resolve(B,m))},function(S){o||(o=!0,n.reject(B,S))})}},v.race=function(d){var A=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var a=d.length,o=!1;if(!a)return this.resolve([]);for(var m=-1,f=new this(p);++m<a;)x=d[m],A.resolve(x).then(function(B){o||(o=!0,n.resolve(f,B))},function(B){o||(o=!0,n.reject(f,B))});var x;return f}},{immediate:36}],38:[function(t,s,c){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),s.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,s,c){var i=t("./zlib/deflate"),p=t("./utils/common"),n=t("./utils/strings"),u=t("./zlib/messages"),h=t("./zlib/zstream"),_=Object.prototype.toString,v=0,y=-1,b=0,C=8;function g(d){if(!(this instanceof g))return new g(d);this.options=p.assign({level:y,method:C,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},d||{});var A=this.options;A.raw&&0<A.windowBits?A.windowBits=-A.windowBits:A.gzip&&0<A.windowBits&&A.windowBits<16&&(A.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var a=i.deflateInit2(this.strm,A.level,A.method,A.windowBits,A.memLevel,A.strategy);if(a!==v)throw new Error(u[a]);if(A.header&&i.deflateSetHeader(this.strm,A.header),A.dictionary){var o;if(o=typeof A.dictionary=="string"?n.string2buf(A.dictionary):_.call(A.dictionary)==="[object ArrayBuffer]"?new Uint8Array(A.dictionary):A.dictionary,(a=i.deflateSetDictionary(this.strm,o))!==v)throw new Error(u[a]);this._dict_set=!0}}function E(d,A){var a=new g(A);if(a.push(d,!0),a.err)throw a.msg||u[a.err];return a.result}g.prototype.push=function(d,A){var a,o,m=this.strm,f=this.options.chunkSize;if(this.ended)return!1;o=A===~~A?A:A===!0?4:0,typeof d=="string"?m.input=n.string2buf(d):_.call(d)==="[object ArrayBuffer]"?m.input=new Uint8Array(d):m.input=d,m.next_in=0,m.avail_in=m.input.length;do{if(m.avail_out===0&&(m.output=new p.Buf8(f),m.next_out=0,m.avail_out=f),(a=i.deflate(m,o))!==1&&a!==v)return this.onEnd(a),!(this.ended=!0);m.avail_out!==0&&(m.avail_in!==0||o!==4&&o!==2)||(this.options.to==="string"?this.onData(n.buf2binstring(p.shrinkBuf(m.output,m.next_out))):this.onData(p.shrinkBuf(m.output,m.next_out)))}while((0<m.avail_in||m.avail_out===0)&&a!==1);return o===4?(a=i.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===v):o!==2||(this.onEnd(v),!(m.avail_out=0))},g.prototype.onData=function(d){this.chunks.push(d)},g.prototype.onEnd=function(d){d===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=p.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},c.Deflate=g,c.deflate=E,c.deflateRaw=function(d,A){return(A=A||{}).raw=!0,E(d,A)},c.gzip=function(d,A){return(A=A||{}).gzip=!0,E(d,A)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,s,c){var i=t("./zlib/inflate"),p=t("./utils/common"),n=t("./utils/strings"),u=t("./zlib/constants"),h=t("./zlib/messages"),_=t("./zlib/zstream"),v=t("./zlib/gzheader"),y=Object.prototype.toString;function b(g){if(!(this instanceof b))return new b(g);this.options=p.assign({chunkSize:16384,windowBits:0,to:""},g||{});var E=this.options;E.raw&&0<=E.windowBits&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),!(0<=E.windowBits&&E.windowBits<16)||g&&g.windowBits||(E.windowBits+=32),15<E.windowBits&&E.windowBits<48&&!(15&E.windowBits)&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var d=i.inflateInit2(this.strm,E.windowBits);if(d!==u.Z_OK)throw new Error(h[d]);this.header=new v,i.inflateGetHeader(this.strm,this.header)}function C(g,E){var d=new b(E);if(d.push(g,!0),d.err)throw d.msg||h[d.err];return d.result}b.prototype.push=function(g,E){var d,A,a,o,m,f,x=this.strm,B=this.options.chunkSize,I=this.options.dictionary,R=!1;if(this.ended)return!1;A=E===~~E?E:E===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof g=="string"?x.input=n.binstring2buf(g):y.call(g)==="[object ArrayBuffer]"?x.input=new Uint8Array(g):x.input=g,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new p.Buf8(B),x.next_out=0,x.avail_out=B),(d=i.inflate(x,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&I&&(f=typeof I=="string"?n.string2buf(I):y.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,d=i.inflateSetDictionary(this.strm,f)),d===u.Z_BUF_ERROR&&R===!0&&(d=u.Z_OK,R=!1),d!==u.Z_STREAM_END&&d!==u.Z_OK)return this.onEnd(d),!(this.ended=!0);x.next_out&&(x.avail_out!==0&&d!==u.Z_STREAM_END&&(x.avail_in!==0||A!==u.Z_FINISH&&A!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(a=n.utf8border(x.output,x.next_out),o=x.next_out-a,m=n.buf2string(x.output,a),x.next_out=o,x.avail_out=B-o,o&&p.arraySet(x.output,x.output,a,o,0),this.onData(m)):this.onData(p.shrinkBuf(x.output,x.next_out)))),x.avail_in===0&&x.avail_out===0&&(R=!0)}while((0<x.avail_in||x.avail_out===0)&&d!==u.Z_STREAM_END);return d===u.Z_STREAM_END&&(A=u.Z_FINISH),A===u.Z_FINISH?(d=i.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===u.Z_OK):A!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(x.avail_out=0))},b.prototype.onData=function(g){this.chunks.push(g)},b.prototype.onEnd=function(g){g===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=p.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},c.Inflate=b,c.inflate=C,c.inflateRaw=function(g,E){return(E=E||{}).raw=!0,C(g,E)},c.ungzip=C},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,s,c){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";c.assign=function(u){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var _=h.shift();if(_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(var v in _)_.hasOwnProperty(v)&&(u[v]=_[v])}}return u},c.shrinkBuf=function(u,h){return u.length===h?u:u.subarray?u.subarray(0,h):(u.length=h,u)};var p={arraySet:function(u,h,_,v,y){if(h.subarray&&u.subarray)u.set(h.subarray(_,_+v),y);else for(var b=0;b<v;b++)u[y+b]=h[_+b]},flattenChunks:function(u){var h,_,v,y,b,C;for(h=v=0,_=u.length;h<_;h++)v+=u[h].length;for(C=new Uint8Array(v),h=y=0,_=u.length;h<_;h++)b=u[h],C.set(b,y),y+=b.length;return C}},n={arraySet:function(u,h,_,v,y){for(var b=0;b<v;b++)u[y+b]=h[_+b]},flattenChunks:function(u){return[].concat.apply([],u)}};c.setTyped=function(u){u?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,p)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,n))},c.setTyped(i)},{}],42:[function(t,s,c){var i=t("./common"),p=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch{p=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n=!1}for(var u=new i.Buf8(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function _(v,y){if(y<65537&&(v.subarray&&n||!v.subarray&&p))return String.fromCharCode.apply(null,i.shrinkBuf(v,y));for(var b="",C=0;C<y;C++)b+=String.fromCharCode(v[C]);return b}u[254]=u[254]=1,c.string2buf=function(v){var y,b,C,g,E,d=v.length,A=0;for(g=0;g<d;g++)(64512&(b=v.charCodeAt(g)))==55296&&g+1<d&&(64512&(C=v.charCodeAt(g+1)))==56320&&(b=65536+(b-55296<<10)+(C-56320),g++),A+=b<128?1:b<2048?2:b<65536?3:4;for(y=new i.Buf8(A),g=E=0;E<A;g++)(64512&(b=v.charCodeAt(g)))==55296&&g+1<d&&(64512&(C=v.charCodeAt(g+1)))==56320&&(b=65536+(b-55296<<10)+(C-56320),g++),b<128?y[E++]=b:(b<2048?y[E++]=192|b>>>6:(b<65536?y[E++]=224|b>>>12:(y[E++]=240|b>>>18,y[E++]=128|b>>>12&63),y[E++]=128|b>>>6&63),y[E++]=128|63&b);return y},c.buf2binstring=function(v){return _(v,v.length)},c.binstring2buf=function(v){for(var y=new i.Buf8(v.length),b=0,C=y.length;b<C;b++)y[b]=v.charCodeAt(b);return y},c.buf2string=function(v,y){var b,C,g,E,d=y||v.length,A=new Array(2*d);for(b=C=0;b<d;)if((g=v[b++])<128)A[C++]=g;else if(4<(E=u[g]))A[C++]=65533,b+=E-1;else{for(g&=E===2?31:E===3?15:7;1<E&&b<d;)g=g<<6|63&v[b++],E--;1<E?A[C++]=65533:g<65536?A[C++]=g:(g-=65536,A[C++]=55296|g>>10&1023,A[C++]=56320|1023&g)}return _(A,C)},c.utf8border=function(v,y){var b;for((y=y||v.length)>v.length&&(y=v.length),b=y-1;0<=b&&(192&v[b])==128;)b--;return b<0||b===0?y:b+u[v[b]]>y?b:y}},{"./common":41}],43:[function(t,s,c){s.exports=function(i,p,n,u){for(var h=65535&i|0,_=i>>>16&65535|0,v=0;n!==0;){for(n-=v=2e3<n?2e3:n;_=_+(h=h+p[u++]|0)|0,--v;);h%=65521,_%=65521}return h|_<<16|0}},{}],44:[function(t,s,c){s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,s,c){var i=function(){for(var p,n=[],u=0;u<256;u++){p=u;for(var h=0;h<8;h++)p=1&p?3988292384^p>>>1:p>>>1;n[u]=p}return n}();s.exports=function(p,n,u,h){var _=i,v=h+u;p^=-1;for(var y=h;y<v;y++)p=p>>>8^_[255&(p^n[y])];return-1^p}},{}],46:[function(t,s,c){var i,p=t("../utils/common"),n=t("./trees"),u=t("./adler32"),h=t("./crc32"),_=t("./messages"),v=0,y=4,b=0,C=-2,g=-1,E=4,d=2,A=8,a=9,o=286,m=30,f=19,x=2*o+1,B=15,I=3,R=258,L=R+I+1,S=42,T=113,l=1,M=2,F=3,k=4;function P(w,q){return w.msg=_[q],q}function z(w){return(w<<1)-(4<w?9:0)}function j(w){for(var q=w.length;0<=--q;)w[q]=0}function Q(w){var q=w.state,G=q.pending;G>w.avail_out&&(G=w.avail_out),G!==0&&(p.arraySet(w.output,q.pending_buf,q.pending_out,G,w.next_out),w.next_out+=G,q.pending_out+=G,w.total_out+=G,w.avail_out-=G,q.pending-=G,q.pending===0&&(q.pending_out=0))}function N(w,q){n._tr_flush_block(w,0<=w.block_start?w.block_start:-1,w.strstart-w.block_start,q),w.block_start=w.strstart,Q(w.strm)}function X(w,q){w.pending_buf[w.pending++]=q}function K(w,q){w.pending_buf[w.pending++]=q>>>8&255,w.pending_buf[w.pending++]=255&q}function $(w,q){var G,D,O=w.max_chain_length,U=w.strstart,Z=w.prev_length,J=w.nice_match,W=w.strstart>w.w_size-L?w.strstart-(w.w_size-L):0,ee=w.window,H=w.w_mask,Y=w.prev,te=w.strstart+R,ie=ee[U+Z-1],ne=ee[U+Z];w.prev_length>=w.good_match&&(O>>=2),J>w.lookahead&&(J=w.lookahead);do if(ee[(G=q)+Z]===ne&&ee[G+Z-1]===ie&&ee[G]===ee[U]&&ee[++G]===ee[U+1]){U+=2,G++;do;while(ee[++U]===ee[++G]&&ee[++U]===ee[++G]&&ee[++U]===ee[++G]&&ee[++U]===ee[++G]&&ee[++U]===ee[++G]&&ee[++U]===ee[++G]&&ee[++U]===ee[++G]&&ee[++U]===ee[++G]&&U<te);if(D=R-(te-U),U=te-R,Z<D){if(w.match_start=q,J<=(Z=D))break;ie=ee[U+Z-1],ne=ee[U+Z]}}while((q=Y[q&H])>W&&--O!=0);return Z<=w.lookahead?Z:w.lookahead}function se(w){var q,G,D,O,U,Z,J,W,ee,H,Y=w.w_size;do{if(O=w.window_size-w.lookahead-w.strstart,w.strstart>=Y+(Y-L)){for(p.arraySet(w.window,w.window,Y,Y,0),w.match_start-=Y,w.strstart-=Y,w.block_start-=Y,q=G=w.hash_size;D=w.head[--q],w.head[q]=Y<=D?D-Y:0,--G;);for(q=G=Y;D=w.prev[--q],w.prev[q]=Y<=D?D-Y:0,--G;);O+=Y}if(w.strm.avail_in===0)break;if(Z=w.strm,J=w.window,W=w.strstart+w.lookahead,ee=O,H=void 0,H=Z.avail_in,ee<H&&(H=ee),G=H===0?0:(Z.avail_in-=H,p.arraySet(J,Z.input,Z.next_in,H,W),Z.state.wrap===1?Z.adler=u(Z.adler,J,H,W):Z.state.wrap===2&&(Z.adler=h(Z.adler,J,H,W)),Z.next_in+=H,Z.total_in+=H,H),w.lookahead+=G,w.lookahead+w.insert>=I)for(U=w.strstart-w.insert,w.ins_h=w.window[U],w.ins_h=(w.ins_h<<w.hash_shift^w.window[U+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[U+I-1])&w.hash_mask,w.prev[U&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=U,U++,w.insert--,!(w.lookahead+w.insert<I)););}while(w.lookahead<L&&w.strm.avail_in!==0)}function ce(w,q){for(var G,D;;){if(w.lookahead<L){if(se(w),w.lookahead<L&&q===v)return l;if(w.lookahead===0)break}if(G=0,w.lookahead>=I&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+I-1])&w.hash_mask,G=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),G!==0&&w.strstart-G<=w.w_size-L&&(w.match_length=$(w,G)),w.match_length>=I)if(D=n._tr_tally(w,w.strstart-w.match_start,w.match_length-I),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=I){for(w.match_length--;w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+I-1])&w.hash_mask,G=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart,--w.match_length!=0;);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else D=n._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(D&&(N(w,!1),w.strm.avail_out===0))return l}return w.insert=w.strstart<I-1?w.strstart:I-1,q===y?(N(w,!0),w.strm.avail_out===0?F:k):w.last_lit&&(N(w,!1),w.strm.avail_out===0)?l:M}function oe(w,q){for(var G,D,O;;){if(w.lookahead<L){if(se(w),w.lookahead<L&&q===v)return l;if(w.lookahead===0)break}if(G=0,w.lookahead>=I&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+I-1])&w.hash_mask,G=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=I-1,G!==0&&w.prev_length<w.max_lazy_match&&w.strstart-G<=w.w_size-L&&(w.match_length=$(w,G),w.match_length<=5&&(w.strategy===1||w.match_length===I&&4096<w.strstart-w.match_start)&&(w.match_length=I-1)),w.prev_length>=I&&w.match_length<=w.prev_length){for(O=w.strstart+w.lookahead-I,D=n._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-I),w.lookahead-=w.prev_length-1,w.prev_length-=2;++w.strstart<=O&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+I-1])&w.hash_mask,G=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),--w.prev_length!=0;);if(w.match_available=0,w.match_length=I-1,w.strstart++,D&&(N(w,!1),w.strm.avail_out===0))return l}else if(w.match_available){if((D=n._tr_tally(w,0,w.window[w.strstart-1]))&&N(w,!1),w.strstart++,w.lookahead--,w.strm.avail_out===0)return l}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(D=n._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<I-1?w.strstart:I-1,q===y?(N(w,!0),w.strm.avail_out===0?F:k):w.last_lit&&(N(w,!1),w.strm.avail_out===0)?l:M}function le(w,q,G,D,O){this.good_length=w,this.max_lazy=q,this.nice_length=G,this.max_chain=D,this.func=O}function de(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new p.Buf16(2*x),this.dyn_dtree=new p.Buf16(2*(2*m+1)),this.bl_tree=new p.Buf16(2*(2*f+1)),j(this.dyn_ltree),j(this.dyn_dtree),j(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new p.Buf16(B+1),this.heap=new p.Buf16(2*o+1),j(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new p.Buf16(2*o+1),j(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function fe(w){var q;return w&&w.state?(w.total_in=w.total_out=0,w.data_type=d,(q=w.state).pending=0,q.pending_out=0,q.wrap<0&&(q.wrap=-q.wrap),q.status=q.wrap?S:T,w.adler=q.wrap===2?0:1,q.last_flush=v,n._tr_init(q),b):P(w,C)}function ve(w){var q=fe(w);return q===b&&function(G){G.window_size=2*G.w_size,j(G.head),G.max_lazy_match=i[G.level].max_lazy,G.good_match=i[G.level].good_length,G.nice_match=i[G.level].nice_length,G.max_chain_length=i[G.level].max_chain,G.strstart=0,G.block_start=0,G.lookahead=0,G.insert=0,G.match_length=G.prev_length=I-1,G.match_available=0,G.ins_h=0}(w.state),q}function be(w,q,G,D,O,U){if(!w)return C;var Z=1;if(q===g&&(q=6),D<0?(Z=0,D=-D):15<D&&(Z=2,D-=16),O<1||a<O||G!==A||D<8||15<D||q<0||9<q||U<0||E<U)return P(w,C);D===8&&(D=9);var J=new de;return(w.state=J).strm=w,J.wrap=Z,J.gzhead=null,J.w_bits=D,J.w_size=1<<J.w_bits,J.w_mask=J.w_size-1,J.hash_bits=O+7,J.hash_size=1<<J.hash_bits,J.hash_mask=J.hash_size-1,J.hash_shift=~~((J.hash_bits+I-1)/I),J.window=new p.Buf8(2*J.w_size),J.head=new p.Buf16(J.hash_size),J.prev=new p.Buf16(J.w_size),J.lit_bufsize=1<<O+6,J.pending_buf_size=4*J.lit_bufsize,J.pending_buf=new p.Buf8(J.pending_buf_size),J.d_buf=1*J.lit_bufsize,J.l_buf=3*J.lit_bufsize,J.level=q,J.strategy=U,J.method=G,ve(w)}i=[new le(0,0,0,0,function(w,q){var G=65535;for(G>w.pending_buf_size-5&&(G=w.pending_buf_size-5);;){if(w.lookahead<=1){if(se(w),w.lookahead===0&&q===v)return l;if(w.lookahead===0)break}w.strstart+=w.lookahead,w.lookahead=0;var D=w.block_start+G;if((w.strstart===0||w.strstart>=D)&&(w.lookahead=w.strstart-D,w.strstart=D,N(w,!1),w.strm.avail_out===0)||w.strstart-w.block_start>=w.w_size-L&&(N(w,!1),w.strm.avail_out===0))return l}return w.insert=0,q===y?(N(w,!0),w.strm.avail_out===0?F:k):(w.strstart>w.block_start&&(N(w,!1),w.strm.avail_out),l)}),new le(4,4,8,4,ce),new le(4,5,16,8,ce),new le(4,6,32,32,ce),new le(4,4,16,16,oe),new le(8,16,32,32,oe),new le(8,16,128,128,oe),new le(8,32,128,256,oe),new le(32,128,258,1024,oe),new le(32,258,258,4096,oe)],c.deflateInit=function(w,q){return be(w,q,A,15,8,0)},c.deflateInit2=be,c.deflateReset=ve,c.deflateResetKeep=fe,c.deflateSetHeader=function(w,q){return w&&w.state?w.state.wrap!==2?C:(w.state.gzhead=q,b):C},c.deflate=function(w,q){var G,D,O,U;if(!w||!w.state||5<q||q<0)return w?P(w,C):C;if(D=w.state,!w.output||!w.input&&w.avail_in!==0||D.status===666&&q!==y)return P(w,w.avail_out===0?-5:C);if(D.strm=w,G=D.last_flush,D.last_flush=q,D.status===S)if(D.wrap===2)w.adler=0,X(D,31),X(D,139),X(D,8),D.gzhead?(X(D,(D.gzhead.text?1:0)+(D.gzhead.hcrc?2:0)+(D.gzhead.extra?4:0)+(D.gzhead.name?8:0)+(D.gzhead.comment?16:0)),X(D,255&D.gzhead.time),X(D,D.gzhead.time>>8&255),X(D,D.gzhead.time>>16&255),X(D,D.gzhead.time>>24&255),X(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),X(D,255&D.gzhead.os),D.gzhead.extra&&D.gzhead.extra.length&&(X(D,255&D.gzhead.extra.length),X(D,D.gzhead.extra.length>>8&255)),D.gzhead.hcrc&&(w.adler=h(w.adler,D.pending_buf,D.pending,0)),D.gzindex=0,D.status=69):(X(D,0),X(D,0),X(D,0),X(D,0),X(D,0),X(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),X(D,3),D.status=T);else{var Z=A+(D.w_bits-8<<4)<<8;Z|=(2<=D.strategy||D.level<2?0:D.level<6?1:D.level===6?2:3)<<6,D.strstart!==0&&(Z|=32),Z+=31-Z%31,D.status=T,K(D,Z),D.strstart!==0&&(K(D,w.adler>>>16),K(D,65535&w.adler)),w.adler=1}if(D.status===69)if(D.gzhead.extra){for(O=D.pending;D.gzindex<(65535&D.gzhead.extra.length)&&(D.pending!==D.pending_buf_size||(D.gzhead.hcrc&&D.pending>O&&(w.adler=h(w.adler,D.pending_buf,D.pending-O,O)),Q(w),O=D.pending,D.pending!==D.pending_buf_size));)X(D,255&D.gzhead.extra[D.gzindex]),D.gzindex++;D.gzhead.hcrc&&D.pending>O&&(w.adler=h(w.adler,D.pending_buf,D.pending-O,O)),D.gzindex===D.gzhead.extra.length&&(D.gzindex=0,D.status=73)}else D.status=73;if(D.status===73)if(D.gzhead.name){O=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>O&&(w.adler=h(w.adler,D.pending_buf,D.pending-O,O)),Q(w),O=D.pending,D.pending===D.pending_buf_size)){U=1;break}U=D.gzindex<D.gzhead.name.length?255&D.gzhead.name.charCodeAt(D.gzindex++):0,X(D,U)}while(U!==0);D.gzhead.hcrc&&D.pending>O&&(w.adler=h(w.adler,D.pending_buf,D.pending-O,O)),U===0&&(D.gzindex=0,D.status=91)}else D.status=91;if(D.status===91)if(D.gzhead.comment){O=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>O&&(w.adler=h(w.adler,D.pending_buf,D.pending-O,O)),Q(w),O=D.pending,D.pending===D.pending_buf_size)){U=1;break}U=D.gzindex<D.gzhead.comment.length?255&D.gzhead.comment.charCodeAt(D.gzindex++):0,X(D,U)}while(U!==0);D.gzhead.hcrc&&D.pending>O&&(w.adler=h(w.adler,D.pending_buf,D.pending-O,O)),U===0&&(D.status=103)}else D.status=103;if(D.status===103&&(D.gzhead.hcrc?(D.pending+2>D.pending_buf_size&&Q(w),D.pending+2<=D.pending_buf_size&&(X(D,255&w.adler),X(D,w.adler>>8&255),w.adler=0,D.status=T)):D.status=T),D.pending!==0){if(Q(w),w.avail_out===0)return D.last_flush=-1,b}else if(w.avail_in===0&&z(q)<=z(G)&&q!==y)return P(w,-5);if(D.status===666&&w.avail_in!==0)return P(w,-5);if(w.avail_in!==0||D.lookahead!==0||q!==v&&D.status!==666){var J=D.strategy===2?function(W,ee){for(var H;;){if(W.lookahead===0&&(se(W),W.lookahead===0)){if(ee===v)return l;break}if(W.match_length=0,H=n._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++,H&&(N(W,!1),W.strm.avail_out===0))return l}return W.insert=0,ee===y?(N(W,!0),W.strm.avail_out===0?F:k):W.last_lit&&(N(W,!1),W.strm.avail_out===0)?l:M}(D,q):D.strategy===3?function(W,ee){for(var H,Y,te,ie,ne=W.window;;){if(W.lookahead<=R){if(se(W),W.lookahead<=R&&ee===v)return l;if(W.lookahead===0)break}if(W.match_length=0,W.lookahead>=I&&0<W.strstart&&(Y=ne[te=W.strstart-1])===ne[++te]&&Y===ne[++te]&&Y===ne[++te]){ie=W.strstart+R;do;while(Y===ne[++te]&&Y===ne[++te]&&Y===ne[++te]&&Y===ne[++te]&&Y===ne[++te]&&Y===ne[++te]&&Y===ne[++te]&&Y===ne[++te]&&te<ie);W.match_length=R-(ie-te),W.match_length>W.lookahead&&(W.match_length=W.lookahead)}if(W.match_length>=I?(H=n._tr_tally(W,1,W.match_length-I),W.lookahead-=W.match_length,W.strstart+=W.match_length,W.match_length=0):(H=n._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++),H&&(N(W,!1),W.strm.avail_out===0))return l}return W.insert=0,ee===y?(N(W,!0),W.strm.avail_out===0?F:k):W.last_lit&&(N(W,!1),W.strm.avail_out===0)?l:M}(D,q):i[D.level].func(D,q);if(J!==F&&J!==k||(D.status=666),J===l||J===F)return w.avail_out===0&&(D.last_flush=-1),b;if(J===M&&(q===1?n._tr_align(D):q!==5&&(n._tr_stored_block(D,0,0,!1),q===3&&(j(D.head),D.lookahead===0&&(D.strstart=0,D.block_start=0,D.insert=0))),Q(w),w.avail_out===0))return D.last_flush=-1,b}return q!==y?b:D.wrap<=0?1:(D.wrap===2?(X(D,255&w.adler),X(D,w.adler>>8&255),X(D,w.adler>>16&255),X(D,w.adler>>24&255),X(D,255&w.total_in),X(D,w.total_in>>8&255),X(D,w.total_in>>16&255),X(D,w.total_in>>24&255)):(K(D,w.adler>>>16),K(D,65535&w.adler)),Q(w),0<D.wrap&&(D.wrap=-D.wrap),D.pending!==0?b:1)},c.deflateEnd=function(w){var q;return w&&w.state?(q=w.state.status)!==S&&q!==69&&q!==73&&q!==91&&q!==103&&q!==T&&q!==666?P(w,C):(w.state=null,q===T?P(w,-3):b):C},c.deflateSetDictionary=function(w,q){var G,D,O,U,Z,J,W,ee,H=q.length;if(!w||!w.state||(U=(G=w.state).wrap)===2||U===1&&G.status!==S||G.lookahead)return C;for(U===1&&(w.adler=u(w.adler,q,H,0)),G.wrap=0,H>=G.w_size&&(U===0&&(j(G.head),G.strstart=0,G.block_start=0,G.insert=0),ee=new p.Buf8(G.w_size),p.arraySet(ee,q,H-G.w_size,G.w_size,0),q=ee,H=G.w_size),Z=w.avail_in,J=w.next_in,W=w.input,w.avail_in=H,w.next_in=0,w.input=q,se(G);G.lookahead>=I;){for(D=G.strstart,O=G.lookahead-(I-1);G.ins_h=(G.ins_h<<G.hash_shift^G.window[D+I-1])&G.hash_mask,G.prev[D&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=D,D++,--O;);G.strstart=D,G.lookahead=I-1,se(G)}return G.strstart+=G.lookahead,G.block_start=G.strstart,G.insert=G.lookahead,G.lookahead=0,G.match_length=G.prev_length=I-1,G.match_available=0,w.next_in=J,w.input=W,w.avail_in=Z,G.wrap=U,b},c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,s,c){s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,s,c){s.exports=function(i,p){var n,u,h,_,v,y,b,C,g,E,d,A,a,o,m,f,x,B,I,R,L,S,T,l,M;n=i.state,u=i.next_in,l=i.input,h=u+(i.avail_in-5),_=i.next_out,M=i.output,v=_-(p-i.avail_out),y=_+(i.avail_out-257),b=n.dmax,C=n.wsize,g=n.whave,E=n.wnext,d=n.window,A=n.hold,a=n.bits,o=n.lencode,m=n.distcode,f=(1<<n.lenbits)-1,x=(1<<n.distbits)-1;e:do{a<15&&(A+=l[u++]<<a,a+=8,A+=l[u++]<<a,a+=8),B=o[A&f];t:for(;;){if(A>>>=I=B>>>24,a-=I,(I=B>>>16&255)===0)M[_++]=65535&B;else{if(!(16&I)){if(!(64&I)){B=o[(65535&B)+(A&(1<<I)-1)];continue t}if(32&I){n.mode=12;break e}i.msg="invalid literal/length code",n.mode=30;break e}R=65535&B,(I&=15)&&(a<I&&(A+=l[u++]<<a,a+=8),R+=A&(1<<I)-1,A>>>=I,a-=I),a<15&&(A+=l[u++]<<a,a+=8,A+=l[u++]<<a,a+=8),B=m[A&x];r:for(;;){if(A>>>=I=B>>>24,a-=I,!(16&(I=B>>>16&255))){if(!(64&I)){B=m[(65535&B)+(A&(1<<I)-1)];continue r}i.msg="invalid distance code",n.mode=30;break e}if(L=65535&B,a<(I&=15)&&(A+=l[u++]<<a,(a+=8)<I&&(A+=l[u++]<<a,a+=8)),b<(L+=A&(1<<I)-1)){i.msg="invalid distance too far back",n.mode=30;break e}if(A>>>=I,a-=I,(I=_-v)<L){if(g<(I=L-I)&&n.sane){i.msg="invalid distance too far back",n.mode=30;break e}if(T=d,(S=0)===E){if(S+=C-I,I<R){for(R-=I;M[_++]=d[S++],--I;);S=_-L,T=M}}else if(E<I){if(S+=C+E-I,(I-=E)<R){for(R-=I;M[_++]=d[S++],--I;);if(S=0,E<R){for(R-=I=E;M[_++]=d[S++],--I;);S=_-L,T=M}}}else if(S+=E-I,I<R){for(R-=I;M[_++]=d[S++],--I;);S=_-L,T=M}for(;2<R;)M[_++]=T[S++],M[_++]=T[S++],M[_++]=T[S++],R-=3;R&&(M[_++]=T[S++],1<R&&(M[_++]=T[S++]))}else{for(S=_-L;M[_++]=M[S++],M[_++]=M[S++],M[_++]=M[S++],2<(R-=3););R&&(M[_++]=M[S++],1<R&&(M[_++]=M[S++]))}break}}break}}while(u<h&&_<y);u-=R=a>>3,A&=(1<<(a-=R<<3))-1,i.next_in=u,i.next_out=_,i.avail_in=u<h?h-u+5:5-(u-h),i.avail_out=_<y?y-_+257:257-(_-y),n.hold=A,n.bits=a}},{}],49:[function(t,s,c){var i=t("../utils/common"),p=t("./adler32"),n=t("./crc32"),u=t("./inffast"),h=t("./inftrees"),_=1,v=2,y=0,b=-2,C=1,g=852,E=592;function d(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function A(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(S){var T;return S&&S.state?(T=S.state,S.total_in=S.total_out=T.total=0,S.msg="",T.wrap&&(S.adler=1&T.wrap),T.mode=C,T.last=0,T.havedict=0,T.dmax=32768,T.head=null,T.hold=0,T.bits=0,T.lencode=T.lendyn=new i.Buf32(g),T.distcode=T.distdyn=new i.Buf32(E),T.sane=1,T.back=-1,y):b}function o(S){var T;return S&&S.state?((T=S.state).wsize=0,T.whave=0,T.wnext=0,a(S)):b}function m(S,T){var l,M;return S&&S.state?(M=S.state,T<0?(l=0,T=-T):(l=1+(T>>4),T<48&&(T&=15)),T&&(T<8||15<T)?b:(M.window!==null&&M.wbits!==T&&(M.window=null),M.wrap=l,M.wbits=T,o(S))):b}function f(S,T){var l,M;return S?(M=new A,(S.state=M).window=null,(l=m(S,T))!==y&&(S.state=null),l):b}var x,B,I=!0;function R(S){if(I){var T;for(x=new i.Buf32(512),B=new i.Buf32(32),T=0;T<144;)S.lens[T++]=8;for(;T<256;)S.lens[T++]=9;for(;T<280;)S.lens[T++]=7;for(;T<288;)S.lens[T++]=8;for(h(_,S.lens,0,288,x,0,S.work,{bits:9}),T=0;T<32;)S.lens[T++]=5;h(v,S.lens,0,32,B,0,S.work,{bits:5}),I=!1}S.lencode=x,S.lenbits=9,S.distcode=B,S.distbits=5}function L(S,T,l,M){var F,k=S.state;return k.window===null&&(k.wsize=1<<k.wbits,k.wnext=0,k.whave=0,k.window=new i.Buf8(k.wsize)),M>=k.wsize?(i.arraySet(k.window,T,l-k.wsize,k.wsize,0),k.wnext=0,k.whave=k.wsize):(M<(F=k.wsize-k.wnext)&&(F=M),i.arraySet(k.window,T,l-M,F,k.wnext),(M-=F)?(i.arraySet(k.window,T,l-M,M,0),k.wnext=M,k.whave=k.wsize):(k.wnext+=F,k.wnext===k.wsize&&(k.wnext=0),k.whave<k.wsize&&(k.whave+=F))),0}c.inflateReset=o,c.inflateReset2=m,c.inflateResetKeep=a,c.inflateInit=function(S){return f(S,15)},c.inflateInit2=f,c.inflate=function(S,T){var l,M,F,k,P,z,j,Q,N,X,K,$,se,ce,oe,le,de,fe,ve,be,w,q,G,D,O=0,U=new i.Buf8(4),Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return b;(l=S.state).mode===12&&(l.mode=13),P=S.next_out,F=S.output,j=S.avail_out,k=S.next_in,M=S.input,z=S.avail_in,Q=l.hold,N=l.bits,X=z,K=j,q=y;e:for(;;)switch(l.mode){case C:if(l.wrap===0){l.mode=13;break}for(;N<16;){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}if(2&l.wrap&&Q===35615){U[l.check=0]=255&Q,U[1]=Q>>>8&255,l.check=n(l.check,U,2,0),N=Q=0,l.mode=2;break}if(l.flags=0,l.head&&(l.head.done=!1),!(1&l.wrap)||(((255&Q)<<8)+(Q>>8))%31){S.msg="incorrect header check",l.mode=30;break}if((15&Q)!=8){S.msg="unknown compression method",l.mode=30;break}if(N-=4,w=8+(15&(Q>>>=4)),l.wbits===0)l.wbits=w;else if(w>l.wbits){S.msg="invalid window size",l.mode=30;break}l.dmax=1<<w,S.adler=l.check=1,l.mode=512&Q?10:12,N=Q=0;break;case 2:for(;N<16;){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}if(l.flags=Q,(255&l.flags)!=8){S.msg="unknown compression method",l.mode=30;break}if(57344&l.flags){S.msg="unknown header flags set",l.mode=30;break}l.head&&(l.head.text=Q>>8&1),512&l.flags&&(U[0]=255&Q,U[1]=Q>>>8&255,l.check=n(l.check,U,2,0)),N=Q=0,l.mode=3;case 3:for(;N<32;){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}l.head&&(l.head.time=Q),512&l.flags&&(U[0]=255&Q,U[1]=Q>>>8&255,U[2]=Q>>>16&255,U[3]=Q>>>24&255,l.check=n(l.check,U,4,0)),N=Q=0,l.mode=4;case 4:for(;N<16;){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}l.head&&(l.head.xflags=255&Q,l.head.os=Q>>8),512&l.flags&&(U[0]=255&Q,U[1]=Q>>>8&255,l.check=n(l.check,U,2,0)),N=Q=0,l.mode=5;case 5:if(1024&l.flags){for(;N<16;){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}l.length=Q,l.head&&(l.head.extra_len=Q),512&l.flags&&(U[0]=255&Q,U[1]=Q>>>8&255,l.check=n(l.check,U,2,0)),N=Q=0}else l.head&&(l.head.extra=null);l.mode=6;case 6:if(1024&l.flags&&(z<($=l.length)&&($=z),$&&(l.head&&(w=l.head.extra_len-l.length,l.head.extra||(l.head.extra=new Array(l.head.extra_len)),i.arraySet(l.head.extra,M,k,$,w)),512&l.flags&&(l.check=n(l.check,M,$,k)),z-=$,k+=$,l.length-=$),l.length))break e;l.length=0,l.mode=7;case 7:if(2048&l.flags){if(z===0)break e;for($=0;w=M[k+$++],l.head&&w&&l.length<65536&&(l.head.name+=String.fromCharCode(w)),w&&$<z;);if(512&l.flags&&(l.check=n(l.check,M,$,k)),z-=$,k+=$,w)break e}else l.head&&(l.head.name=null);l.length=0,l.mode=8;case 8:if(4096&l.flags){if(z===0)break e;for($=0;w=M[k+$++],l.head&&w&&l.length<65536&&(l.head.comment+=String.fromCharCode(w)),w&&$<z;);if(512&l.flags&&(l.check=n(l.check,M,$,k)),z-=$,k+=$,w)break e}else l.head&&(l.head.comment=null);l.mode=9;case 9:if(512&l.flags){for(;N<16;){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}if(Q!==(65535&l.check)){S.msg="header crc mismatch",l.mode=30;break}N=Q=0}l.head&&(l.head.hcrc=l.flags>>9&1,l.head.done=!0),S.adler=l.check=0,l.mode=12;break;case 10:for(;N<32;){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}S.adler=l.check=d(Q),N=Q=0,l.mode=11;case 11:if(l.havedict===0)return S.next_out=P,S.avail_out=j,S.next_in=k,S.avail_in=z,l.hold=Q,l.bits=N,2;S.adler=l.check=1,l.mode=12;case 12:if(T===5||T===6)break e;case 13:if(l.last){Q>>>=7&N,N-=7&N,l.mode=27;break}for(;N<3;){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}switch(l.last=1&Q,N-=1,3&(Q>>>=1)){case 0:l.mode=14;break;case 1:if(R(l),l.mode=20,T!==6)break;Q>>>=2,N-=2;break e;case 2:l.mode=17;break;case 3:S.msg="invalid block type",l.mode=30}Q>>>=2,N-=2;break;case 14:for(Q>>>=7&N,N-=7&N;N<32;){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}if((65535&Q)!=(Q>>>16^65535)){S.msg="invalid stored block lengths",l.mode=30;break}if(l.length=65535&Q,N=Q=0,l.mode=15,T===6)break e;case 15:l.mode=16;case 16:if($=l.length){if(z<$&&($=z),j<$&&($=j),$===0)break e;i.arraySet(F,M,k,$,P),z-=$,k+=$,j-=$,P+=$,l.length-=$;break}l.mode=12;break;case 17:for(;N<14;){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}if(l.nlen=257+(31&Q),Q>>>=5,N-=5,l.ndist=1+(31&Q),Q>>>=5,N-=5,l.ncode=4+(15&Q),Q>>>=4,N-=4,286<l.nlen||30<l.ndist){S.msg="too many length or distance symbols",l.mode=30;break}l.have=0,l.mode=18;case 18:for(;l.have<l.ncode;){for(;N<3;){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}l.lens[Z[l.have++]]=7&Q,Q>>>=3,N-=3}for(;l.have<19;)l.lens[Z[l.have++]]=0;if(l.lencode=l.lendyn,l.lenbits=7,G={bits:l.lenbits},q=h(0,l.lens,0,19,l.lencode,0,l.work,G),l.lenbits=G.bits,q){S.msg="invalid code lengths set",l.mode=30;break}l.have=0,l.mode=19;case 19:for(;l.have<l.nlen+l.ndist;){for(;le=(O=l.lencode[Q&(1<<l.lenbits)-1])>>>16&255,de=65535&O,!((oe=O>>>24)<=N);){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}if(de<16)Q>>>=oe,N-=oe,l.lens[l.have++]=de;else{if(de===16){for(D=oe+2;N<D;){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}if(Q>>>=oe,N-=oe,l.have===0){S.msg="invalid bit length repeat",l.mode=30;break}w=l.lens[l.have-1],$=3+(3&Q),Q>>>=2,N-=2}else if(de===17){for(D=oe+3;N<D;){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}N-=oe,w=0,$=3+(7&(Q>>>=oe)),Q>>>=3,N-=3}else{for(D=oe+7;N<D;){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}N-=oe,w=0,$=11+(127&(Q>>>=oe)),Q>>>=7,N-=7}if(l.have+$>l.nlen+l.ndist){S.msg="invalid bit length repeat",l.mode=30;break}for(;$--;)l.lens[l.have++]=w}}if(l.mode===30)break;if(l.lens[256]===0){S.msg="invalid code -- missing end-of-block",l.mode=30;break}if(l.lenbits=9,G={bits:l.lenbits},q=h(_,l.lens,0,l.nlen,l.lencode,0,l.work,G),l.lenbits=G.bits,q){S.msg="invalid literal/lengths set",l.mode=30;break}if(l.distbits=6,l.distcode=l.distdyn,G={bits:l.distbits},q=h(v,l.lens,l.nlen,l.ndist,l.distcode,0,l.work,G),l.distbits=G.bits,q){S.msg="invalid distances set",l.mode=30;break}if(l.mode=20,T===6)break e;case 20:l.mode=21;case 21:if(6<=z&&258<=j){S.next_out=P,S.avail_out=j,S.next_in=k,S.avail_in=z,l.hold=Q,l.bits=N,u(S,K),P=S.next_out,F=S.output,j=S.avail_out,k=S.next_in,M=S.input,z=S.avail_in,Q=l.hold,N=l.bits,l.mode===12&&(l.back=-1);break}for(l.back=0;le=(O=l.lencode[Q&(1<<l.lenbits)-1])>>>16&255,de=65535&O,!((oe=O>>>24)<=N);){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}if(le&&!(240&le)){for(fe=oe,ve=le,be=de;le=(O=l.lencode[be+((Q&(1<<fe+ve)-1)>>fe)])>>>16&255,de=65535&O,!(fe+(oe=O>>>24)<=N);){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}Q>>>=fe,N-=fe,l.back+=fe}if(Q>>>=oe,N-=oe,l.back+=oe,l.length=de,le===0){l.mode=26;break}if(32&le){l.back=-1,l.mode=12;break}if(64&le){S.msg="invalid literal/length code",l.mode=30;break}l.extra=15&le,l.mode=22;case 22:if(l.extra){for(D=l.extra;N<D;){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}l.length+=Q&(1<<l.extra)-1,Q>>>=l.extra,N-=l.extra,l.back+=l.extra}l.was=l.length,l.mode=23;case 23:for(;le=(O=l.distcode[Q&(1<<l.distbits)-1])>>>16&255,de=65535&O,!((oe=O>>>24)<=N);){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}if(!(240&le)){for(fe=oe,ve=le,be=de;le=(O=l.distcode[be+((Q&(1<<fe+ve)-1)>>fe)])>>>16&255,de=65535&O,!(fe+(oe=O>>>24)<=N);){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}Q>>>=fe,N-=fe,l.back+=fe}if(Q>>>=oe,N-=oe,l.back+=oe,64&le){S.msg="invalid distance code",l.mode=30;break}l.offset=de,l.extra=15&le,l.mode=24;case 24:if(l.extra){for(D=l.extra;N<D;){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}l.offset+=Q&(1<<l.extra)-1,Q>>>=l.extra,N-=l.extra,l.back+=l.extra}if(l.offset>l.dmax){S.msg="invalid distance too far back",l.mode=30;break}l.mode=25;case 25:if(j===0)break e;if($=K-j,l.offset>$){if(($=l.offset-$)>l.whave&&l.sane){S.msg="invalid distance too far back",l.mode=30;break}se=$>l.wnext?($-=l.wnext,l.wsize-$):l.wnext-$,$>l.length&&($=l.length),ce=l.window}else ce=F,se=P-l.offset,$=l.length;for(j<$&&($=j),j-=$,l.length-=$;F[P++]=ce[se++],--$;);l.length===0&&(l.mode=21);break;case 26:if(j===0)break e;F[P++]=l.length,j--,l.mode=21;break;case 27:if(l.wrap){for(;N<32;){if(z===0)break e;z--,Q|=M[k++]<<N,N+=8}if(K-=j,S.total_out+=K,l.total+=K,K&&(S.adler=l.check=l.flags?n(l.check,F,K,P-K):p(l.check,F,K,P-K)),K=j,(l.flags?Q:d(Q))!==l.check){S.msg="incorrect data check",l.mode=30;break}N=Q=0}l.mode=28;case 28:if(l.wrap&&l.flags){for(;N<32;){if(z===0)break e;z--,Q+=M[k++]<<N,N+=8}if(Q!==(4294967295&l.total)){S.msg="incorrect length check",l.mode=30;break}N=Q=0}l.mode=29;case 29:q=1;break e;case 30:q=-3;break e;case 31:return-4;case 32:default:return b}return S.next_out=P,S.avail_out=j,S.next_in=k,S.avail_in=z,l.hold=Q,l.bits=N,(l.wsize||K!==S.avail_out&&l.mode<30&&(l.mode<27||T!==4))&&L(S,S.output,S.next_out,K-S.avail_out)?(l.mode=31,-4):(X-=S.avail_in,K-=S.avail_out,S.total_in+=X,S.total_out+=K,l.total+=K,l.wrap&&K&&(S.adler=l.check=l.flags?n(l.check,F,K,S.next_out-K):p(l.check,F,K,S.next_out-K)),S.data_type=l.bits+(l.last?64:0)+(l.mode===12?128:0)+(l.mode===20||l.mode===15?256:0),(X==0&&K===0||T===4)&&q===y&&(q=-5),q)},c.inflateEnd=function(S){if(!S||!S.state)return b;var T=S.state;return T.window&&(T.window=null),S.state=null,y},c.inflateGetHeader=function(S,T){var l;return S&&S.state&&2&(l=S.state).wrap?((l.head=T).done=!1,y):b},c.inflateSetDictionary=function(S,T){var l,M=T.length;return S&&S.state?(l=S.state).wrap!==0&&l.mode!==11?b:l.mode===11&&p(1,T,M,0)!==l.check?-3:L(S,T,M,M)?(l.mode=31,-4):(l.havedict=1,y):b},c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,s,c){var i=t("../utils/common"),p=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],n=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(_,v,y,b,C,g,E,d){var A,a,o,m,f,x,B,I,R,L=d.bits,S=0,T=0,l=0,M=0,F=0,k=0,P=0,z=0,j=0,Q=0,N=null,X=0,K=new i.Buf16(16),$=new i.Buf16(16),se=null,ce=0;for(S=0;S<=15;S++)K[S]=0;for(T=0;T<b;T++)K[v[y+T]]++;for(F=L,M=15;1<=M&&K[M]===0;M--);if(M<F&&(F=M),M===0)return C[g++]=20971520,C[g++]=20971520,d.bits=1,0;for(l=1;l<M&&K[l]===0;l++);for(F<l&&(F=l),S=z=1;S<=15;S++)if(z<<=1,(z-=K[S])<0)return-1;if(0<z&&(_===0||M!==1))return-1;for($[1]=0,S=1;S<15;S++)$[S+1]=$[S]+K[S];for(T=0;T<b;T++)v[y+T]!==0&&(E[$[v[y+T]]++]=T);if(x=_===0?(N=se=E,19):_===1?(N=p,X-=257,se=n,ce-=257,256):(N=u,se=h,-1),S=l,f=g,P=T=Q=0,o=-1,m=(j=1<<(k=F))-1,_===1&&852<j||_===2&&592<j)return 1;for(;;){for(B=S-P,R=E[T]<x?(I=0,E[T]):E[T]>x?(I=se[ce+E[T]],N[X+E[T]]):(I=96,0),A=1<<S-P,l=a=1<<k;C[f+(Q>>P)+(a-=A)]=B<<24|I<<16|R|0,a!==0;);for(A=1<<S-1;Q&A;)A>>=1;if(A!==0?(Q&=A-1,Q+=A):Q=0,T++,--K[S]==0){if(S===M)break;S=v[y+E[T]]}if(F<S&&(Q&m)!==o){for(P===0&&(P=F),f+=l,z=1<<(k=S-P);k+P<M&&!((z-=K[k+P])<=0);)k++,z<<=1;if(j+=1<<k,_===1&&852<j||_===2&&592<j)return 1;C[o=Q&m]=F<<24|k<<16|f-g|0}}return Q!==0&&(C[f+Q]=S-P<<24|64<<16|0),d.bits=F,0}},{"../utils/common":41}],51:[function(t,s,c){s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,s,c){var i=t("../utils/common"),p=0,n=1;function u(O){for(var U=O.length;0<=--U;)O[U]=0}var h=0,_=29,v=256,y=v+1+_,b=30,C=19,g=2*y+1,E=15,d=16,A=7,a=256,o=16,m=17,f=18,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(2*(y+2));u(L);var S=new Array(2*b);u(S);var T=new Array(512);u(T);var l=new Array(256);u(l);var M=new Array(_);u(M);var F,k,P,z=new Array(b);function j(O,U,Z,J,W){this.static_tree=O,this.extra_bits=U,this.extra_base=Z,this.elems=J,this.max_length=W,this.has_stree=O&&O.length}function Q(O,U){this.dyn_tree=O,this.max_code=0,this.stat_desc=U}function N(O){return O<256?T[O]:T[256+(O>>>7)]}function X(O,U){O.pending_buf[O.pending++]=255&U,O.pending_buf[O.pending++]=U>>>8&255}function K(O,U,Z){O.bi_valid>d-Z?(O.bi_buf|=U<<O.bi_valid&65535,X(O,O.bi_buf),O.bi_buf=U>>d-O.bi_valid,O.bi_valid+=Z-d):(O.bi_buf|=U<<O.bi_valid&65535,O.bi_valid+=Z)}function $(O,U,Z){K(O,Z[2*U],Z[2*U+1])}function se(O,U){for(var Z=0;Z|=1&O,O>>>=1,Z<<=1,0<--U;);return Z>>>1}function ce(O,U,Z){var J,W,ee=new Array(E+1),H=0;for(J=1;J<=E;J++)ee[J]=H=H+Z[J-1]<<1;for(W=0;W<=U;W++){var Y=O[2*W+1];Y!==0&&(O[2*W]=se(ee[Y]++,Y))}}function oe(O){var U;for(U=0;U<y;U++)O.dyn_ltree[2*U]=0;for(U=0;U<b;U++)O.dyn_dtree[2*U]=0;for(U=0;U<C;U++)O.bl_tree[2*U]=0;O.dyn_ltree[2*a]=1,O.opt_len=O.static_len=0,O.last_lit=O.matches=0}function le(O){8<O.bi_valid?X(O,O.bi_buf):0<O.bi_valid&&(O.pending_buf[O.pending++]=O.bi_buf),O.bi_buf=0,O.bi_valid=0}function de(O,U,Z,J){var W=2*U,ee=2*Z;return O[W]<O[ee]||O[W]===O[ee]&&J[U]<=J[Z]}function fe(O,U,Z){for(var J=O.heap[Z],W=Z<<1;W<=O.heap_len&&(W<O.heap_len&&de(U,O.heap[W+1],O.heap[W],O.depth)&&W++,!de(U,J,O.heap[W],O.depth));)O.heap[Z]=O.heap[W],Z=W,W<<=1;O.heap[Z]=J}function ve(O,U,Z){var J,W,ee,H,Y=0;if(O.last_lit!==0)for(;J=O.pending_buf[O.d_buf+2*Y]<<8|O.pending_buf[O.d_buf+2*Y+1],W=O.pending_buf[O.l_buf+Y],Y++,J===0?$(O,W,U):($(O,(ee=l[W])+v+1,U),(H=x[ee])!==0&&K(O,W-=M[ee],H),$(O,ee=N(--J),Z),(H=B[ee])!==0&&K(O,J-=z[ee],H)),Y<O.last_lit;);$(O,a,U)}function be(O,U){var Z,J,W,ee=U.dyn_tree,H=U.stat_desc.static_tree,Y=U.stat_desc.has_stree,te=U.stat_desc.elems,ie=-1;for(O.heap_len=0,O.heap_max=g,Z=0;Z<te;Z++)ee[2*Z]!==0?(O.heap[++O.heap_len]=ie=Z,O.depth[Z]=0):ee[2*Z+1]=0;for(;O.heap_len<2;)ee[2*(W=O.heap[++O.heap_len]=ie<2?++ie:0)]=1,O.depth[W]=0,O.opt_len--,Y&&(O.static_len-=H[2*W+1]);for(U.max_code=ie,Z=O.heap_len>>1;1<=Z;Z--)fe(O,ee,Z);for(W=te;Z=O.heap[1],O.heap[1]=O.heap[O.heap_len--],fe(O,ee,1),J=O.heap[1],O.heap[--O.heap_max]=Z,O.heap[--O.heap_max]=J,ee[2*W]=ee[2*Z]+ee[2*J],O.depth[W]=(O.depth[Z]>=O.depth[J]?O.depth[Z]:O.depth[J])+1,ee[2*Z+1]=ee[2*J+1]=W,O.heap[1]=W++,fe(O,ee,1),2<=O.heap_len;);O.heap[--O.heap_max]=O.heap[1],function(ne,ge){var xe,we,Te,he,ze,je,_e=ge.dyn_tree,Je=ge.max_code,ut=ge.stat_desc.static_tree,jt=ge.stat_desc.has_stree,In=ge.stat_desc.extra_bits,br=ge.stat_desc.extra_base,ct=ge.stat_desc.max_length,Ct=0;for(he=0;he<=E;he++)ne.bl_count[he]=0;for(_e[2*ne.heap[ne.heap_max]+1]=0,xe=ne.heap_max+1;xe<g;xe++)ct<(he=_e[2*_e[2*(we=ne.heap[xe])+1]+1]+1)&&(he=ct,Ct++),_e[2*we+1]=he,Je<we||(ne.bl_count[he]++,ze=0,br<=we&&(ze=In[we-br]),je=_e[2*we],ne.opt_len+=je*(he+ze),jt&&(ne.static_len+=je*(ut[2*we+1]+ze)));if(Ct!==0){do{for(he=ct-1;ne.bl_count[he]===0;)he--;ne.bl_count[he]--,ne.bl_count[he+1]+=2,ne.bl_count[ct]--,Ct-=2}while(0<Ct);for(he=ct;he!==0;he--)for(we=ne.bl_count[he];we!==0;)Je<(Te=ne.heap[--xe])||(_e[2*Te+1]!==he&&(ne.opt_len+=(he-_e[2*Te+1])*_e[2*Te],_e[2*Te+1]=he),we--)}}(O,U),ce(ee,ie,O.bl_count)}function w(O,U,Z){var J,W,ee=-1,H=U[1],Y=0,te=7,ie=4;for(H===0&&(te=138,ie=3),U[2*(Z+1)+1]=65535,J=0;J<=Z;J++)W=H,H=U[2*(J+1)+1],++Y<te&&W===H||(Y<ie?O.bl_tree[2*W]+=Y:W!==0?(W!==ee&&O.bl_tree[2*W]++,O.bl_tree[2*o]++):Y<=10?O.bl_tree[2*m]++:O.bl_tree[2*f]++,ee=W,ie=(Y=0)===H?(te=138,3):W===H?(te=6,3):(te=7,4))}function q(O,U,Z){var J,W,ee=-1,H=U[1],Y=0,te=7,ie=4;for(H===0&&(te=138,ie=3),J=0;J<=Z;J++)if(W=H,H=U[2*(J+1)+1],!(++Y<te&&W===H)){if(Y<ie)for(;$(O,W,O.bl_tree),--Y!=0;);else W!==0?(W!==ee&&($(O,W,O.bl_tree),Y--),$(O,o,O.bl_tree),K(O,Y-3,2)):Y<=10?($(O,m,O.bl_tree),K(O,Y-3,3)):($(O,f,O.bl_tree),K(O,Y-11,7));ee=W,ie=(Y=0)===H?(te=138,3):W===H?(te=6,3):(te=7,4)}}u(z);var G=!1;function D(O,U,Z,J){K(O,(h<<1)+(J?1:0),3),function(W,ee,H,Y){le(W),Y&&(X(W,H),X(W,~H)),i.arraySet(W.pending_buf,W.window,ee,H,W.pending),W.pending+=H}(O,U,Z,!0)}c._tr_init=function(O){G||(function(){var U,Z,J,W,ee,H=new Array(E+1);for(W=J=0;W<_-1;W++)for(M[W]=J,U=0;U<1<<x[W];U++)l[J++]=W;for(l[J-1]=W,W=ee=0;W<16;W++)for(z[W]=ee,U=0;U<1<<B[W];U++)T[ee++]=W;for(ee>>=7;W<b;W++)for(z[W]=ee<<7,U=0;U<1<<B[W]-7;U++)T[256+ee++]=W;for(Z=0;Z<=E;Z++)H[Z]=0;for(U=0;U<=143;)L[2*U+1]=8,U++,H[8]++;for(;U<=255;)L[2*U+1]=9,U++,H[9]++;for(;U<=279;)L[2*U+1]=7,U++,H[7]++;for(;U<=287;)L[2*U+1]=8,U++,H[8]++;for(ce(L,y+1,H),U=0;U<b;U++)S[2*U+1]=5,S[2*U]=se(U,5);F=new j(L,x,v+1,y,E),k=new j(S,B,0,b,E),P=new j(new Array(0),I,0,C,A)}(),G=!0),O.l_desc=new Q(O.dyn_ltree,F),O.d_desc=new Q(O.dyn_dtree,k),O.bl_desc=new Q(O.bl_tree,P),O.bi_buf=0,O.bi_valid=0,oe(O)},c._tr_stored_block=D,c._tr_flush_block=function(O,U,Z,J){var W,ee,H=0;0<O.level?(O.strm.data_type===2&&(O.strm.data_type=function(Y){var te,ie=4093624447;for(te=0;te<=31;te++,ie>>>=1)if(1&ie&&Y.dyn_ltree[2*te]!==0)return p;if(Y.dyn_ltree[18]!==0||Y.dyn_ltree[20]!==0||Y.dyn_ltree[26]!==0)return n;for(te=32;te<v;te++)if(Y.dyn_ltree[2*te]!==0)return n;return p}(O)),be(O,O.l_desc),be(O,O.d_desc),H=function(Y){var te;for(w(Y,Y.dyn_ltree,Y.l_desc.max_code),w(Y,Y.dyn_dtree,Y.d_desc.max_code),be(Y,Y.bl_desc),te=C-1;3<=te&&Y.bl_tree[2*R[te]+1]===0;te--);return Y.opt_len+=3*(te+1)+5+5+4,te}(O),W=O.opt_len+3+7>>>3,(ee=O.static_len+3+7>>>3)<=W&&(W=ee)):W=ee=Z+5,Z+4<=W&&U!==-1?D(O,U,Z,J):O.strategy===4||ee===W?(K(O,2+(J?1:0),3),ve(O,L,S)):(K(O,4+(J?1:0),3),function(Y,te,ie,ne){var ge;for(K(Y,te-257,5),K(Y,ie-1,5),K(Y,ne-4,4),ge=0;ge<ne;ge++)K(Y,Y.bl_tree[2*R[ge]+1],3);q(Y,Y.dyn_ltree,te-1),q(Y,Y.dyn_dtree,ie-1)}(O,O.l_desc.max_code+1,O.d_desc.max_code+1,H+1),ve(O,O.dyn_ltree,O.dyn_dtree)),oe(O),J&&le(O)},c._tr_tally=function(O,U,Z){return O.pending_buf[O.d_buf+2*O.last_lit]=U>>>8&255,O.pending_buf[O.d_buf+2*O.last_lit+1]=255&U,O.pending_buf[O.l_buf+O.last_lit]=255&Z,O.last_lit++,U===0?O.dyn_ltree[2*Z]++:(O.matches++,U--,O.dyn_ltree[2*(l[Z]+v+1)]++,O.dyn_dtree[2*N(U)]++),O.last_lit===O.lit_bufsize-1},c._tr_align=function(O){K(O,2,3),$(O,a,L),function(U){U.bi_valid===16?(X(U,U.bi_buf),U.bi_buf=0,U.bi_valid=0):8<=U.bi_valid&&(U.pending_buf[U.pending++]=255&U.bi_buf,U.bi_buf>>=8,U.bi_valid-=8)}(O)}},{"../utils/common":41}],53:[function(t,s,c){s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,s,c){(function(i){(function(p,n){if(!p.setImmediate){var u,h,_,v,y=1,b={},C=!1,g=p.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(p);E=E&&E.setTimeout?E:p,u={}.toString.call(p.process)==="[object process]"?function(o){process.nextTick(function(){A(o)})}:function(){if(p.postMessage&&!p.importScripts){var o=!0,m=p.onmessage;return p.onmessage=function(){o=!1},p.postMessage("","*"),p.onmessage=m,o}}()?(v="setImmediate$"+Math.random()+"$",p.addEventListener?p.addEventListener("message",a,!1):p.attachEvent("onmessage",a),function(o){p.postMessage(v+o,"*")}):p.MessageChannel?((_=new MessageChannel).port1.onmessage=function(o){A(o.data)},function(o){_.port2.postMessage(o)}):g&&"onreadystatechange"in g.createElement("script")?(h=g.documentElement,function(o){var m=g.createElement("script");m.onreadystatechange=function(){A(o),m.onreadystatechange=null,h.removeChild(m),m=null},h.appendChild(m)}):function(o){setTimeout(A,0,o)},E.setImmediate=function(o){typeof o!="function"&&(o=new Function(""+o));for(var m=new Array(arguments.length-1),f=0;f<m.length;f++)m[f]=arguments[f+1];var x={callback:o,args:m};return b[y]=x,u(y),y++},E.clearImmediate=d}function d(o){delete b[o]}function A(o){if(C)setTimeout(A,0,o);else{var m=b[o];if(m){C=!0;try{(function(f){var x=f.callback,B=f.args;switch(B.length){case 0:x();break;case 1:x(B[0]);break;case 2:x(B[0],B[1]);break;case 3:x(B[0],B[1],B[2]);break;default:x.apply(n,B)}})(m)}finally{d(o),C=!1}}}}function a(o){o.source===p&&typeof o.data=="string"&&o.data.indexOf(v)===0&&A(+o.data.slice(v.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Pe<"u"?Pe:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(No);const Vr=cr,Qo=700*1024*1024,Vo=async(e,r="encrypted-images",t=Qo)=>{let s=0,c=0,i=new Vr;for(let n=0;n<e.length;n++){const u=e[n];if(u.size>t||e.length===1){tt.saveAs(u,u.name);continue}if(s+u.size>t){const h=await i.generateAsync({type:"blob"}),_=c?`${r}(${c})`:r;tt.saveAs(h,`${_}.zip`),i=new Vr,s=0,c++}i.file(u.name,u),s+=u.size}const p=await i.generateAsync({type:"blob"});if(Object.keys(i.files).length>0){const n=c?`${r}(${c})`:r;tt.saveAs(p,`${n}.zip`)}};export{Wo as B,Go as C,$o as I,jo as L,Zo as P,So as S,Ko as T,qo as U,co as a,Bo as b,Ho as c,Jo as d,gt as f,Yo as g,Vo as m,Xo as s};
